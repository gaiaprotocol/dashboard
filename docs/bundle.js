(()=>{"use strict";var t,e,s,i,n,r,o,h={44:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".warning","0 -960 960 960",'<path d="m40-120 440-760 440 760H40Zm138-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm-40-120h80v-200h-80v200Zm40-100Z"/>')}}i()}catch(t){i(t)}}))},53:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".folder-expanded","0 -960 960 960",'<path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/>')}}i()}catch(t){i(t)}}))},59:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(7357),r=t([i,n]);[i,n]=r.then?(await r)():r;i.vs;e()}catch(t){e(t)}}))},85:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},102:(t,e,s)=>{s.d(e,{A:()=>i});class i{eventListeners=new Map;container;changeData(t){}addViewManagedEvent(t,e,s){this.eventListeners.has(t)||this.eventListeners.set(t,new Map);return this.eventListeners.get(t).set(e,s),t.on(e,s),this}removeAllEvents(){for(const[t,e]of this.eventListeners)for(const[s,i]of e)t.off(s,i);this.eventListeners.clear()}close(){this.removeAllEvents(),this.container.remove()}}},155:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".bold","0 -960 960 960",'<path d="M272-200v-560h221q65 0 120 40t55 111q0 51-23 78.5T602-491q25 11 55.5 41t30.5 90q0 89-65 124.5T501-200H272Zm121-112h104q48 0 58.5-24.5T566-372q0-11-10.5-35.5T494-432H393v120Zm0-228h93q33 0 48-17t15-38q0-24-17-39t-44-15h-95v109Z"/>')}}i()}catch(t){i(t)}}))},229:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>l});var n=s(5321),r=s(1911),o=s(9854),h=s(3631),a=t([n]);n=(a.then?(await a)():a)[0];class l extends r.QE{supabaseUrl;supabaseKey;authTokenManager;client;store;sessionUser;constructor(t,e,s){super(),this.supabaseUrl=t,this.supabaseKey=e,this.authTokenManager=s;const i=new URL(t).hostname.split(".")[0];this.store=new n.il(`supabase-connector-${i}`),this.sessionUser=this.store.get("sessionUser"),this.reconnect(),s?.on("tokenChanged",(()=>this.reconnect()))}reconnect(){this.client?.removeAllChannels(),this.client=(0,o.UU)(this.supabaseUrl,this.supabaseKey,{auth:{autoRefreshToken:!0,persistSession:!0},...this.authTokenManager?.token?{global:{headers:{Authorization:`Bearer ${this.authTokenManager.token}`}}}:{}}),this.client.auth.onAuthStateChange(((t,e)=>{const s=e?.user;r.BF.isEqual(s,this.sessionUser)||(s?(this.store.setPermanent("sessionUser",e.user),this.sessionUser=e.user,this.emit("sessionUserChanged",e.user)):(this.store.remove("sessionUser"),this.sessionUser&&(this.sessionUser=void 0,this.emit("sessionUserChanged",void 0))))}))}async signInWithOAuth(t,e){await this.client.auth.signInWithOAuth({provider:t,options:{scopes:e?.join(" "),redirectTo:window.location.origin}})}async signOut(){this.store.remove("sessionUser"),this.sessionUser=void 0,this.emit("sessionUserChanged",void 0),await this.client.auth.signOut()}get isSignedIn(){return!!this.sessionUser}get signedUserId(){return this.sessionUser?.id}async checkInvalidJwtError(t){if(this.authTokenManager&&t.context?.body)try{const e=new Response(t.context.body),s=await e.json();401===s.code&&"Invalid JWT"===s.message&&(this.authTokenManager.token=void 0)}catch(t){console.error("Error parsing response body",t)}}async callEdgeFunction(t,e){const{data:s,error:i}=await this.client.functions.invoke(t,{body:e});if(i)throw await this.checkInvalidJwtError(i),i;return h.A.safeResult(s)}async callDbFunction(t,e){const{data:s,error:i}=await this.client.rpc(t,e);if(i)throw await this.checkInvalidJwtError(i),i;return h.A.safeResult(s)}async safeFetch(t,e){const{data:s,error:i}=await e(this.client.from(t));if(i)throw await this.checkInvalidJwtError(i),i;return h.A.safeResult(s)}async safeFetchSingle(t,e){const{data:s,error:i}=await e(this.client.from(t)).maybeSingle();if(i)throw await this.checkInvalidJwtError(i),i;return s?h.A.safeResult(s):void 0}async safeStore(t,e){const{error:s}=await e(this.client.from(t));if(s)throw await this.checkInvalidJwtError(s),s}subscribeToBroadcast(t,e){const s=this.client.channel(t);for(const[t,i]of Object.entries(e))s.on("broadcast",{event:t},(t=>i(t.payload)));return s.subscribe(),s}subscribeToPresence(t,e,s){const i=this.client.channel(t);return i.on("presence",{event:"sync"},(()=>e.onSync(i.presenceState()))),e.onJoin&&i.on("presence",{event:"join"},(({key:t,newPresences:s})=>e.onJoin(t,s))),e.onLeave&&i.on("presence",{event:"leave"},(({key:t,leftPresences:s})=>e.onLeave(t,s))),i.subscribe((async(t,e)=>{"SUBSCRIBED"===t&&await i.track(s),e&&console.error(t,e)})),i}subscribeToDataChanges(t,e){return this.client.channel(t).on("postgres_changes",{event:"*",schema:"public",table:e.table,filter:e.filter},(t=>{"INSERT"===t.eventType?e.onInsert?.(t.new):"UPDATE"===t.eventType?e.onUpdate?.(t.new):"DELETE"===t.eventType&&e.onDelete?.(t.old)})).subscribe(((t,s)=>{"SUBSCRIBED"===t&&e.onSubscribe(),s&&console.error(t,s)}))}}i()}catch(t){i(t)}}))},375:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},716:(t,e,s)=>{function i(t,...e){return i.impl(t,...e)}function n(t){return n.impl(t)}s.d(e,{A:()=>o}),i.impl=(t,...e)=>{throw new Error("Not implemented")},n.impl=t=>{throw new Error("Not implemented")};var r=s(5364);function o(t,...e){return new r.A(t,...e)}i.impl=o,n.impl=t=>{const e=(new DOMParser).parseFromString(t,"text/html");return new r.A(e.body.firstChild)}},1068:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".x","0 0 17 17",'<g clip-path="url(#a)"><path fill="currentColor" d="M13.158 2.058h2.248l-4.913 5.435 5.78 7.395h-4.525l-3.545-4.485-4.056 4.485h-2.25l5.255-5.813-5.545-7.017h4.64l3.205 4.1 3.706-4.1Zm-.79 11.527h1.246L5.57 3.293H4.233l8.135 10.292Z"></path></g>')}}i()}catch(t){i(t)}}))},1164:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(3667),r=s(1468),o=t([i,n,r]);[i,n,r]=o.then?(await o)():o;i.vs;e()}catch(t){e(t)}}))},1186:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".error","0 -960 960 960",'<path d="M480-280q17 0 28.5-11.5T520-320q0-17-11.5-28.5T480-360q-17 0-28.5 11.5T440-320q0 17 11.5 28.5T480-280Zm-40-160h80v-240h-80v240Zm40 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/>')}}i()}catch(t){i(t)}}))},1205:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostgrestError=e.PostgrestBuilder=e.PostgrestTransformBuilder=e.PostgrestFilterBuilder=e.PostgrestQueryBuilder=e.PostgrestClient=void 0;const n=i(s(2535));e.PostgrestClient=n.default;const r=i(s(5111));e.PostgrestQueryBuilder=r.default;const o=i(s(3987));e.PostgrestFilterBuilder=o.default;const h=i(s(6315));e.PostgrestTransformBuilder=h.default;const a=i(s(5601));e.PostgrestBuilder=a.default;const l=i(s(6860));e.PostgrestError=l.default,e.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:h.default,PostgrestBuilder:a.default,PostgrestError:l.default}},1238:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{message;contentDisplay;constructor(t){super("li.chat-content-list-item"+(t.isTemp?".temp":"")),this.message=t,this.append(this.contentDisplay=(0,n.el)(".content")),t.content&&(this.contentDisplay.text=t.content)}getMessageId(){return this.message.id}updateMessage(t){this.message=t,this.contentDisplay.text=t.content,t.isTemp?this.addClass("temp"):this.removeClass("temp")}addChunk(t){this.contentDisplay.append(t)}}i()}catch(t){i(t)}}))},1250:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},1276:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},1288:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(t){super("a.dropdown-menu-item"),this.append(t.icon,t.label),this.onDom("click",(()=>t.onClick()))}}i()}catch(t){i(t)}}))},1303:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},1325:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},1327:(t,e,s)=>{var i=s(5364);i.A},1441:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},1468:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a});var n=s(5321),r=s(9243),o=s(3667),h=t([n,r,o]);[n,r,o]=h.then?(await h)():h;class a extends n.vs{tree;data;expanded=!1;main;folderToggleIconContainer;iconContainer;nameContainer;childrenContainer;constructor(t,e){if(super("li.file-tree-node"),this.tree=t,this.data=e,this.append(this.main=(0,n.el)("main","directory"===e.type?this.folderToggleIconContainer=(0,n.el)(".icon-container",new r.A.FolderCollapsedIcon):void 0,e.icon?this.iconContainer=(0,n.el)(".icon-container",e.icon.clone()):void 0,this.nameContainer=(0,n.el)(".name",...Array.isArray(e.name)?e.name:[e.name]))),this.main.onDom("click",(()=>this.select())),"directory"===e.type){this.childrenContainer=new n.vs("ul.children-container").appendTo(this);const t=[...e.children];this.tree.options.sortByName&&t.sort(((t,e)=>t.name.localeCompare(e.name)));for(const e of t)this.add(e);this.tree.isAlwaysExpanded()?this.expand():this.main.onDom("click",(()=>this.expanded?this.collapse():this.expand()))}this.tree.options.openContextMenu&&n.ED.enhanceWithContextMenu(this.main,(t=>{this.tree.options.openContextMenu?.(t.clientX,t.clientY,this.data.id)}))}select(){this.tree.nodeSelected(this.data.id)}getName(){return this.data.name}expand(){this.expanded=!0,this.addClass("expanded"),this.folderToggleIconContainer?.clear().append(new r.A.FolderExpandedIcon)}collapse(){this.expanded=!1,this.removeClass("expanded"),this.folderToggleIconContainer?.clear().append(new r.A.FolderCollapsedIcon)}add(t){if("directory"!==this.data.type)throw new Error("Cannot add child to a file node");const e=new a(this.tree,t);if(this.tree.registerNode(t.id,e),this.tree.options.sortByName){const t=this.childrenContainer.children;let s=!1;for(let i=0;i<t.length;i++){const n=t[i];if(e.getName().localeCompare(n.getName())<0){e.appendTo(this.childrenContainer,i),s=!0;break}}s||e.appendTo(this.childrenContainer)}else e.appendTo(this.childrenContainer)}createFileNameInput(){this.expand(),new o.A((t=>this.tree.nodeCreated(this.data.id,t))).appendTo(this)}}i()}catch(t){i(t)}}))},1477:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},1569:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>d});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(t){super(".avatar","👤")}}class h extends n.vs{constructor(){super("span.icon.edit","✏️")}}class a extends n.vs{constructor(){super("span.icon.delete","❌")}}class l extends n.vs{constructor(){super("span.icon.send-message","⬆️")}}class c extends n.vs{constructor(){super("span.icon.logout","🚪")}}class u{Avatar=o;LogoutIcon=c;EditMenuIcon=h;DeleteMenuIcon=a;SendMessageButtonIcon=l;login=()=>{throw new Error("Not implemented")};showUserInfo=t=>{throw new Error("Not implemented")};fetchUser=async()=>{throw new Error("Not implemented")};fetchBulkUsers=async()=>{throw new Error("Not implemented")};goLoggedInUserProfile=t=>{throw new Error("Not implemented")};getLoggedInUserMenu=(t,e)=>{throw new Error("Not implemented")}}const d=new u;i()}catch(t){i(t)}}))},1650:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a});var n=s(5321),r=s(3501),o=s(2836),h=t([n,r,o]);[n,r,o]=h.then?(await h)():h;class a extends n.vs{gap;buttonWidth;maxVisibleButtons;buttonContainer;moreButton;constructor(){super(".rich-text-editor"),this.append((0,n.el)(".toolbar",this.buttonContainer=(0,n.el)(".button-container"),this.moreButton=new r.$n(".more-button",{type:r.VQ.Icon,icon:new o.A.MoreIcon,onClick:(t,e)=>{e.preventDefault(),e.stopPropagation(),this.openMoreMenu(e.clientX,e.clientY)}})),(0,n.el)(".editor-area",{contentEditable:"true"})),this.on("visible",(()=>this.updateToolbar())),this.onWindow("resize",(()=>this.updateToolbar()))}createToolbarButton(t,e){return 0===e?new t({type:r.VQ.Icon,icon:new o.A.BoldIcon,onClick:()=>document.execCommand("bold")}):1===e?new t({type:r.VQ.Icon,icon:new o.A.ItalicIcon,onClick:()=>document.execCommand("italic")}):2===e?new t({type:r.VQ.Icon,icon:new o.A.StrikethroughIcon,onClick:()=>document.execCommand("strikethrough")}):3===e?new t({type:r.VQ.Icon,icon:new o.A.HeadingIcon,onClick:()=>document.execCommand("formatBlock",!1,"h1")}):4===e?new t({type:r.VQ.Icon,icon:new o.A.LinkIcon,onClick:()=>{}}):5===e?new t({type:r.VQ.Icon,icon:new o.A.BulletListIcon,onClick:()=>document.execCommand("insertUnorderedList")}):6===e?new t({type:r.VQ.Icon,icon:new o.A.NumberListIcon,onClick:()=>document.execCommand("insertOrderedList")}):7===e?new t({type:r.VQ.Icon,icon:new o.A.QuoteBlockIcon,onClick:()=>document.execCommand("formatBlock",!1,"blockquote")}):8===e?new t({type:r.VQ.Icon,icon:new o.A.CodeIcon,onClick:()=>{const t=window.getSelection(),e=`<code>${t&&t.toString()?t.toString():""}</code>`;document.execCommand("insertHTML",!1,e)}}):9===e?new t({type:r.VQ.Icon,icon:new o.A.CodeBlockIcon,onClick:()=>{const t=window.getSelection(),e=`<pre><code>${t&&t.toString()?t.toString():""}</code></pre>`;document.execCommand("insertHTML",!1,e)}}):10===e?new t({type:r.VQ.Icon,icon:new o.A.TableIcon,onClick:()=>{document.execCommand("insertHTML",!1,'<table border="1" style="border-collapse: collapse;">\n  <tr>\n    <th>Header 1</th>\n    <th>Header 2</th>\n  </tr>\n  <tr>\n    <td>Data 1</td>\n    <td>Data 2</td>\n  </tr>\n</table>')}}):11===e?new t({type:r.VQ.Icon,icon:new o.A.ImageIcon,onClick:()=>{}}):12===e?new t({type:r.VQ.Icon,icon:new o.A.YouTubeIcon,onClick:()=>{}}):void 0}updateToolbar(){void 0===this.gap&&(this.gap=parseInt(window.getComputedStyle(this.buttonContainer.htmlElement).columnGap)),void 0===this.buttonWidth&&(this.buttonWidth=this.moreButton.calculateRect().width),this.moreButton.addClass("hidden");const t=this.buttonContainer.calculateRect().width;this.maxVisibleButtons=Math.floor(t/(this.buttonWidth+this.gap)),this.maxVisibleButtons<13&&(this.maxVisibleButtons=Math.floor((t-this.buttonWidth)/(this.buttonWidth+this.gap))),this.buttonContainer.clear();for(let t=0;t<this.maxVisibleButtons;t+=1)this.buttonContainer.append(this.createToolbarButton(r.$n,t));this.maxVisibleButtons<13?this.moreButton.removeClass("hidden"):this.moreButton.addClass("hidden")}openMoreMenu(t,e){const s=new r.rI(".rich-text-editor-more-menu",{left:t,top:e}),i=new r.I;for(let t=this.maxVisibleButtons;t<13;t+=1){const e=this.createToolbarButton(r._2,t);e?.onDom("click",(()=>s.remove())),i.append(e)}s.appendToMain(i)}}i()}catch(t){i(t)}}))},1711:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},1911:(t,e,s)=>{s.d(e,{lv:()=>o,QE:()=>i,xt:()=>r,AF:()=>h,BF:()=>a,WH:()=>n,$x:()=>l});class i{events={};on(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e),this}off(t,e){const s=this.events[t];if(!s)return this;if(e){const i=s.indexOf(e);-1!==i&&s.splice(i,1),0===s.length&&delete this.events[t]}else delete this.events[t];return this}hasEvent(t){const e=this.events[t];return!!e&&e.length>0}async emit(t,...e){const s=this.events[t];if(!s)return[];const i=[],n=[];for(const t of s){const s=t(...e);s instanceof Promise?n.push(s):i.push(s)}return i.concat(await Promise.all(n))}}class n{resources=new Map;pendingLoads=new Map;refCount=new Map;isResourceInUse(t){return this.refCount.has(t)&&this.refCount.get(t)>0}incrementRefCount(t){this.refCount.set(t,(this.refCount.get(t)||0)+1)}async load(t,...e){return this.incrementRefCount(t),this.resources.has(t)?this.resources.get(t):this.pendingLoads.has(t)?await this.pendingLoads.get(t):await this.loadResource(t,...e)}isLoaded(t){return this.resources.has(t)}release(t){const e=this.refCount.get(t);if(void 0===e)throw new Error(`Resource not found: ${t}`);if(1===e){this.refCount.delete(t);const e=this.resources.get(t);e&&(this.cleanup(e,t),this.resources.delete(t))}else this.refCount.set(t,e-1)}}class r extends i{parent;children=[];removed=!1;subscriptions=[];appendTo(t,e){if(this.removed)throw new Error("Node is removed");if(this.parent===t){const t=this.parent.children.indexOf(this);void 0!==e&&e>t&&e--,this.parent.children.splice(t,1)}else this.parent&&this.remove();return this.parent=t,void 0!==e&&e>=0&&e<t.children.length?t.children.splice(e,0,this):t.children.push(this),this}subscribe(t,e,s){return t.on(e,s),this.subscriptions.push({container:t,eventName:e,handler:s}),this}unsubscribeFromAll(){for(const t of this.subscriptions)t.container.off(t.eventName,t.handler);this.subscriptions=[]}clear(...t){let e=0;for(;this.children.length>t.length;){const s=this.children[e];t.includes(s)?e++:s.remove()}return this}remove(){if(!this.removed){if(this.removed=!0,this.unsubscribeFromAll(),this.parent){const t=this.parent.children.indexOf(this);t>-1&&this.parent.children.splice(t,1),this.parent=void 0}this.clear()}}}const o=new class{pull(t,...e){for(const s of e){const e=t.indexOf(s);-1!==e&&t.splice(e,1)}}};new class{random(t,e){return Math.floor(Math.random()*(e-t+1)+t)}};const h=new class{parseWithUndefined(t){return JSON.parse(t,((t,e)=>null===e?void 0:e))}};const a=new class{isEqual(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;const s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;for(const n of s)if(!i.includes(n)||!this.isEqual(t[n],e[n]))return!1;return!0}};const l=new class{capitalize(t){return t.split(" ").map((t=>0===t.length?t:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())).join(" ")}isKebabCase(t){return/^[a-z0-9]+(-[a-z0-9]+)*$/.test(t)}formatNumberWithCommas(t,e){if(void 0===e||+ +t>Number.MAX_SAFE_INTEGER){const e=t.split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===e[1]?e[0]:e.join(".")}{const s=String(+(+t).toFixed(e)).split(".");return s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),s.join(".")}}}},1992:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},1998:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".more-vert","0 -960 960 960",'<path d="M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z"/>')}}i()}catch(t){i(t)}}))},2066:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".accordion-close","0 0 8 2",'<path fill="currentColor" fill-rule="evenodd" d="M0 1.5h8v-1H0v1Z" clip-rule="evenodd"></path>')}}i()}catch(t){i(t)}}))},2070:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(3501),r=t([i,n]);[i,n]=r.then?(await r)():r;i.vs;e()}catch(t){e(t)}}))},2102:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},2109:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2227:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2352:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".bullet-list","0 -960 960 960",'<path d="M360-200v-80h480v80H360Zm0-240v-80h480v80H360Zm0-240v-80h480v80H360ZM200-160q-33 0-56.5-23.5T120-240q0-33 23.5-56.5T200-320q33 0 56.5 23.5T280-240q0 33-23.5 56.5T200-160Zm0-240q-33 0-56.5-23.5T120-480q0-33 23.5-56.5T200-560q33 0 56.5 23.5T280-480q0 33-23.5 56.5T200-400Zm0-240q-33 0-56.5-23.5T120-720q0-33 23.5-56.5T200-800q33 0 56.5 23.5T280-720q0 33-23.5 56.5T200-640Z"/>')}}i()}catch(t){i(t)}}))},2371:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a});var n=s(5321),r=s(9243),o=s(2632),h=t([n,r,o]);[n,r,o]=h.then?(await h)():h;class a extends n.vs{options;minusButton;input;plusButton;previousValue;constructor(t,e){let s,i="";"string"==typeof t?(i=t,s=e??{}):s=t??{},super(`.quantity-input${i}${!0===s.required?".required":""}`),this.options=s,this.append(s.label?(0,n.el)("span.label",s.label):void 0,(0,n.el)("main",this.minusButton=new o.A({type:o.V.Icon,icon:new r.A.MinusIcon,disabled:s.readOnly||s.value===s.min,onClick:()=>{const t=this.value;void 0!==t&&(this.value=t-1)}}),this.input=(0,n.el)("input",{type:"number",placeholder:s.placeholder??"",value:s.value?String(s.value):"",min:s.min?String(s.min):void 0,max:s.max?String(s.max):void 0,readOnly:s.readOnly,onkeyup:()=>this.handleQuantityInput()}),this.plusButton=new o.A({type:o.V.Icon,icon:new r.A.PlusIcon,disabled:s.readOnly||s.value===s.max,onClick:()=>{const t=this.value;void 0!==t&&(this.value=t+1)}}))),s.onChange&&this.on("valueChanged",(t=>s.onChange(t)))}handleQuantityInput=()=>{const t=this.value;void 0===t?(this.previousValue=void 0,this.minusButton.disable(),this.plusButton.enable()):t!==this.previousValue&&(this.emit("valueChanged",t),this.previousValue=t,t===this.options.min?this.minusButton.disable():this.minusButton.enable(),t===this.options.max?this.plusButton.disable():this.plusButton.enable())};get value(){const t=parseInt(this.input.htmlElement.value,10);return isNaN(t)?void 0:t}set value(t){const e=void 0===t?"":String(t);this.input.htmlElement.value!==e&&(this.input.htmlElement.value=e,this.handleQuantityInput())}get readOnly(){return this.input.htmlElement.readOnly}set readOnly(t){this.input.htmlElement.readOnly=t}focus(){this.input.htmlElement.focus()}}i()}catch(t){i(t)}}))},2399:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(t){super(".thumbnail-list-item"),this.append((0,n.el)("img",{src:t}))}select(){this.addClass("selected")}deselect(){this.removeClass("selected")}}i()}catch(t){i(t)}}))},2426:(t,e,s)=>{var i=s(1911);class n extends i.WH{async loadResource(t){const e=(async()=>{if("fonts"in document)await document.fonts.load(`1em ${t}`),await document.fonts.ready;else{const e=window.document.createElement("span");e.style.fontFamily="sans-serif",e.style.position="absolute",e.style.visibility="hidden",e.style.fontSize="72px",e.textContent="FontCheck",window.document.body.appendChild(e);const s=e.offsetWidth;e.style.fontFamily=`${t}, sans-serif`,await new Promise((t=>{const i=setInterval((()=>{e.offsetWidth!==s&&(clearInterval(i),document.body.removeChild(e),t())}),100)}))}return this.pendingLoads.delete(t),!0})();return this.pendingLoads.set(t,e),await e}cleanup(t){}}new n},2475:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2484:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(8699),n=t([i]);i=(n.then?(await n)():n)[0],await(0,i.A)({isDevMode:!1}),e()}catch(t){e(t)}}),1)},2535:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(5111)),r=i(s(3987)),o=s(7996);class h{constructor(t,{headers:e={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),e),this.schemaName=s,this.fetch=i}from(t){const e=new URL(`${this.url}/${t}`);return new n.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new h(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:s=!1,get:i=!1,count:n}={}){let o;const h=new URL(`${this.url}/rpc/${t}`);let a;s||i?(o=s?"HEAD":"GET",Object.entries(e).filter((([t,e])=>void 0!==e)).map((([t,e])=>[t,Array.isArray(e)?`{${e.join(",")}}`:`${e}`])).forEach((([t,e])=>{h.searchParams.append(t,e)}))):(o="POST",a=e);const l=Object.assign({},this.headers);return n&&(l.Prefer=`count=${n}`),new r.default({method:o,url:h,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}e.default=h},2592:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>u});var n=s(5321),r=s(1911),o=s(1569),h=s(4521),a=s(7557),l=s(2889),c=t([n,o,h,a,l]);[n,o,h,a,l]=c.then?(await c)():c;class u extends n.vs{_messageIds=[];_sender;_lastCreatedAt;senderDisplay;contentList;constructor(t){super("li.chat-message-list-item"),this._messageIds.push(t.id),this._sender=t.author,this._lastCreatedAt=t.createdAt,this.append(this.senderDisplay=(0,n.el)(".sender"),this.contentList=new l.A(t)),this.loadSenderInfo()}async loadSenderInfo(){const t=await h.A.getUser(this._sender),e=new o.A.Avatar(t);e.onDom("click",(()=>o.A.showUserInfo(t))),this.senderDisplay.append(e,new a.A(t))}getMessageIds(){return this._messageIds}getSender(){return this._sender}getLastCreatedAt(){return this._lastCreatedAt}addMessage(t){this._messageIds.push(t.id),this._lastCreatedAt=t.createdAt,this.contentList.addMessage(t)}updateMessage(t,e){r.lv.pull(this._messageIds,t),this._messageIds.push(e.id),this.contentList.updateMessage(t,e)}removeMessage(t){this.contentList.removeMessage(t)}addChunk(t,e){this.contentList.addChunk(t,e)}}i()}catch(t){i(t)}}))},2595:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2621:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.version=void 0,e.version="0.0.0-automated"},2632:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a,V:()=>n});var n,r=s(5321),o=s(9243),h=t([r,o]);[r,o]=h.then?(await h)():h,function(t){t.Text="text",t.Contained="contained",t.Outlined="outlined",t.Icon="icon"}(n||(n={}));class a extends r.vs{options;iconContainer;titleContainer;loadingSpinner;loading=!1;constructor(t,e){let s,i="";"string"==typeof t?(i=t,s=e??{}):s=t;super(`button${i}.${s.type??n.Text}`),this.options=s,"right"===s.iconPosition?this.append(this.titleContainer=(0,r.el)(".title",...Array.isArray(s.title)?s.title:[s.title]),s.icon?this.iconContainer=(0,r.el)(".right-icon-container",s.icon.clone()):void 0):this.append(s.icon?this.iconContainer=(0,r.el)(".icon-container",s.icon.clone()):void 0,this.titleContainer=(0,r.el)(".title",...Array.isArray(s.title)?s.title:[s.title])),this.onDom("click",(t=>{if(!this.loading){if(s.onClick){const e=s.onClick(this,t);e instanceof Promise&&(this.startLoading(),e.finally((()=>this.stopLoading())))}if(this.hasEvent("click")){const t=this.emit("click");t instanceof Promise&&(this.startLoading(),t.finally((()=>this.stopLoading())))}}})),s.disabled&&this.disable()}set title(t){this.titleContainer.clear().append(...Array.isArray(t)?t:[t])}get title(){return this.titleContainer.text}set icon(t){this.iconContainer?(this.iconContainer.clear(),t&&this.iconContainer.append(t.clone())):this.prepend(t?.clone())}get icon(){return this.iconContainer?.children[0]}disable(){return this.htmlElement.setAttribute("disabled","disabled"),this.addClass("disabled"),this}enable(){return this.htmlElement.removeAttribute("disabled"),this.removeClass("disabled"),this}startLoading(){return this.loading||(this.loading=!0,this.addClass("loading"),this.removed||(this.iconContainer?this.iconContainer.clear().append(new o.A.LoadingSpinner):this.prepend(this.loadingSpinner=new o.A.LoadingSpinner))),this}stopLoading(){return this.loading&&(this.loading=!1,this.removeClass("loading"),this.removed||(this.iconContainer?this.iconContainer.clear().append(this.options.icon?.clone()):this.loadingSpinner&&(this.loadingSpinner.remove(),this.loadingSpinner=void 0))),this}}i()}catch(t){i(t)}}))},2688:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2717:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2774:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".send","0 -960 960 960",'<path d="M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z"/>')}}i()}catch(t){i(t)}}))},2787:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{j:()=>n.A});var n=s(6263),r=t([n]);n=(r.then?(await r)():r)[0],i()}catch(t){i(t)}}))},2836:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>C});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(){super("span.icon.bold","B")}}class h extends n.vs{constructor(){super("span.icon.italic","I")}}class a extends n.vs{constructor(){super("span.icon.strikethrough","S")}}class l extends n.vs{constructor(){super("span.icon.heading","H")}}class c extends n.vs{constructor(){super("span.icon.link","🔗")}}class u extends n.vs{constructor(){super("span.icon.bullet-list","•")}}class d extends n.vs{constructor(){super("span.icon.number-list","1.")}}class p extends n.vs{constructor(){super("span.icon.quote-block","❝")}}class f extends n.vs{constructor(){super("span.icon.code","</>")}}class m extends n.vs{constructor(){super("span.icon.code-block","```")}}class g extends n.vs{constructor(){super("span.icon.table","📊")}}class v extends n.vs{constructor(){super("span.icon.image","🖼️")}}class w extends n.vs{constructor(){super("span.icon.youtube","🎥")}}class y extends n.vs{constructor(){super("span.icon.more","⋮")}}class b{BoldIcon=o;ItalicIcon=h;StrikethroughIcon=a;HeadingIcon=l;LinkIcon=c;BulletListIcon=u;NumberListIcon=d;QuoteBlockIcon=p;CodeIcon=f;CodeBlockIcon=m;TableIcon=g;ImageIcon=v;YouTubeIcon=w;MoreIcon=y}const C=new b;i()}catch(t){i(t)}}))},2889:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>h});var n=s(5321),r=s(1238),o=t([n,r]);[n,r]=o.then?(await o)():o;class h extends n.vs{children=[];constructor(t){super("ul.chat-content-list"),this.addMessage(t)}addMessage(t){this.append(new r.A(t))}updateMessage(t,e){const s=this.children.find((e=>e.getMessageId()===t));s?.updateMessage(e)}removeMessage(t){const e=this.children.find((e=>e.getMessageId()===t));e?.remove()}addChunk(t,e){const s=this.children.find((e=>e.getMessageId()===t));s?.addChunk(e)}}i()}catch(t){i(t)}}))},2890:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2933:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},2985:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(){super("img.gaia-protocol-logo.logo");this.htmlElement.src="data:image/png;base64,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",this.htmlElement.height=40}}i()}catch(t){i(t)}}))},3003:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>h});var n=s(5321),r=s(9243),o=t([n,r]);[n,r]=o.then?(await o)():o;class h extends n.vs{store;background;tabs=[];selectedTab;constructor(t,...e){super(".tab-group"),"string"==typeof t?this.store=new n.il(`tab-group-${t}`):t&&e.unshift(t),this.background=(0,n.el)(".background").appendTo(this);for(const t of e)this.addTab(t);this.onWindow("resize",(()=>this.updateTabBackgroundOnSelect()))}init(){const t=this.store?.get("selected");return t?this.selectTab(t):this.tabs[0]?.select(),this}getSelectedValue(){return this.selectedTab?.getValue()}updateTabBackgroundOnSelect(){this.selectedTab&&r.A.updateTabBackgroundOnSelect(this.background,this.selectedTab)}addTab(t){t.on("selected",(()=>{this.selectedTab!==t&&(this.selectedTab?.deselect(),this.selectedTab=t,this.store?.setPermanent("selected",t.getValue()),this.updateTabBackgroundOnSelect(),this.emit("tabSelected",t.getValue()))})),this.tabs.push(t),this.append(t)}selectTab(t){const e=this.tabs.find((e=>e.getValue()===t));e?e.select():this.tabs[0]?.select()}removeTab(t){const e=this.tabs.find((e=>e.getValue()===t));e&&(e.remove(),this.selectedTab===e&&(this.selectedTab=void 0,this.tabs[0]?.select()),this.tabs=this.tabs.filter((e=>e.getValue()!==t)))}}i()}catch(t){i(t)}}))},3048:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>l});var n=s(5321),r=s(3501),o=s(6204),h=s(2985),a=t([n,r,o,h]);[n,r,o,h]=a.then?(await a)():a;class l extends n.Ss{static _current;static set content(t){l._current.contentContainer.append(t)}tabGroup;contentContainer;constructor(){super(),l._current=this,this.container=(0,n.el)(".layout",(0,n.el)("header",(0,n.el)("h1",new h.A,"Dashboard")),this.tabGroup=new r.fu(new r.oz({label:"The Gods",value:"thegods"})),this.contentContainer=(0,n.el)("main"),(0,n.el)("footer",(0,n.el)(".credit","2022-",String((new Date).getFullYear())," Gaia Protocol"),(0,n.el)(".social",(0,n.el)("a",new o.uv,{href:"https://x.com/Gaia_Protocol",target:"_blank"})))).appendTo(n.rj),this.tabGroup.on("tabSelected",(t=>n.Ix.go(`/${t}`))).init()}}i()}catch(t){i(t)}}))},3085:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".number-list","0 -960 960 960",'<path d="M120-80v-60h100v-30h-60v-60h60v-30H120v-60h120q17 0 28.5 11.5T280-280v40q0 17-11.5 28.5T240-200q17 0 28.5 11.5T280-160v40q0 17-11.5 28.5T240-80H120Zm0-280v-110q0-17 11.5-28.5T160-510h60v-30H120v-60h120q17 0 28.5 11.5T280-560v70q0 17-11.5 28.5T240-450h-60v30h100v60H120Zm60-280v-180h-60v-60h120v240h-60Zm180 440v-80h480v80H360Zm0-240v-80h480v80H360Zm0-240v-80h480v80H360Z"/>')}}i()}catch(t){i(t)}}))},3224:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{Bh:()=>r.A,dS:()=>o.A});var n=s(3414),r=s(2836),o=s(1650),h=t([n,r,o]);[n,r,o]=h.then?(await h)():h,i()}catch(t){i(t)}}))},3241:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".folder-collapsed","0 -960 960 960",'<path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"/>')}}i()}catch(t){i(t)}}))},3245:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a});var n=s(5321),r=s(8724),o=s(3048),h=t([n,r,o]);[n,r,o]=h.then?(await h)():h;class a extends n.Ss{constructor(){super(),o.A.content=this.container=new r.N}}i()}catch(t){i(t)}}))},3414:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},3452:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".minus","0 -960 960 960",'<path d="M200-440v-80h560v80H200Z"/>')}}i()}catch(t){i(t)}}))},3501:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{$n:()=>l.A,Ah:()=>R.A,I:()=>T.A,JG:()=>a.A,VQ:()=>l.V,_2:()=>I.A,fu:()=>z.A,oz:()=>O.A,pd:()=>C.A,rI:()=>k.A});var n=s(2102),r=s(4297),o=s(6099),h=s(4111),a=s(9243),l=s(2632),c=s(1325),u=s(5213),d=s(3681),p=s(5903),f=s(8449),m=s(4897),g=s(9356),v=s(1164),w=s(1303),y=s(59),b=s(1276),C=s(6032),x=s(7357),S=s(2371),A=s(6878),E=s(6895),k=s(9627),T=s(6724),I=s(1288),_=s(7946),M=s(5491),P=s(8490),R=s(5950),O=s(8062),z=s(3003),B=t([n,r,o,h,a,l,c,u,d,p,f,m,g,v,w,y,b,C,x,S,A,E,k,T,I,_,M,P,R,O,z]);[n,r,o,h,a,l,c,u,d,p,f,m,g,v,w,y,b,C,x,S,A,E,k,T,I,_,M,P,R,O,z]=B.then?(await B)():B,i()}catch(t){i(t)}}))},3591:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},3626:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a});var n=s(5321),r=s(3501),o=s(8006),h=t([n,r,o]);[n,r,o]=h.then?(await h)():h;class a extends n.vs{statsContent;graphTabGroup;graph;constructor(){super(".the-gods-dashboard"),this.append((0,n.el)("section.stats",(0,n.el)("h2","Global Stats"),this.statsContent=(0,n.el)(".content")),(0,n.el)("section.graph",this.graphTabGroup=new r.fu(new r.oz({label:"Holders",value:"numOwners"}),new r.oz({label:"Floor Price",value:"floorPrice"})),this.graph=new o.A("numOwners")),(0,n.el)("section",(0,n.el)("h2","Top God collectors"))),this.graphTabGroup.on("tabSelected",(t=>this.graph.metric=t)),this.fetchCollectionStats(),this.on("visible",(()=>this.graphTabGroup.init()))}async fetchCollectionStats(){this.statsContent.append(new r.JG.LoadingSpinner);const t=await fetch("https://dhzxulywizygtdficytt.supabase.co/functions/v1/get-gods-stats",{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoenh1bHl3aXp5Z3RkZmljeXR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzAxMTIxNDUsImV4cCI6MjA0NTY4ODE0NX0.xUd8nqcT2aVn1j4x8c-pRbDcFSaIGtkn7SAcmKleBms"}}),e=await t.json();this.statsContent.clear().append((0,n.el)(".stat",(0,n.el)(".value",String(e.total.num_owners)),(0,n.el)(".label","Total unique holders")),(0,n.el)(".stat",(0,n.el)(".value",String(e.total.floor_price)," ",e.total.floor_price_symbol),(0,n.el)(".label","Floor price")))}}i()}catch(t){i(t)}}))},3631:(t,e,s)=>{s.d(e,{A:()=>i});const i=new class{convertNullToUndefined(t){Object.keys(t).forEach((e=>{null===t[e]?t[e]=void 0:"object"==typeof t[e]&&null!==t[e]&&this.convertNullToUndefined(t[e])}))}safeResult(t){return Array.isArray(t)?t.forEach((t=>this.convertNullToUndefined(t))):"object"==typeof t&&this.convertNullToUndefined(t),t}}},3667:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{removing=!1;constructor(t){super("input.file-name-input"),this.on("visible",(()=>this.htmlElement.focus())),this.onDom("keydown",(e=>{this.removing||("Enter"===e.key?(this.htmlElement.value&&t(this.htmlElement.value),this.removing=!0,this.remove()):"Escape"===e.key&&(this.removing=!0,this.remove()))})),this.onDom("blur",(()=>{this.removing||(this.htmlElement.value&&t(this.htmlElement.value),this.removing=!0,this.remove())}))}}i()}catch(t){i(t)}}))},3681:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a});var n=s(5321),r=s(2632),o=s(5491),h=t([n,r,o]);[n,r,o]=h.then?(await h)():h;class a extends o.A{constructor(t,e){let s,i="";if("string"==typeof t){if(i=t,void 0===e)throw new Error("Expected options to be provided");s=e}else s=t;super(`.alert-dialog${i}`),this.appendToHeader((0,n.el)("h1",s.icon,s.title)).appendToMain((0,n.el)("p",...Array.isArray(s.message)?s.message:[s.message])).appendToFooter(new r.A(".confirm",{title:s.confirmButtonTitle??"OK",onClick:async()=>{s.onConfirm&&await s.onConfirm(),this.remove()}}))}}i()}catch(t){i(t)}}))},3696:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".link","0 -960 960 960",'<path d="M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"/>')}}i()}catch(t){i(t)}}))},3871:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{S:()=>n.A});var n=s(4676),r=t([n]);n=(r.then?(await r)():r)[0],i()}catch(t){i(t)}}))},3919:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".strikethrough","0 -960 960 960",'<path d="M486-160q-76 0-135-45t-85-123l88-38q14 48 48.5 79t85.5 31q42 0 76-20t34-64q0-18-7-33t-19-27h112q5 14 7.5 28.5T694-340q0 86-61.5 133T486-160ZM80-480v-80h800v80H80Zm402-326q66 0 115.5 32.5T674-674l-88 39q-9-29-33.5-52T484-710q-41 0-68 18.5T386-640h-96q2-69 54.5-117.5T482-806Z"/>')}}i()}catch(t){i(t)}}))},3987:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(6315));class r extends n.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map((t=>"string"==typeof t&&new RegExp("[,()]").test(t)?`"${t}"`:`${t}`)).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:i}={}){let n="";"plain"===i?n="pl":"phrase"===i?n="ph":"websearch"===i&&(n="w");const r=void 0===s?"":`(${s})`;return this.url.searchParams.append(t,`${n}fts${r}.${e}`),this}match(t){return Object.entries(t).forEach((([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)})),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}}e.default=r},4046:(t,e,s)=>{s.d(e,{A:()=>n});var i=s(1911);class n{prefix;static getStorage(t){return t?localStorage:sessionStorage}static isStorageAvailable(){try{const t="__test__";return sessionStorage.setItem(t,"test"),sessionStorage.removeItem(t),!0}catch(t){return!1}}constructor(t){if(!i.$x.isKebabCase(t))throw new Error("Name must be in kebab-case format (lowercase and hyphens only).");this.prefix=`${t}/`}getFullKey(t){return this.prefix+t}static isQuotaExceededError(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)}setValue(t,e,s){const i=n.getStorage(s),r=this.getFullKey(t);try{i.setItem(r,JSON.stringify(e))}catch(t){if(!n.isQuotaExceededError(t))throw t;i.clear(),location.reload()}}setTemporary(t,e){this.setValue(t,e,!1)}setPermanent(t,e){this.setValue(t,e,!0)}get(t){const e=this.getFullKey(t),s=sessionStorage.getItem(e)??localStorage.getItem(e);if(null!==s)try{return i.AF.parseWithUndefined(s)}catch(t){console.error(`Failed to parse ${e}: ${s}`),console.error(t)}}getAll(){const t={},e=e=>{for(let s=0;s<e.length;s++){const n=e.key(s);if(n?.startsWith(this.prefix)){const s=e.getItem(n);if(null!==s){const e=n.slice(this.prefix.length);try{t[e]=i.AF.parseWithUndefined(s)}catch(t){console.error(`Failed to parse ${n}: ${s}`),console.error(t)}}}}};return e(sessionStorage),e(localStorage),t}isPermanent(t){return null!==localStorage.getItem(this.getFullKey(t))}remove(...t){t.forEach((t=>{const e=this.getFullKey(t);sessionStorage.removeItem(e),localStorage.removeItem(e)}))}clear(){[sessionStorage,localStorage].forEach((t=>{for(let e=t.length-1;e>=0;e--){const s=t.key(e);s?.startsWith(this.prefix)&&t.removeItem(s)}}))}}},4063:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(3501),r=s(1569),o=s(4521),h=s(5080),a=t([i,n,r,o,h]);[i,n,r,o,h]=a.then?(await a)():a;i.vs;e()}catch(t){e(t)}}))},4096:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},4111:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(9243),n=s(8555),r=t([i,n]);[i,n]=r.then?(await r)():r;n.A;e()}catch(t){e(t)}}))},4115:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},4261:(t,e,s)=>{s.r(e),s.d(e,{Headers:()=>o,Request:()=>h,Response:()=>a,default:()=>r,fetch:()=>n});var i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==s.g)return s.g;throw new Error("unable to locate global object")}();const n=i.fetch,r=i.fetch.bind(i),o=i.Headers,h=i.Request,a=i.Response},4297:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(9243),r=t([i,n]);[i,n]=r.then?(await r)():r;i.vs;e()}catch(t){e(t)}}))},4469:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},4475:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".success","0 -960 960 960",'<path d="m424-296 282-282-56-56-226 226-114-114-56 56 170 170Zm56 216q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/>')}}i()}catch(t){i(t)}}))},4521:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>a});var n=s(1911),r=s(1569),o=t([r]);r=(o.then?(await o)():o)[0];class h extends n.QE{userCache=new Map;pendingRequests=new Map;setUser(t){const e=this.userCache.get(t.id);n.BF.isEqual(e,t)||(this.userCache.set(t.id,t),this.emit("userUpdated",t))}async getUser(t){const e=this.userCache.get(t);if(e)return e;const s=this.pendingRequests.get(t);if(s)return s;const i=r.A.fetchUser(t);if(!(i instanceof Promise)){const t=i;return t&&this.setUser(t),t}this.pendingRequests.set(t,i);try{const t=await i;return t&&this.setUser(t),t}finally{this.pendingRequests.delete(t)}}async getBulkUsers(t){const e=[...new Set(t)],s=new Map,i=e.filter((t=>{const e=this.userCache.get(t);return!e||(s.set(t,e),!1)}));if(i.length>0){(await r.A.fetchBulkUsers(i)).forEach((t=>{this.setUser(t),s.set(t.id,t)}))}return s}}const a=new h;i()}catch(t){i(t)}}))},4676:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>u});var n=s(3501),r=s(3224),o=s(2787),h=s(9083),a=s(6204),l=t([n,r,o,h,a]);[n,r,o,h,a]=l.then?(await l)():l;class c{init(){n.JG.LoadingSpinner=o.j,n.JG.CloseIcon=a.US,n.JG.SuccessIcon=a.BK,n.JG.InfoIcon=a.mo,n.JG.WarningIcon=a.id,n.JG.ErrorIcon=a.IJ,n.JG.AccordionOpenIcon=a.EZ,n.JG.AccordionCloseIcon=a.aR,n.JG.FolderCollapsedIcon=a.fo,n.JG.FolderExpandedIcon=a.rZ,n.JG.MinusIcon=a.QG,n.JG.PlusIcon=a.c1,n.JG.updateTabBackgroundOnSelect=(t,e)=>{const s=e.htmlElement.offsetLeft,i=t.calculateRect().width-s-e.calculateRect().width;t.style({clipPath:`inset(0px ${i}px 0px ${s}px round 9999px)`})},h.vE.LogoutIcon=a.o4,h.vE.SendMessageButtonIcon=a.qx,r.Bh.BoldIcon=a.$o,r.Bh.ItalicIcon=a.yO,r.Bh.StrikethroughIcon=a.t6,r.Bh.HeadingIcon=a.Kc,r.Bh.LinkIcon=a.qY,r.Bh.BulletListIcon=a.m_,r.Bh.NumberListIcon=a.bF,r.Bh.QuoteBlockIcon=a.cy,r.Bh.CodeIcon=a.lo,r.Bh.CodeBlockIcon=a.I5,r.Bh.TableIcon=a.Kb,r.Bh.ImageIcon=a.xf,r.Bh.YouTubeIcon=a.np,r.Bh.MoreIcon=a.wy}}const u=new c;i()}catch(t){i(t)}}))},4688:(t,e,s)=>{s.d(e,{A:()=>i});const i=new class{isDevMode;init(t){Object.assign(this,t)}}},4710:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".code-block","0 -960 960 960",'<path d="m384-336 56-57-87-87 87-87-56-57-144 144 144 144Zm192 0 144-144-144-144-56 57 87 87-87 87 56 57ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/>')}}i()}catch(t){i(t)}}))},4841:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},4897:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(2632),r=s(6032),o=s(5491),h=t([i,n,r,o]);[i,n,r,o]=h.then?(await h)():h;o.A;e()}catch(t){e(t)}}))},4916:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".plus","0 -960 960 960",'<path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"/>')}}i()}catch(t){i(t)}}))},4917:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},5043:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>h});var n=s(6154),r=t([n]);n=(r.then?(await r)():r)[0];class o{static INITIAL_PATH_KEY="initialPath";init(){const t=sessionStorage[o.INITIAL_PATH_KEY];t&&(n.A.goWithoutHistory(t),sessionStorage.removeItem(o.INITIAL_PATH_KEY))}}const h=new o;i()}catch(t){i(t)}}))},5080:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>l});var n=s(5321),r=s(3501),o=s(1569),h=s(4521),a=t([n,r,o,h]);[n,r,o,h]=a.then?(await a)():a;class l extends r.rI{loginManager;constructor(t,e){const s=e.calculateRect();super(".logged-in-user-avatar-menu",{right:s.right,top:s.bottom+10}),this.loginManager=t,this.render()}async render(){const t=await h.A.getUser(this.loginManager.getLoggedInUser());this.appendToHeader((0,n.el)(".user-info",new o.A.Avatar(t),(0,n.el)(".user-details",(0,n.el)(".name",t.name),t.username?(0,n.el)(".username",t.username):void 0),{onclick:()=>{o.A.goLoggedInUserProfile(t),this.remove()}})),this.appendToMain(...await o.A.getLoggedInUserMenu(this,t),new r.I(new r._2({icon:new o.A.LogoutIcon,label:"Log out",onClick:()=>{this.loginManager.logout(),this.remove()}})))}}i()}catch(t){i(t)}}))},5085:(t,e,s)=>{function i(t){var e=t.width,s=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(s<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:s}}function n(t,e){return t.width===e.width&&t.height===e.height}s.d(e,{Im:()=>Ji,R9:()=>ji});var r=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==s}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var o=function(){function t(t,e,s){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=i({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=e?e:function(t){return t},this._allowResizeObserver=null===(n=null==s?void 0:s.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return i({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=i(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;n(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach((function(i){return i.call(s,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=i(this._transformBitmapSize(t,this._canvasElementClientSize)),r=n(this.bitmapSize,s)?null:s;null===e&&null===r||null!==e&&null!==r&&n(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach((function(i){return i.call(s,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(s){t(s.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=h(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new r(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var s=h(this._canvasElement);if(null!==s){var n=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:s.devicePixelRatio,r=this._canvasElement.getClientRects(),o=void 0!==r[0]?function(t,e){return i({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(r[0],n):i({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var s=e.find((function(e){return e.target===t._canvasElement}));if(s&&s.devicePixelContentBoxSize&&s.devicePixelContentBoxSize[0]){var n=s.devicePixelContentBoxSize[0],r=i({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function h(t){return t.ownerDocument.defaultView}var a=function(){function t(t,e,s){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===s.width||0===s.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function l(t,e){var s=t.canvasElementClientSize;if(0===s.width||0===s.height)return null;var i=t.bitmapSize;if(0===i.width||0===i.height)return null;var n=t.canvasElement.getContext("2d",e);return null===n?null:new a(n,s,i)}const c={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var u,d,p;function f(t,e){const s={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(s)}function m(t,e,s,i){t.beginPath();const n=t.lineWidth%2?.5:0;t.moveTo(s,e+n),t.lineTo(i,e+n),t.stroke()}function g(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function v(t){if(void 0===t)throw new Error("Value is undefined");return t}function w(t){if(null===t)throw new Error("Value is null");return t}function y(t){return w(v(t))}(p=u||(u={}))[p.Simple=0]="Simple",p[p.WithSteps=1]="WithSteps",p[p.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(d||(d={}));class b{constructor(){this.t=[]}i(t,e,s){const i={h:t,l:e,o:!0===s};this.t.push(i)}_(t){const e=this.t.findIndex((e=>t===e.h));e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter((e=>e.l!==t))}p(t,e,s){const i=[...this.t];this.t=this.t.filter((t=>!t.o)),i.forEach((i=>i.h(t,e,s)))}v(){return this.t.length>0}m(){this.t=[]}}function C(t,...e){for(const s of e)for(const e in s)void 0!==s[e]&&Object.prototype.hasOwnProperty.call(s,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof s[e]||void 0===t[e]||Array.isArray(s[e])?t[e]=s[e]:C(t[e],s[e]));return t}function x(t){return"number"==typeof t&&isFinite(t)}function S(t){return"number"==typeof t&&t%1==0}function A(t){return"string"==typeof t}function E(t){return"boolean"==typeof t}function k(t){const e=t;if(!e||"object"!=typeof e)return e;let s,i,n;for(i in s=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(n=e[i],s[i]=n&&"object"==typeof n?k(n):n);return s}function T(t){return null!==t}function I(t){return null===t?void 0:t}const _="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function M(t,e,s){return void 0===e&&(e=_),`${s=void 0!==s?`${s} `:""}${t}px ${e}`}class P{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.W(),s=this.F();return t.P===e&&t.T===s||(t.P=e,t.T=s,t.k=M(e,s),t.A=2.5/12*e,t.V=t.A,t.I=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}W(){return this.O.N().layout.fontSize}F(){return this.O.N().layout.fontFamily}}function R(t){return t<0?0:t>255?255:Math.round(t)||0}function O(t){return.199*t[0]+.687*t[1]+.114*t[2]}class z{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if("transparent"===t)return t;const s=this.Z(t),i=s[3];return`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${e*i})`}K(t){const e=this.Z(t);return{X:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:O(e)>160?"black":"white"}}J(t){return O(this.Z(t))}tt(t,e,s){const[i,n,r,o]=this.Z(t),[h,a,l,c]=this.Z(e),u=[R(i+s*(h-i)),R(n+s*(a-n)),R(r+s*(l-r)),(d=o+s*(c-o),d<=0||d>1?Math.min(Math.max(d,0),1):Math.round(1e4*d)/1e4)];var d;return`rgba(${u[0]}, ${u[1]}, ${u[2]}, ${u[3]})`}Z(t){const e=this.q.get(t);if(e)return e;const s=function(t){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),e.style.color=t;const s=window.getComputedStyle(e).color;return document.body.removeChild(e),s}(t),i=s.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.Y.length)for(const e of this.Y){const s=e(t);if(s)return this.q.set(t,s),s}throw new Error(`Failed to parse color: ${t}`)}const n=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(t,n),n}}class B{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,s){this.it.forEach((i=>{i.nt(t,e,s)}))}}class D{nt(t,e,s){t.useBitmapCoordinateSpace((t=>this.et(t,e,s)))}}class L extends D{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(null===this.rt||null===this.rt.lt)return;const i=this.rt.lt,n=this.rt,r=Math.max(1,Math.floor(e))%2/2,o=o=>{t.beginPath();for(let h=i.to-1;h>=i.from;--h){const i=n.ot[h],a=Math.round(i._t*e)+r,l=i.ut*s,c=o*s+r;t.moveTo(a,l),t.arc(a,l,c,0,2*Math.PI)}t.fill()};n.ct>0&&(t.fillStyle=n.dt,o(n.ft+n.ct)),t.fillStyle=n.vt,o(n.ft)}}function j(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const N={from:0,to:1};class U{constructor(t,e,s){this.Mt=new B,this.bt=[],this.xt=[],this.St=!0,this.O=t,this.Ct=e,this.yt=s,this.Mt.st(this.bt)}Pt(t){this.kt(),this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Mt}kt(){const t=this.yt.Dt();t.length!==this.bt.length&&(this.xt=t.map(j),this.bt=this.xt.map((t=>{const e=new L;return e.ht(t),e})),this.Mt.st(this.bt))}Rt(){const t=2===this.Ct.N().mode||!this.Ct.Vt(),e=this.yt.It(),s=this.Ct.Bt(),i=this.O.At();this.kt(),e.forEach(((e,n)=>{const r=this.xt[n],o=e.Et(s),h=e.zt();!t&&null!==o&&e.Vt()&&null!==h?(r.vt=o.Lt,r.ft=o.ft,r.ct=o.Ot,r.ot[0].gt=o.gt,r.ot[0].ut=e.Wt().Nt(o.gt,h.Ft),r.dt=o.Ht??this.O.Ut(r.ot[0].ut/e.Wt().$t()),r.ot[0].wt=s,r.ot[0]._t=i.qt(s),r.lt=N):r.lt=null}))}}class F extends D{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(null===this.Yt)return;const n=this.Yt.jt.Vt,r=this.Yt.Zt.Vt;if(!n&&!r)return;const o=Math.round(this.Yt._t*s),h=Math.round(this.Yt.ut*i);t.lineCap="butt",n&&o>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*s),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,f(t,this.Yt.jt.Kt),function(t,e,s,i){t.beginPath();const n=t.lineWidth%2?.5:0;t.moveTo(e+n,0),t.lineTo(e+n,i),t.stroke()}(t,o,0,e.height)),r&&h>=0&&(t.lineWidth=Math.floor(this.Yt.Zt.ct*i),t.strokeStyle=this.Yt.Zt.R,t.fillStyle=this.Yt.Zt.R,f(t,this.Yt.Zt.Kt),m(t,h,0,e.width))}}class V{constructor(t,e){this.St=!0,this.Xt={jt:{ct:1,Kt:0,R:"",Vt:!1},Zt:{ct:1,Kt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new F(this.Xt),this.Jt=t,this.yt=e}Pt(){this.St=!0}Tt(t){return this.St&&(this.Rt(),this.St=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.yt.Qt().N().crosshair,s=this.Xt;if(2===e.mode)return s.Zt.Vt=!1,void(s.jt.Vt=!1);s.Zt.Vt=t&&this.Jt.ti(this.yt),s.jt.Vt=t&&this.Jt.ii(),s.Zt.ct=e.horzLine.width,s.Zt.Kt=e.horzLine.style,s.Zt.R=e.horzLine.color,s.jt.ct=e.vertLine.width,s.jt.Kt=e.vertLine.style,s.jt.R=e.vertLine.color,s._t=this.Jt.si(),s.ut=this.Jt.ni()}}function q(t,e,s,i,n,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,s,i,n),t.restore()}function W(t,e,s,i,n,r){t.beginPath(),t.roundRect?t.roundRect(e,s,i,n,r):(t.lineTo(e+i-r[1],s),0!==r[1]&&t.arcTo(e+i,s,e+i,s+r[1],r[1]),t.lineTo(e+i,s+n-r[2]),0!==r[2]&&t.arcTo(e+i,s+n,e+i-r[2],s+n,r[2]),t.lineTo(e+r[3],s+n),0!==r[3]&&t.arcTo(e,s+n,e,s+n-r[3],r[3]),t.lineTo(e,s+r[0]),0!==r[0]&&t.arcTo(e,s,e+r[0],s,r[0]))}function Y(t,e,s,i,n,r,o=0,h=[0,0,0,0],a=""){if(t.save(),!o||!a||a===r)return W(t,e,s,i,n,h),t.fillStyle=r,t.fill(),void t.restore();const l=o/2;var c;W(t,e+l,s+l,i-o,n-o,(c=-l,h.map((t=>0===t?t:t+c)))),"transparent"!==r&&(t.fillStyle=r,t.fill()),"transparent"!==a&&(t.lineWidth=o,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function Q(t,e,s,i,n,r,o){t.save(),t.globalCompositeOperation="copy";const h=t.createLinearGradient(0,0,0,n);h.addColorStop(0,r),h.addColorStop(1,o),t.fillStyle=h,t.fillRect(e,s,i,n),t.restore()}class H{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,s,i){if(!this.Yt.Vt||0===this.Yt.ri.length)return;const n=this.Yt.R,r=this.ei.X,o=t.useBitmapCoordinateSpace((t=>{const o=t.context;o.font=e.k;const h=this.hi(t,e,s,i),a=h.ai;return h.li?Y(o,a.oi,a._i,a.ui,a.ci,r,a.di,[a.ft,0,0,a.ft],r):Y(o,a.fi,a._i,a.ui,a.ci,r,a.di,[0,a.ft,a.ft,0],r),this.Yt.pi&&(o.fillStyle=n,o.fillRect(a.fi,a.mi,a.wi-a.fi,a.gi)),this.Yt.Mi&&(o.fillStyle=e.D,o.fillRect(h.li?a.bi-a.di:0,a._i,a.di,a.xi-a._i)),h}));t.useMediaCoordinateSpace((({context:t})=>{const s=o.Si;t.font=e.k,t.textAlign=o.li?"right":"left",t.textBaseline="middle",t.fillStyle=n,t.fillText(this.Yt.ri,s.Ci,(s._i+s.xi)/2+s.yi)}))}hi(t,e,s,i){const{context:n,bitmapSize:r,mediaSize:o,horizontalPixelRatio:h,verticalPixelRatio:a}=t,l=this.Yt.pi||!this.Yt.Pi?e.C:0,c=this.Yt.ki?e.S:0,u=e.A+this.ei.Ti,d=e.V+this.ei.Ri,p=e.I,f=e.B,m=this.Yt.ri,g=e.P,v=s.Di(n,m),w=Math.ceil(s.Vi(n,m)),y=g+u+d,b=e.S+p+f+w+l,C=Math.max(1,Math.floor(a));let x=Math.round(y*a);x%2!=C%2&&(x+=1);const S=c>0?Math.max(1,Math.floor(c*h)):0,A=Math.round(b*h),E=Math.round(l*h),k=this.ei.Ii??this.ei.Bi,T=Math.round(k*a)-Math.floor(.5*a),I=Math.floor(T+C/2-x/2),_=I+x,M="right"===i,P=M?o.width-c:c,R=M?r.width-S:S;let O,z,B;return M?(O=R-A,z=R-E,B=P-l-p-c):(O=R+A,z=R+E,B=P+l+p),{li:M,ai:{_i:I,mi:T,xi:_,ui:A,ci:x,ft:2*h,di:S,oi:O,fi:R,wi:z,gi:C,bi:r.width},Si:{_i:I/a,xi:_/a,Ci:B,yi:v}}}}class K{constructor(t){this.Ai={Bi:0,X:"#000",Ri:0,Ti:0},this.Ei={ri:"",Vt:!1,pi:!0,Pi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,Pi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.St=!0,this.Li=new(t||H)(this.Ei,this.Ai),this.Oi=new(t||H)(this.zi,this.Ai)}ri(){return this.Ni(),this.Ei.ri}Bi(){return this.Ni(),this.Ai.Bi}Pt(){this.St=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Wi(){return this.Ai.Ii||0}Fi(t){this.Ai.Ii=t}Hi(){return this.Ni(),this.Ei.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ei.Vt}Tt(t){return this.Ni(),this.Ei.pi=this.Ei.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Oi}Ni(){this.St&&(this.Ei.pi=!0,this.zi.pi=!1,this.qi(this.Ei,this.zi,this.Ai))}}class J extends K{constructor(t,e,s){super(),this.Jt=t,this.Yi=e,this.ji=s}qi(t,e,s){if(t.Vt=!1,2===this.Jt.N().mode)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const n=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Zi()||null===n)return;const r=this.Yi.Ki().K(i.labelBackgroundColor);s.X=r.X,t.R=r.G;const o=2/12*this.Yi.P();s.Ti=o,s.Ri=o;const h=this.ji(this.Yi);s.Bi=h.Bi,t.ri=this.Yi.Xi(h.gt,n),t.Vt=!0}}const Z=/[1-9]/g;class G{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;const s=t.useMediaCoordinateSpace((({context:t})=>(t.font=e.k,Math.round(e.Gi.Vi(t,w(this.Yt).ri,Z)))));if(s<=0)return;const i=e.Ji,n=s+2*i,r=n/2,o=this.Yt.Qi;let h=this.Yt.Bi,a=Math.floor(h-r)+.5;a<0?(h+=Math.abs(0-a),a=Math.floor(h-r)+.5):a+n>o&&(h-=Math.abs(o-(a+n)),a=Math.floor(h-r)+.5);const l=a+n,c=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:s,verticalPixelRatio:i})=>{const n=w(this.Yt);t.fillStyle=n.X;const r=Math.round(a*s),o=Math.round(0*i),h=Math.round(l*s),u=Math.round(c*i),d=Math.round(2*s);if(t.beginPath(),t.moveTo(r,o),t.lineTo(r,u-d),t.arcTo(r,u,r+d,u,d),t.lineTo(h-d,u),t.arcTo(h,u,h,u-d,d),t.lineTo(h,o),t.fill(),n.pi){const r=Math.round(n.Bi*s),h=o,a=Math.round((h+e.C)*i);t.fillStyle=n.R;const l=Math.max(1,Math.floor(s)),c=Math.floor(.5*s);t.fillRect(r-c,h,l,a-h)}})),t.useMediaCoordinateSpace((({context:t})=>{const s=w(this.Yt),n=0+e.S+e.C+e.A+e.P/2;t.font=e.k,t.textAlign="left",t.textBaseline="middle",t.fillStyle=s.R;const r=e.Gi.Di(t,"Apr0");t.translate(a+i,n+r),t.fillText(s.ri,0,0)}))}}class X{constructor(t,e,s){this.St=!0,this.Gt=new G,this.Xt={Vt:!1,X:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=s}Pt(){this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Gt.ht(this.Xt),this.Gt}Rt(){const t=this.Xt;if(t.Vt=!1,2===this.Ct.N().mode)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const s=this.ts.At();if(s.Zi())return;t.Qi=s.Qi();const i=this.ji();if(null===i)return;t.Bi=i.Bi;const n=s.ss(this.Ct.Bt());t.ri=s.ns(w(n)),t.Vt=!0;const r=this.ts.Ki().K(e.labelBackgroundColor);t.X=r.X,t.R=r.G,t.pi=s.N().ticksVisible}}class ${constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Wt(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var tt;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"}(tt||(tt={}));class et extends ${constructor(t,e){super(),this.yt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.xs=NaN,this.Ss=NaN,this.Cs=NaN,this.ts=t,this.ys=e,this.Ps=((t,e)=>s=>{const i=e(),n=t();if(s===w(this.yt).ks())return{gt:n,Bi:i};{const t=w(s.zt());return{gt:s.Ts(i,t),Bi:i}}})((()=>this.ds),(()=>this.xs));const s=((t,e)=>()=>{const s=this.ts.At().Rs(t()),i=e();return s&&Number.isFinite(i)?{wt:s,Bi:i}:null})((()=>this.fs),(()=>this.si()));this.Ds=new X(this,t,s)}N(){return this.ys}Vs(t,e){this.Ss=t,this.Cs=e}Is(){this.Ss=NaN,this.Cs=NaN}Bs(){return this.Ss}As(){return this.Cs}Es(t,e,s){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,s)}Bt(){return this.fs}si(){return this.bs}ni(){return this.xs}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.xs=NaN,this.yt=null,this.Is(),this.Ns()}Ws(t){let e=this.gs.get(t);e||(e=new V(this,t),this.gs.set(t,e));let s=this.Ms.get(t);return s||(s=new U(this.ts,this,t),this.Ms.set(t,s)),[e,s]}ti(t){return t===this.yt&&this.ys.horzLine.visible}ii(){return this.ys.vertLine.visible}Fs(t,e){this.ps&&this.yt===t||this.vs.clear();const s=[];return this.yt===t&&s.push(this.Hs(this.vs,e,this.Ps)),s}cs(){return this.ps?[this.Ds]:[]}Us(){return this.yt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.Pt(),this.Ms.get(t)?.Pt()})),this.vs.forEach((t=>t.Pt())),this.Ds.Pt()}qs(t){return t&&!t.ks().Zi()?t.ks():null}zs(t,e,s){this.Ys(t,e,s)&&this.Ns()}Ys(t,e,s){const i=this.bs,n=this.xs,r=this.ds,o=this.fs,h=this.yt,a=this.qs(s);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.At().qt(t),this.yt=s;const l=null!==a?a.zt():null;return null!==a&&null!==l?(this.ds=e,this.xs=a.Nt(e,l)):(this.ds=NaN,this.xs=NaN),i!==this.bs||n!==this.xs||o!==this.fs||r!==this.ds||h!==this.yt}Os(){const t=this.ts.js().map((t=>t.Ks().Zs())).filter(T),e=0===t.length?null:Math.max(...t);this.fs=null!==e?e:NaN}Hs(t,e,s){let i=t.get(e);return void 0===i&&(i=new J(this,e,s),t.set(e,i)),i}}function st(t){return"left"===t||"right"===t}class it{constructor(t){this.Xs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const s=function(t,e){return void 0===t?e:{tn:Math.max(t.tn,e.tn),sn:t.sn||e.sn}}(this.Xs.get(t),e);this.Xs.set(t,s)}nn(){return this.Js}en(t){const e=this.Xs.get(t);return void 0===e?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Ft:t}]}_n(t){this.un(),this.Gs.push({an:5,Ft:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Ft:t})}fn(t){this.hn(),this.Gs.push({an:3,Ft:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Xs.forEach(((t,e)=>{this.Qs(e,t)}))}static wn(){return new it(2)}static gn(){return new it(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Ft);break;case 2:this.dn(t.Ft);break;case 3:this.fn(t.Ft);break;case 4:this.cn();break;case 5:this._n(t.Ft);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((t=>5===t.an));-1!==t&&this.Gs.splice(t,1)}}function nt(t,e){if(!x(t))return"n/a";if(!S(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class rt{constructor(t,e){if(e||(e=1),x(t)&&S(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.xn(t)}bn(){if(this.Sn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.Sn++}}xn(t){const e=this.Yi/this.Mn;let s=Math.floor(t),i="";const n=void 0!==this.Sn?this.Sn:NaN;if(e>1){let r=+(Math.round(t*e)-s*e).toFixed(this.Sn);r>=e&&(r-=e,s+=1),i="."+nt(+r.toFixed(this.Sn)*this.Mn,n)}else s=Math.round(s*e)/e,n>0&&(i="."+nt(0,n));return s.toFixed(0)+i}}class ot extends rt{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class ht{constructor(t){this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.yn(t):t<999995?e+this.yn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.yn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.yn(t/1e9)+"B")}yn(t){let e;const s=Math.pow(10,this.Cn);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((t,e)=>e))}}const at=/[2-9]/g;class lt{constructor(t=50){this.Pn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.Pn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,e,s){return this.Bn(t,e,s).width}Di(t,e,s){const i=this.Bn(t,e,s);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Bn(t,e,s){const i=s||at,n=String(e).replace(i,"0");if(this.Dn.has(n))return v(this.Dn.get(n)).An;if(this.Pn===this.Vn){const t=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(t),this.Tn++,this.Pn--}t.save(),t.textBaseline="middle";const r=t.measureText(n);return t.restore(),0===r.width&&e.length||(this.Dn.set(n,{An:r,En:this.kn}),this.Rn[this.kn]=n,this.Pn++,this.kn++),r}}class ct{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,s){this.zn=t,this.M=e,this.Ln=s}nt(t){null!==this.M&&null!==this.zn&&this.zn.nt(t,this.M,this.On,this.Ln)}}class ut{constructor(t,e,s){this.Wn=t,this.On=new lt(50),this.Fn=e,this.O=s,this.W=-1,this.Gt=new ct(this.On)}Tt(){const t=this.O.Hn(this.Fn);if(null===t)return null;const e=t.Un(this.Fn)?t.$n():this.Fn.Wt();if(null===e)return null;const s=t.qn(e);if("overlay"===s)return null;const i=this.O.Yn();return i.P!==this.W&&(this.W=i.P,this.On.In()),this.Gt.Nn(this.Wn.$i(),i,s),this.Gt}}class dt extends D{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;const{ut:s,ct:i,Zn:n}=this.Yt;return e>=s-i-7&&e<=s+i+7?{Kn:this.Yt,Zn:n}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(null===this.Yt)return;if(!1===this.Yt.Vt)return;const n=Math.round(this.Yt.ut*i);n<0||n>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*s),f(t,this.Yt.Kt),m(t,n,0,e.width))}}class pt{constructor(t){this.Xn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Kt:0,Vt:!1},this.Gn=new dt,this.St=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Xn)}Pt(){this.St=!0}Tt(){return this.Jn.Vt()?(this.St&&(this.te(),this.St=!1),this.Gn):null}}class ft extends pt{constructor(t){super(t)}te(){this.Xn.Vt=!1;const t=this.Jn.Wt(),e=t.ie().ie;if(2!==e&&3!==e)return;const s=this.Jn.N();if(!s.baseLineVisible||!this.Jn.Vt())return;const i=this.Jn.zt();null!==i&&(this.Xn.Vt=!0,this.Xn.ut=t.Nt(i.Ft,i.Ft),this.Xn.R=s.baseLineColor,this.Xn.ct=s.baseLineWidth,this.Xn.Kt=s.baseLineStyle)}}class mt extends D{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const i=this.Yt;if(null===i)return;const n=Math.max(1,Math.floor(e)),r=n%2/2,o=Math.round(i.ne.x*e)+r,h=i.ne.y*s;t.fillStyle=i.ee,t.beginPath();const a=Math.max(2,1.5*i.re)*e;t.arc(o,h,a,0,2*Math.PI,!1),t.fill(),t.fillStyle=i.he,t.beginPath(),t.arc(o,h,i.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=n,t.strokeStyle=i.ae,t.beginPath(),t.arc(o,h,i.ft*e+n/2,0,2*Math.PI,!1),t.stroke()}}const gt=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class vt{constructor(t){this.Gt=new mt,this.St=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.Pt()}be(){if(this.Pt(),2===this.ge.N().lastPriceAnimation){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}Pt(){this.St=!0}xe(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}Se(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.St?(this.Rt(),this.St=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().At(),e=t.ye(),s=this.ge.zt();if(null===e||null===s)return;const i=this.ge.Pe(!0);if(i.ke||!e.Te(i.Re))return;const n={x:t.qt(i.Re),y:this.ge.Wt().Nt(i.gt,s.Ft)},r=i.R,o=this.ge.N().lineWidth,h=this.De(this.Ve(),r);this.Gt.ht({ee:r,re:o,he:h.he,ae:h.ae,ft:h.ft,ne:n})}Ce(){const t=this.Gt.se();if(null!==t){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.Se()?performance.now()-this.me:2599}Ie(t,e,s,i){const n=s+(i-s)*e;return this.ge.Qt().Ki().j(t,n)}De(t,e){const s=t%2600/2600;let i;for(const t of gt)if(s>=t.le&&s<=t.oe){i=t;break}g(void 0!==i,"Last price animation internal logic error");const n=(s-i.le)/(i.oe-i.le);return{he:this.Ie(e,n,i.ce,i.de),ae:this.Ie(e,n,i.fe,i.pe),ft:(r=n,o=i._e,h=i.ue,o+(h-o)*r)};var r,o,h}}class wt extends pt{constructor(t){super(t)}te(){const t=this.Xn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const s=this.Jn.Pe(0===e.priceLineSource);s.ke||(t.Vt=!0,t.ut=s.Bi,t.R=this.Jn.Be(s.R),t.ct=e.priceLineWidth,t.Kt=e.priceLineStyle)}}class yt extends K{constructor(t){super(),this.Jt=t}qi(t,e,s){t.Vt=!1,e.Vt=!1;const i=this.Jt;if(!i.Vt())return;const n=i.N(),r=n.lastValueVisible,o=""!==i.Ae(),h=0===n.seriesLastValueMode,a=i.Pe(!1);if(a.ke)return;r&&(t.ri=this.Ee(a,r,h),t.Vt=0!==t.ri.length),(o||h)&&(e.ri=this.ze(a,r,o,h),e.Vt=e.ri.length>0);const l=i.Be(a.R),c=this.Jt.Qt().Ki().K(l);s.X=c.X,s.Bi=a.Bi,e.Ht=i.Qt().Ut(a.Bi/i.Wt().$t()),t.Ht=l,t.R=c.G,e.R=c.G}ze(t,e,s,i){let n="";const r=this.Jt.Ae();return s&&0!==r.length&&(n+=`${r} `),e&&i&&(n+=this.Jt.Wt().Le()?t.Oe:t.Ne),n.trim()}Ee(t,e,s){return e?s?this.Jt.Wt().Le()?t.Ne:t.Oe:t.ri:""}}function bt(t,e,s,i){const n=Number.isFinite(e),r=Number.isFinite(s);return n&&r?t(e,s):n||r?n?e:s:i}class Ct{constructor(t,e){this.We=t,this.Fe=e}He(t){return null!==t&&this.We===t.We&&this.Fe===t.Fe}Ue(){return new Ct(this.We,this.Fe)}$e(){return this.We}qe(){return this.Fe}Ye(){return this.Fe-this.We}Zi(){return this.Fe===this.We||Number.isNaN(this.Fe)||Number.isNaN(this.We)}vn(t){return null===t?this:new Ct(bt(Math.min,this.$e(),t.$e(),-1/0),bt(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!x(t))return;if(0==this.Fe-this.We)return;const e=.5*(this.Fe+this.We);let s=this.Fe-e,i=this.We-e;s*=t,i*=t,this.Fe=e+s,this.We=e+i}Ze(t){x(t)&&(this.Fe+=t,this.We+=t)}Ke(){return{minValue:this.We,maxValue:this.Fe}}static Xe(t){return null===t?null:new Ct(t.minValue,t.maxValue)}}class xt{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Ke(){return{priceRange:null===this.Ge?null:this.Ge.Ke(),margins:this.Je||void 0}}static Xe(t){return null===t?null:new xt(Ct.Xe(t.priceRange),t.margins)}}class St extends pt{constructor(t,e){super(t),this.ir=e}te(){const t=this.Xn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const s=this.ir.sr();null!==s&&(t.Vt=!0,t.ut=s,t.R=e.color,t.ct=e.lineWidth,t.Kt=e.lineStyle,t.Zn=this.ir.N().id)}}class At extends K{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,s){t.Vt=!1,e.Vt=!1;const i=this.ir.N(),n=i.axisLabelVisible,r=""!==i.title,o=this.ge;if(!n||!o.Vt())return;const h=this.ir.sr();if(null===h)return;r&&(e.ri=i.title,e.Vt=!0),e.Ht=o.Qt().Ut(h/o.Wt().$t()),t.ri=this.nr(i.price),t.Vt=!0;const a=this.ge.Qt().Ki().K(i.axisLabelColor||i.color);s.X=a.X;const l=i.axisLabelTextColor||a.G;t.R=l,e.R=l,s.Bi=h}nr(t){const e=this.ge.zt();return null===e?"":this.ge.Wt().Xi(t,e.Ft)}}class Et{constructor(t,e){this.ge=t,this.ys=e,this.er=new St(t,this),this.Wn=new At(t,this),this.rr=new ut(this.Wn,t,t.Qt())}hr(t){C(this.ys,t),this.Pt(),this.ge.Qt().ar()}N(){return this.ys}lr(){return this.er}_r(){return this.rr}ur(){return this.Wn}Pt(){this.er.Pt(),this.Wn.Pt()}sr(){const t=this.ge,e=t.Wt();if(t.Qt().At().Zi()||e.Zi())return null;const s=t.zt();return null===s?null:e.Nt(this.ys.price,s.Ft)}}class kt extends ${constructor(t){super(),this.ts=t}Qt(){return this.ts}}const Tt={Bar:(t,e,s,i)=>{const n=e.upColor,r=e.downColor,o=w(t(s,i)),h=y(o.Ft[0])<=y(o.Ft[3]);return{cr:o.R??(h?n:r)}},Candlestick:(t,e,s,i)=>{const n=e.upColor,r=e.downColor,o=e.borderUpColor,h=e.borderDownColor,a=e.wickUpColor,l=e.wickDownColor,c=w(t(s,i)),u=y(c.Ft[0])<=y(c.Ft[3]);return{cr:c.R??(u?n:r),dr:c.Ht??(u?o:h),pr:c.vr??(u?a:l)}},Custom:(t,e,s,i)=>({cr:w(t(s,i)).R??e.color}),Area:(t,e,s,i)=>{const n=w(t(s,i));return{cr:n.vt??e.lineColor,vt:n.vt??e.lineColor,mr:n.mr??e.topColor,wr:n.wr??e.bottomColor}},Baseline:(t,e,s,i)=>{const n=w(t(s,i));return{cr:n.Ft[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:n.gr??e.topLineColor,Mr:n.Mr??e.bottomLineColor,br:n.br??e.topFillColor1,Sr:n.Sr??e.topFillColor2,Cr:n.Cr??e.bottomFillColor1,yr:n.yr??e.bottomFillColor2}},Line:(t,e,s,i)=>{const n=w(t(s,i));return{cr:n.R??e.color,vt:n.R??e.color}},Histogram:(t,e,s,i)=>({cr:w(t(s,i)).R??e.color})};class It{constructor(t){this.Pr=(t,e)=>void 0!==e?e.Ft:this.ge.Ks().kr(t),this.ge=t,this.Tr=Tt[t.Rr()]}Dr(t,e){return this.Tr(this.Pr,this.ge.N(),t,e)}}function _t(t,e,s,i,n=0,r=e.length){let o=r-n;for(;0<o;){const r=o>>1,h=n+r;i(e[h],s)===t?(n=h+1,o-=r+1):o=r}return n}const Mt=_t.bind(null,!0),Pt=_t.bind(null,!1);var Rt;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Rt||(Rt={}));const Ot=30;class zt{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Ar=[]}Er(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Zs(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Zi(){return 0===this.zr()}Te(t){return null!==this.Nr(t,0)}kr(t){return this.Wr(t)}Wr(t,e=0){const s=this.Nr(t,e);return null===s?null:{...this.Fr(s),Re:this.Or(s)}}Hr(){return this.Vr}Ur(t,e,s){if(this.Zi())return null;let i=null;for(const n of s)i=Bt(i,this.$r(t,e,n));return i}ht(t){this.Br.clear(),this.Ir.clear(),this.Vr=t,this.Ar=t.map((t=>t.Re))}qr(){return this.Ar}Or(t){return this.Vr[t].Re}Fr(t){return this.Vr[t]}Nr(t,e){const s=this.Yr(t);if(null===s&&0!==e)switch(e){case-1:return this.jr(t);case 1:return this.Zr(t);default:throw new TypeError("Unknown search mode")}return s}jr(t){let e=this.Kr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Zr(t){const e=this.Xr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Kr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Kr(t){return Mt(this.Vr,t,((t,e)=>t.Re<e))}Xr(t){return Pt(this.Vr,t,((t,e)=>t.Re>e))}Gr(t,e,s){let i=null;for(let n=t;n<e;n++){const t=this.Vr[n].Ft[s];Number.isNaN(t)||(null===i?i={Jr:t,Qr:t}:(t<i.Jr&&(i.Jr=t),t>i.Qr&&(i.Qr=t)))}return i}$r(t,e,s){if(this.Zi())return null;let i=null;const n=w(this.Lr()),r=w(this.Zs()),o=Math.max(t,n),h=Math.min(e,r),a=Math.ceil(o/Ot)*Ot,l=Math.max(a,Math.floor(h/Ot)*Ot);{const t=this.Kr(o),n=this.Xr(Math.min(h,a,e));i=Bt(i,this.Gr(t,n,s))}let c=this.Ir.get(s);void 0===c&&(c=new Map,this.Ir.set(s,c));for(let t=Math.max(a+1,o);t<l;t+=Ot){const e=Math.floor(t/Ot);let n=c.get(e);if(void 0===n){const t=this.Kr(e*Ot),i=this.Xr((e+1)*Ot-1);n=this.Gr(t,i,s),c.set(e,n)}i=Bt(i,n)}{const t=this.Kr(l),e=this.Xr(h);i=Bt(i,this.Gr(t,e,s))}return i}}function Bt(t,e){return null===t?e:null===e?t:{Jr:Math.min(t.Jr,e.Jr),Qr:Math.max(t.Qr,e.Qr)}}class Dt{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){this.th.drawBackground?.(t)}}class Lt{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new Dt(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class jt{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Ws(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const e=t.map((t=>new Lt(t)));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let Nt=class extends jt{us(){return[]}};class Ut{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){this.th.drawBackground?.(t)}}class Ft{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new Ut(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function Vt(t){return{ri:t.text(),Bi:t.coordinate(),Ii:t.fixedCoordinate?.(),R:t.textColor(),X:t.backColor(),Vt:t.visible?.()??!0,pi:t.tickVisible?.()??!0}}class qt{constructor(t,e){this.Gt=new G,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Vt(this._h)}),this.Gt}}class Wt extends K{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,s){const i=Vt(this._h);s.X=i.X,t.R=i.R;const n=2/12*this.Yi.P();s.Ti=n,s.Ri=n,s.Bi=i.Bi,s.Ii=i.Ii,t.ri=i.ri,t.Vt=i.Vt,t.pi=i.pi}}class Yt extends jt{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const e=this.ge.Qt().At(),s=t.map((t=>new qt(t,e)));return this.dh={nh:t,eh:s},s}Fs(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const e=this.ge.Wt(),s=t.map((t=>new Wt(t,e)));return this.fh={nh:t,eh:s},s}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const e=t.map((t=>new Ft(t)));return this.ph={nh:t,eh:e},e}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const e=t.map((t=>new Ft(t)));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function Qt(t,e,s,i){t.forEach((t=>{e(t).forEach((t=>{t.rh()===s&&i.push(t)}))}))}function Ht(t){return t.Ws()}function Kt(t){return t.wh()}function Jt(t){return t.gh()}const Zt=["Area","Line","Baseline"];class Gt extends kt{constructor(t,e,s,i,n){super(t),this.Yt=new zt,this.er=new wt(this),this.bh=[],this.xh=new ft(this),this.Sh=null,this.Ch=null,this.yh=null,this.Ph=[],this.ys=s,this.kh=e;const r=new yt(this);this.vs=[r],this.rr=new ut(r,this,t),Zt.includes(this.kh)&&(this.Sh=new vt(this)),this.Th(),this.sh=i(this,this.Qt(),n)}m(){null!==this.yh&&clearTimeout(this.yh)}Be(t){return this.ys.priceLineColor||t}Pe(t){const e={ke:!0},s=this.Wt();if(this.Qt().At().Zi()||s.Zi()||this.Yt.Zi())return e;const i=this.Qt().At().ye(),n=this.zt();if(null===i||null===n)return e;let r,o;if(t){const t=this.Yt.Er();if(null===t)return e;r=t,o=t.Re}else{const t=this.Yt.Wr(i.bi(),-1);if(null===t)return e;if(r=this.Yt.kr(t.Re),null===r)return e;o=t.Re}const h=r.Ft[3],a=this.Rh().Dr(o,{Ft:r}),l=s.Nt(h,n.Ft);return{ke:!1,gt:h,ri:s.Xi(h,n.Ft),Oe:s.Dh(h),Ne:s.Vh(h,n.Ft),R:a.cr,Bi:l,Re:o}}Rh(){return null!==this.Ch||(this.Ch=new It(this)),this.Ch}N(){return this.ys}hr(t){const e=t.priceScaleId;void 0!==e&&e!==this.ys.priceScaleId&&this.Qt().Ih(this,e),C(this.ys,t),void 0!==t.priceFormat&&(this.Th(),this.Qt().Bh()),this.Qt().Ah(this),this.Qt().Eh(),this.sh.Pt("options")}ht(t,e){this.Yt.ht(t),this.sh.Pt("data"),null!==this.Sh&&(e&&e.zh?this.Sh.be():0===t.length&&this.Sh.Me());const s=this.Qt().Hn(this);this.Qt().Lh(s),this.Qt().Ah(this),this.Qt().Eh(),this.Qt().ar()}Oh(t){const e=new Et(this,t);return this.bh.push(e),this.Qt().Ah(this),e}Nh(t){const e=this.bh.indexOf(t);-1!==e&&this.bh.splice(e,1),this.Qt().Ah(this)}Wh(){return this.bh}Rr(){return this.kh}zt(){const t=this.Fh();return null===t?null:{Ft:t.Ft[3],Hh:t.wt}}Fh(){const t=this.Qt().At().ye();if(null===t)return null;const e=t.Uh();return this.Yt.Wr(e,1)}Ks(){return this.Yt}$h(t){const e=this.Yt.kr(t);return null===e?null:"Bar"===this.kh||"Candlestick"===this.kh||"Custom"===this.kh?{qh:e.Ft[0],Yh:e.Ft[1],jh:e.Ft[2],Zh:e.Ft[3]}:e.Ft[3]}Kh(t){const e=[];Qt(this.Ph,Ht,"top",e);const s=this.Sh;return null!==s&&s.Vt()?(null===this.yh&&s.Se()&&(this.yh=setTimeout((()=>{this.yh=null,this.Qt().Xh()}),0)),s.xe(),e.unshift(s),e):e}Ws(){const t=[];this.Gh()||t.push(this.xh),t.push(this.sh,this.er);const e=this.bh.map((t=>t.lr()));return t.push(...e),Qt(this.Ph,Ht,"normal",t),t}Jh(){return this.Qh(Ht,"bottom")}ta(t){return this.Qh(Kt,t)}ia(t){return this.Qh(Jt,t)}sa(t,e){return this.Ph.map((s=>s.jn(t,e))).filter((t=>null!==t))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Fs(t,e){if(e!==this.es&&!this.Gh())return[];const s=[...this.vs];for(const t of this.bh)s.push(t.ur());return this.Ph.forEach((t=>{s.push(...t.Fs())})),s}cs(){const t=[];return this.Ph.forEach((e=>{t.push(...e.cs())})),t}Mh(t,e){if(void 0!==this.ys.autoscaleInfoProvider){const s=this.ys.autoscaleInfoProvider((()=>{const s=this.na(t,e);return null===s?null:s.Ke()}));return xt.Xe(s)}return this.na(t,e)}ea(){return this.ys.priceFormat.minMove}ra(){return this.ha}Ns(){this.sh.Pt();for(const t of this.vs)t.Pt();for(const t of this.bh)t.Pt();this.er.Pt(),this.xh.Pt(),this.Sh?.Pt(),this.Ph.forEach((t=>t.Ns()))}Wt(){return w(super.Wt())}Et(t){if("Line"!==this.kh&&"Area"!==this.kh&&"Baseline"!==this.kh||!this.ys.crosshairMarkerVisible)return null;const e=this.Yt.kr(t);return null===e?null:{gt:e.Ft[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Ae(){return this.ys.title}Vt(){return this.ys.visible}ua(t){this.Ph.push(new Yt(t,this))}ca(t){this.Ph=this.Ph.filter((e=>e.oh()!==t))}da(){if("Custom"===this.kh)return t=>this.sh.fa(t)}pa(){if("Custom"===this.kh)return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!st(this.Wt().wa())}na(t,e){if(!S(t)||!S(e)||this.Yt.Zi())return null;const s="Line"===this.kh||"Area"===this.kh||"Baseline"===this.kh||"Histogram"===this.kh?[3]:[2,1],i=this.Yt.Ur(t,e,s);let n=null!==i?new Ct(i.Jr,i.Qr):null,r=null;if("Histogram"===this.Rr()){const t=this.ys.base,e=new Ct(t,t);n=null!==n?n.vn(e):e}return this.Ph.forEach((s=>{const i=s.Mh(t,e);if(i?.priceRange){const t=new Ct(i.priceRange.minValue,i.priceRange.maxValue);n=null!==n?n.vn(t):t}i?.margins&&(r=i.margins)})),new xt(n,r)}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerRadius}return 0}la(){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}oa(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Rh().Dr(t).cr}Th(){switch(this.ys.priceFormat.type){case"custom":this.ha={format:this.ys.priceFormat.formatter};break;case"volume":this.ha=new ht(this.ys.priceFormat.precision);break;case"percent":this.ha=new ot(this.ys.priceFormat.precision);break;default:{const t=Math.pow(10,this.ys.priceFormat.precision);this.ha=new rt(t,this.ys.priceFormat.minMove*t)}}null!==this.es&&this.es.ga()}Qh(t,e){const s=[];return Qt(this.Ph,t,e,s),s}}const Xt=[3],$t=[0,1,2,3];class te{constructor(t){this.ys=t}Ma(t,e,s){let i=t;if(0===this.ys.mode)return i;const n=s.ks(),r=n.zt();if(null===r)return i;const o=n.Nt(t,r),h=s.ba().filter((t=>t instanceof Gt)).reduce(((t,i)=>{if(s.Un(i)||!i.Vt())return t;const n=i.Wt(),r=i.Ks();if(n.Zi()||!r.Te(e))return t;const o=r.kr(e);if(null===o)return t;const h=y(i.zt()),a=3===this.ys.mode?$t:Xt;return t.concat(a.map((t=>n.Nt(o.Ft[t],h.Ft))))}),[]);if(0===h.length)return i;h.sort(((t,e)=>Math.abs(t-o)-Math.abs(e-o)));const a=h[0];return i=n.Ts(a,r),i}}class ee extends D{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(null===this.Yt)return;const n=Math.max(1,Math.floor(s));t.lineWidth=n,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(t,(()=>{const r=w(this.Yt);if(r.xa){t.strokeStyle=r.Sa,f(t,r.Ca),t.beginPath();for(const i of r.ya){const r=Math.round(i.Pa*s);t.moveTo(r,-n),t.lineTo(r,e.height+n)}t.stroke()}if(r.ka){t.strokeStyle=r.Ta,f(t,r.Ra),t.beginPath();for(const s of r.Da){const r=Math.round(s.Pa*i);t.moveTo(-n,r),t.lineTo(e.width+n,r)}t.stroke()}}))}}class se{constructor(t){this.Gt=new ee,this.St=!0,this.yt=t}Pt(){this.St=!0}Tt(){if(this.St){const t=this.yt.Qt().N().grid,e={ka:t.horzLines.visible,xa:t.vertLines.visible,Ta:t.horzLines.color,Sa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.yt.ks().Va(),ya:(this.yt.Qt().At().Va()||[]).map((t=>({Pa:t.coord})))};this.Gt.ht(e),this.St=!1}return this.Gt}}class ie{constructor(t){this.sh=new se(t)}lr(){return this.sh}}const ne={Ia:4,Ba:1e-4};function re(t,e){const s=100*(t-e)/e;return e<0?-s:s}function oe(t,e){const s=re(t.$e(),e),i=re(t.qe(),e);return new Ct(s,i)}function he(t,e){const s=100*(t-e)/e+100;return e<0?-s:s}function ae(t,e){const s=he(t.$e(),e),i=he(t.qe(),e);return new Ct(s,i)}function le(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const i=Math.log10(s+e.Ba)+e.Ia;return t<0?-i:i}function ce(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const i=Math.pow(10,s-e.Ia)-e.Ba;return t<0?-i:i}function ue(t,e){if(null===t)return null;const s=le(t.$e(),e),i=le(t.qe(),e);return new Ct(s,i)}function de(t,e){if(null===t)return null;const s=ce(t.$e(),e),i=ce(t.qe(),e);return new Ct(s,i)}function pe(t){if(null===t)return ne;const e=Math.abs(t.qe()-t.$e());if(e>=1||e<1e-15)return ne;const s=Math.ceil(Math.abs(Math.log10(e))),i=ne.Ia+s;return{Ia:i,Ba:1/Math.pow(10,i)}}function fe(t,e,s){return Math.min(Math.max(t,e),s)}function me(t,e,s){return e-t<=s}class ge{constructor(t,e){if(this.Aa=t,this.Ea=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Aa))this.za=[2,2.5,2];else{this.za=[];for(let t=this.Aa;1!==t;){if(t%2==0)this.za.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),t/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,s){const i=0===this.Aa?0:1/this.Aa;let n=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),r=0,o=this.Ea[0];for(;;){const t=me(n,i,1e-14)&&n>i+1e-14,e=me(n,s*o,1e-14),h=me(n,1,1e-14);if(!(t&&e&&h))break;n/=o,o=this.Ea[++r%this.Ea.length]}if(n<=i+1e-14&&(n=i),n=Math.max(1,n),this.za.length>0&&(h=n,Math.abs(h-1)<1e-14))for(r=0,o=this.za[0];me(n,s*o,1e-14)&&n>i+1e-14;)n/=o,o=this.za[++r%this.za.length];var h;return n}}class ve{constructor(t,e,s,i){this.Oa=[],this.Yi=t,this.Aa=e,this.Na=s,this.Wa=i}La(t,e){if(t<e)throw new Error("high < low");const s=this.Yi.$t(),i=(t-e)*this.Fa()/s,n=new ge(this.Aa,[2,2.5,2]),r=new ge(this.Aa,[2,2,2.5]),o=new ge(this.Aa,[2.5,2,2]),h=[];return h.push(n.La(t,e,i),r.La(t,e,i),o.La(t,e,i)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let s=1;s<t.length;++s)t[s]<e&&(e=t[s]);return e}(h)}Ha(){const t=this.Yi,e=t.zt();if(null===e)return void(this.Oa=[]);const s=t.$t(),i=this.Na(s-1,e),n=this.Na(0,e),r=this.Yi.N().entireTextOnly?this.Ua()/2:0,o=r,h=s-1-r,a=Math.max(i,n),l=Math.min(i,n);if(a===l)return void(this.Oa=[]);let c=this.La(a,l),u=a%c;u+=u<0?c:0;const d=a>=l?1:-1;let p=null,f=0;for(let s=a-u;s>l;s-=c){const i=this.Wa(s,e,!0);null!==p&&Math.abs(i-p)<this.Fa()||i<o||i>h||(f<this.Oa.length?(this.Oa[f].Pa=i,this.Oa[f].$a=t.qa(s)):this.Oa.push({Pa:i,$a:t.qa(s)}),f++,p=i,t.Ya()&&(c=this.La(s*d,l)))}this.Oa.length=f}Va(){return this.Oa}Ua(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ua())}}function we(t){return t.slice().sort(((t,e)=>w(t.hs())-w(e.hs())))}var ye;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(ye||(ye={}));const be=new ot,Ce=new rt(100,1);class xe{constructor(t,e,s,i,n){this.ja=0,this.Za=null,this.Ge=null,this.Ka=null,this.Xa={Ga:!1,Ja:null},this.Qa=0,this.tl=0,this.il=new b,this.sl=new b,this.nl=[],this.el=null,this.rl=null,this.hl=null,this.al=null,this.ha=Ce,this.ll=pe(null),this.ol=t,this.ys=e,this._l=s,this.ul=i,this.cl=n,this.dl=new ve(this,100,this.fl.bind(this),this.pl.bind(this))}wa(){return this.ol}N(){return this.ys}hr(t){if(C(this.ys,t),this.ga(),void 0!==t.mode&&this.vl({ie:t.mode}),void 0!==t.scaleMargins){const e=v(t.scaleMargins.top),s=v(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.ml(),this.rl=null}}wl(){return this.ys.autoScale}Ya(){return 1===this.ys.mode}Le(){return 2===this.ys.mode}gl(){return 3===this.ys.mode}ie(){return{sn:this.ys.autoScale,Ml:this.ys.invertScale,ie:this.ys.mode}}vl(t){const e=this.ie();let s=null;void 0!==t.sn&&(this.ys.autoScale=t.sn),void 0!==t.ie&&(this.ys.mode=t.ie,2!==t.ie&&3!==t.ie||(this.ys.autoScale=!0),this.Xa.Ga=!1),1===e.ie&&t.ie!==e.ie&&(function(t,e){if(null===t)return!1;const s=ce(t.$e(),e),i=ce(t.qe(),e);return isFinite(s)&&isFinite(i)}(this.Ge,this.ll)?(s=de(this.Ge,this.ll),null!==s&&this.bl(s)):this.ys.autoScale=!0),1===t.ie&&t.ie!==e.ie&&(s=ue(this.Ge,this.ll),null!==s&&this.bl(s));const i=e.ie!==this.ys.mode;i&&(2===e.ie||this.Le())&&this.ga(),i&&(3===e.ie||this.gl())&&this.ga(),void 0!==t.Ml&&e.Ml!==t.Ml&&(this.ys.invertScale=t.Ml,this.xl()),this.sl.p(e,this.ie())}Sl(){return this.sl}P(){return this._l.fontSize}$t(){return this.ja}Cl(t){this.ja!==t&&(this.ja=t,this.ml(),this.rl=null)}yl(){if(this.Za)return this.Za;const t=this.$t()-this.Pl()-this.kl();return this.Za=t,t}Qe(){return this.Tl(),this.Ge}bl(t,e){const s=this.Ge;(e||null===s&&null!==t||null!==s&&!s.He(t))&&(this.rl=null,this.Ge=t)}Zi(){return this.Tl(),0===this.ja||!this.Ge||this.Ge.Zi()}Rl(t){return this.Ml()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=re(t,e):this.gl()&&(t=he(t,e)),this.pl(t,e)}Dl(t,e,s){this.Tl();const i=this.kl(),n=w(this.Qe()),r=n.$e(),o=n.qe(),h=this.yl()-1,a=this.Ml(),l=h/(o-r),c=void 0===s?0:s.from,u=void 0===s?t.length:s.to,d=this.Vl();for(let s=c;s<u;s++){const n=t[s],o=n.gt;if(isNaN(o))continue;let h=o;null!==d&&(h=d(n.gt,e));const c=i+l*(h-r),u=a?c:this.ja-1-c;n.ut=u}}Il(t,e,s){this.Tl();const i=this.kl(),n=w(this.Qe()),r=n.$e(),o=n.qe(),h=this.yl()-1,a=this.Ml(),l=h/(o-r),c=void 0===s?0:s.from,u=void 0===s?t.length:s.to,d=this.Vl();for(let s=c;s<u;s++){const n=t[s];let o=n.qh,h=n.Yh,c=n.jh,u=n.Zh;null!==d&&(o=d(n.qh,e),h=d(n.Yh,e),c=d(n.jh,e),u=d(n.Zh,e));let p=i+l*(o-r),f=a?p:this.ja-1-p;n.Bl=f,p=i+l*(h-r),f=a?p:this.ja-1-p,n.Al=f,p=i+l*(c-r),f=a?p:this.ja-1-p,n.El=f,p=i+l*(u-r),f=a?p:this.ja-1-p,n.zl=f}}Ts(t,e){const s=this.fl(t,e);return this.Ll(s,e)}Ll(t,e){let s=t;return this.Le()?s=function(t,e){return e<0&&(t=-t),t/100*e+e}(s,e):this.gl()&&(s=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(s,e)),s}ba(){return this.nl}Dt(){if(this.el)return this.el;let t=[];for(let e=0;e<this.nl.length;e++){const s=this.nl[e];null===s.hs()&&s.ls(e+1),t.push(s)}return t=we(t),this.el=t,this.el}Ol(t){-1===this.nl.indexOf(t)&&(this.nl.push(t),this.ga(),this.Nl())}Wl(t){const e=this.nl.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.nl.splice(e,1),0===this.nl.length&&(this.vl({sn:!0}),this.bl(null)),this.ga(),this.Nl()}zt(){let t=null;for(const e of this.nl){const s=e.zt();null!==s&&(null===t||s.Hh<t.Hh)&&(t=s)}return null===t?null:t.Ft}Ml(){return this.ys.invertScale}Va(){const t=null===this.zt();if(null!==this.rl&&(t||this.rl.Fl===t))return this.rl.Va;this.dl.Ha();const e=this.dl.Va();return this.rl={Va:e,Fl:t},this.il.p(),e}Hl(){return this.il}Ul(t){this.Le()||this.gl()||null===this.hl&&null===this.Ka&&(this.Zi()||(this.hl=this.ja-t,this.Ka=w(this.Qe()).Ue()))}$l(t){if(this.Le()||this.gl())return;if(null===this.hl)return;this.vl({sn:!1}),(t=this.ja-t)<0&&(t=0);let e=(this.hl+.2*(this.ja-1))/(t+.2*(this.ja-1));const s=w(this.Ka).Ue();e=Math.max(e,.1),s.je(e),this.bl(s)}ql(){this.Le()||this.gl()||(this.hl=null,this.Ka=null)}Yl(t){this.wl()||null===this.al&&null===this.Ka&&(this.Zi()||(this.al=t,this.Ka=w(this.Qe()).Ue()))}jl(t){if(this.wl())return;if(null===this.al)return;const e=w(this.Qe()).Ye()/(this.yl()-1);let s=t-this.al;this.Ml()&&(s*=-1);const i=s*e,n=w(this.Ka).Ue();n.Ze(i),this.bl(n,!0),this.rl=null}Zl(){this.wl()||null!==this.al&&(this.al=null,this.Ka=null)}ra(){return this.ha||this.ga(),this.ha}Xi(t,e){switch(this.ys.mode){case 2:return this.Kl(re(t,e));case 3:return this.ra().format(he(t,e));default:return this.nr(t)}}qa(t){switch(this.ys.mode){case 2:return this.Kl(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Dh(t){return this.nr(t,w(this.Xl()).ra())}Vh(t,e){return t=re(t,e),this.Kl(t,be)}Gl(){return this.nl}Jl(t){this.Xa={Ja:t,Ga:!1}}Ns(){this.nl.forEach((t=>t.Ns()))}ga(){this.rl=null;const t=this.Xl();let e=100;null!==t&&(e=Math.round(1/t.ea())),this.ha=Ce,this.Le()?(this.ha=be,e=100):this.gl()?(this.ha=new rt(100,1),e=100):null!==t&&(this.ha=t.ra()),this.dl=new ve(this,e,this.fl.bind(this),this.pl.bind(this)),this.dl.Ha()}Nl(){this.el=null}Ki(){return this.cl}Xl(){return this.nl[0]||null}Pl(){return this.Ml()?this.ys.scaleMargins.bottom*this.$t()+this.tl:this.ys.scaleMargins.top*this.$t()+this.Qa}kl(){return this.Ml()?this.ys.scaleMargins.top*this.$t()+this.Qa:this.ys.scaleMargins.bottom*this.$t()+this.tl}Tl(){this.Xa.Ga||(this.Xa.Ga=!0,this.Ql())}ml(){this.Za=null}pl(t,e){if(this.Tl(),this.Zi())return 0;t=this.Ya()&&t?le(t,this.ll):t;const s=w(this.Qe()),i=this.kl()+(this.yl()-1)*(t-s.$e())/s.Ye();return this.Rl(i)}fl(t,e){if(this.Tl(),this.Zi())return 0;const s=this.Rl(t),i=w(this.Qe()),n=i.$e()+i.Ye()*((s-this.kl())/(this.yl()-1));return this.Ya()?ce(n,this.ll):n}xl(){this.rl=null,this.dl.Ha()}Ql(){const t=this.Xa.Ja;if(null===t)return;let e=null;const s=this.Gl();let i=0,n=0;for(const r of s){if(!r.Vt())continue;const s=r.zt();if(null===s)continue;const o=r.Mh(t.Uh(),t.bi());let h=o&&o.Qe();if(null!==h){switch(this.ys.mode){case 1:h=ue(h,this.ll);break;case 2:h=oe(h,s.Ft);break;case 3:h=ae(h,s.Ft)}if(e=null===e?h:e.vn(w(h)),null!==o){const t=o.tr();null!==t&&(i=Math.max(i,t.above),n=Math.max(n,t.below))}}}if(i===this.Qa&&n===this.tl||(this.Qa=i,this.tl=n,this.rl=null,this.ml()),null!==e){if(e.$e()===e.qe()){const t=this.Xl(),s=5*(null===t||this.Le()||this.gl()?1:t.ea());this.Ya()&&(e=de(e,this.ll)),e=new Ct(e.$e()-s,e.qe()+s),this.Ya()&&(e=ue(e,this.ll))}if(this.Ya()){const t=de(e,this.ll),s=pe(t);if(r=s,o=this.ll,r.Ia!==o.Ia||r.Ba!==o.Ba){const i=null!==this.Ka?de(this.Ka,this.ll):null;this.ll=s,e=ue(t,s),null!==i&&(this.Ka=ue(i,s))}}this.bl(e)}else null===this.Ge&&(this.bl(new Ct(-.5,.5)),this.ll=pe(null));var r,o;this.Xa.Ga=!0}Vl(){return this.Le()?re:this.gl()?he:this.Ya()?t=>le(t,this.ll):null}io(t,e,s){return void 0===e?(void 0===s&&(s=this.ra()),s.format(t)):e(t)}nr(t,e){return this.io(t,this.ul.priceFormatter,e)}Kl(t,e){return this.io(t,this.ul.percentageFormatter,e)}}function Se(t){return t instanceof Gt}class Ae{constructor(t,e){this.nl=[],this.so=new Map,this.ja=0,this.no=0,this.eo=1e3,this.el=null,this.ro=new b,this.Ph=[],this.uh=t,this.ts=e,this.ho=new ie(this);const s=e.N();this.ao=this.lo("left",s.leftPriceScale),this.oo=this.lo("right",s.rightPriceScale),this.ao.Sl().i(this._o.bind(this,this.ao),this),this.oo.Sl().i(this._o.bind(this,this.oo),this),this.uo(s)}uo(t){if(t.leftPriceScale&&this.ao.hr(t.leftPriceScale),t.rightPriceScale&&this.oo.hr(t.rightPriceScale),t.localization&&(this.ao.ga(),this.oo.ga()),t.overlayPriceScales){const e=Array.from(this.so.values());for(const s of e){const e=w(s[0].Wt());e.hr(t.overlayPriceScales),t.localization&&e.ga()}}}co(t){switch(t){case"left":return this.ao;case"right":return this.oo}return this.so.has(t)?v(this.so.get(t))[0].Wt():null}m(){this.Qt().do().u(this),this.ao.Sl().u(this),this.oo.Sl().u(this),this.nl.forEach((t=>{t.m&&t.m()})),this.Ph=this.Ph.filter((t=>{const e=t.oh();return e.detached&&e.detached(),!1})),this.ro.p()}fo(){return this.eo}po(t){this.eo=t}Qt(){return this.ts}Qi(){return this.no}$t(){return this.ja}vo(t){this.no=t,this.mo()}Cl(t){this.ja=t,this.ao.Cl(t),this.oo.Cl(t),this.nl.forEach((e=>{if(this.Un(e)){const s=e.Wt();null!==s&&s.Cl(t)}})),this.mo()}wo(){return this.nl.filter(Se)}ba(){return this.nl}Un(t){const e=t.Wt();return null===e||this.ao!==e&&this.oo!==e}Ol(t,e,s){const i=void 0!==s?s:this.bo().Mo+1;this.xo(t,e,i)}Wl(t){const e=this.nl.indexOf(t);g(-1!==e,"removeDataSource: invalid data source"),this.nl.splice(e,1);const s=w(t.Wt()).wa();if(this.so.has(s)){const e=v(this.so.get(s)),i=e.indexOf(t);-1!==i&&(e.splice(i,1),0===e.length&&this.so.delete(s))}const i=t.Wt();i&&i.ba().indexOf(t)>=0&&i.Wl(t),null!==i&&(i.Nl(),this.So(i)),this.el=null}qn(t){return t===this.ao?"left":t===this.oo?"right":"overlay"}Co(){return this.ao}yo(){return this.oo}Po(t,e){t.Ul(e)}ko(t,e){t.$l(e),this.mo()}To(t){t.ql()}Ro(t,e){t.Yl(e)}Do(t,e){t.jl(e),this.mo()}Vo(t){t.Zl()}mo(){this.nl.forEach((t=>{t.Ns()}))}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&0!==this.oo.ba().length?t=this.oo:this.ts.N().leftPriceScale.visible&&0!==this.ao.ba().length?t=this.ao:0!==this.nl.length&&(t=this.nl[0].Wt()),null===t&&(t=this.oo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.oo:this.ts.N().leftPriceScale.visible&&(t=this.ao),t}So(t){null!==t&&t.wl()&&this.Io(t)}Bo(t){const e=this.uh.ye();t.vl({sn:!0}),null!==e&&t.Jl(e),this.mo()}Ao(){this.Io(this.ao),this.Io(this.oo)}Eo(){this.So(this.ao),this.So(this.oo),this.nl.forEach((t=>{this.Un(t)&&this.So(t.Wt())})),this.mo(),this.ts.ar()}Dt(){return null===this.el&&(this.el=we(this.nl)),this.el}It(){return this.Dt().filter(Se)}zo(){return this.ro}Lo(){return this.ho}ua(t){this.Ph.push(new Nt(t))}ca(t){this.Ph=this.Ph.filter((e=>e.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}Oo(){return this.Ph}sa(t,e){return this.Ph.map((s=>s.jn(t,e))).filter((t=>null!==t))}Io(t){const e=t.Gl();if(e&&e.length>0&&!this.uh.Zi()){const e=this.uh.ye();null!==e&&t.Jl(e)}t.Ns()}bo(){const t=this.Dt();if(0===t.length)return{No:0,Mo:0};let e=0,s=0;for(let i=0;i<t.length;i++){const n=t[i].hs();null!==n&&(n<e&&(e=n),n>s&&(s=n))}return{No:e,Mo:s}}xo(t,e,s){let i=this.co(e);if(null===i&&(i=this.lo(e,this.ts.N().overlayPriceScales)),this.nl.push(t),!st(e)){const s=this.so.get(e)||[];s.push(t),this.so.set(e,s)}i.Ol(t),t._s(i),t.ls(s),this.So(i),this.el=null}_o(t,e,s){e.ie!==s.ie&&this.Io(t)}lo(t,e){const s={visible:!0,autoScale:!0,...k(e)},i=new xe(t,s,this.ts.N().layout,this.ts.N().localization,this.ts.Ki());return i.Cl(this.$t()),i}}function Ee(t){return{Wo:t.Wo,Fo:{Zn:t.Ho.externalId},Uo:t.Ho.cursorStyle}}function ke(t,e,s,i){for(const n of t){const t=n.Tt(i);if(null!==t&&t.jn){const i=t.jn(e,s);if(null!==i)return{$o:n,Fo:i}}}return null}function Te(t){return void 0!==t.Ws}function Ie(t,e,s){const i=[t,...t.Dt()],n=function(t,e,s){let i,n;for(const h of t){const t=h.sa?.(e,s)??[];for(const e of t)r=e.zOrder,o=i?.zOrder,(!o||"top"===r&&"top"!==o||"normal"===r&&"bottom"===o)&&(i=e,n=h)}var r,o;return i&&n?{Ho:i,Wo:n}:null}(i,e,s);if("top"===n?.Ho.zOrder)return Ee(n);for(const r of i){if(n&&n.Wo===r&&"bottom"!==n.Ho.zOrder&&!n.Ho.isBackground)return Ee(n);if(Te(r)){const i=ke(r.Ws(t),e,s,t);if(null!==i)return{Wo:r,$o:i.$o,Fo:i.Fo}}if(n&&n.Wo===r&&"bottom"!==n.Ho.zOrder&&n.Ho.isBackground)return Ee(n)}return n?.Ho?Ee(n):null}class _e{constructor(t,e,s=50){this.Pn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.qo=t,this.Yo=e,this.Vn=s}jo(t){const e=t.time,s=this.Yo.cacheKey(e),i=this.Dn.get(s);if(void 0!==i)return i.Zo;if(this.Pn===this.Vn){const t=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(v(t)),this.Tn++,this.Pn--}const n=this.qo(t);return this.Dn.set(s,{Zo:n,En:this.kn}),this.Rn.set(this.kn,s),this.Pn++,this.kn++,n}}class Me{constructor(t,e){g(t<=e,"right should be >= left"),this.Ko=t,this.Xo=e}Uh(){return this.Ko}bi(){return this.Xo}Go(){return this.Xo-this.Ko+1}Te(t){return this.Ko<=t&&t<=this.Xo}He(t){return this.Ko===t.Uh()&&this.Xo===t.bi()}}function Pe(t,e){return null===t||null===e?t===e:t.He(e)}class Re{constructor(){this.Jo=new Map,this.Dn=null,this.Qo=!1}t_(t){this.Qo=t,this.Dn=null}i_(t,e){this.s_(e),this.Dn=null;for(let s=e;s<t.length;++s){const e=t[s];let i=this.Jo.get(e.timeWeight);void 0===i&&(i=[],this.Jo.set(e.timeWeight,i)),i.push({index:s,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}n_(t,e,s,i,n){const r=Math.ceil(e/t);return null!==this.Dn&&this.Dn.e_===r&&n===this.Dn.r_&&s===this.Dn.h_||(this.Dn={r_:n,h_:s,Va:this.a_(r,s,i),e_:r}),this.Dn.Va}s_(t){if(0===t)return void this.Jo.clear();const e=[];this.Jo.forEach(((s,i)=>{t<=s[0].index?e.push(i):s.splice(Mt(s,t,(e=>e.index<t)),1/0)}));for(const t of e)this.Jo.delete(t)}a_(t,e,s){let i=[];const n=t=>!e||s.has(t.index);for(const e of Array.from(this.Jo.keys()).sort(((t,e)=>e-t))){if(!this.Jo.get(e))continue;const s=i;i=[];const r=s.length;let o=0;const h=v(this.Jo.get(e)),a=h.length;let l=1/0,c=-1/0;for(let e=0;e<a;e++){const a=h[e],u=a.index;for(;o<r;){const t=s[o],e=t.index;if(!(e<u&&n(t))){l=e;break}o++,i.push(t),c=e,l=1/0}if(l-u>=t&&u-c>=t&&n(a))i.push(a),c=u;else if(this.Qo)return s}for(;o<r;o++)n(s[o])&&i.push(s[o])}return i}}class Oe{constructor(t){this.l_=t}o_(){return null===this.l_?null:new Me(Math.floor(this.l_.Uh()),Math.ceil(this.l_.bi()))}__(){return this.l_}static u_(){return new Oe(null)}}function ze(t,e){return t.weight>e.weight?t:e}class Be{constructor(t,e,s,i){this.no=0,this.c_=null,this.d_=[],this.al=null,this.hl=null,this.f_=new Re,this.p_=new Map,this.v_=Oe.u_(),this.m_=!0,this.w_=new b,this.g_=new b,this.M_=new b,this.b_=null,this.x_=null,this.S_=new Map,this.C_=-1,this.y_=[],this.ys=e,this.ul=s,this.P_=e.rightOffset,this.k_=e.barSpacing,this.ts=t,this.Yo=i,this.T_(),this.f_.t_(e.uniformDistribution),this.R_()}N(){return this.ys}D_(t){C(this.ul,t),this.V_(),this.T_()}hr(t,e){C(this.ys,t),this.ys.fixLeftEdge&&this.I_(),this.ys.fixRightEdge&&this.B_(),void 0!==t.barSpacing&&this.ts.dn(t.barSpacing),void 0!==t.rightOffset&&this.ts.fn(t.rightOffset),void 0===t.minBarSpacing&&void 0===t.maxBarSpacing||this.ts.dn(t.barSpacing??this.k_),void 0!==t.ignoreWhitespaceIndices&&t.ignoreWhitespaceIndices!==this.ys.ignoreWhitespaceIndices&&this.R_(),this.V_(),this.T_(),this.M_.p()}Rs(t){return this.d_[t]?.time??null}ss(t){return this.d_[t]??null}A_(t,e){if(this.d_.length<1)return null;if(this.Yo.key(t)>this.Yo.key(this.d_[this.d_.length-1].time))return e?this.d_.length-1:null;const s=Mt(this.d_,this.Yo.key(t),((t,e)=>this.Yo.key(t.time)<e));return this.Yo.key(t)<this.Yo.key(this.d_[s].time)?e?s:null:s}Zi(){return 0===this.no||0===this.d_.length||null===this.c_}E_(){return this.d_.length>0}ye(){return this.z_(),this.v_.o_()}L_(){return this.z_(),this.v_.__()}O_(){const t=this.ye();if(null===t)return null;const e={from:t.Uh(),to:t.bi()};return this.N_(e)}N_(t){const e=Math.round(t.from),s=Math.round(t.to),i=w(this.W_()),n=w(this.F_());return{from:w(this.ss(Math.max(i,e))),to:w(this.ss(Math.min(n,s)))}}H_(t){return{from:w(this.A_(t.from,!0)),to:w(this.A_(t.to,!0))}}Qi(){return this.no}vo(t){if(!isFinite(t)||t<=0)return;if(this.no===t)return;const e=this.L_(),s=this.no;if(this.no=t,this.m_=!0,this.ys.lockVisibleTimeRangeOnResize&&0!==s){const e=this.k_*t/s;this.k_=e}if(this.ys.fixLeftEdge&&null!==e&&e.Uh()<=0){const e=s-t;this.P_-=Math.round(e/this.k_)+1,this.m_=!0}this.U_(),this.q_()}qt(t){if(this.Zi()||!S(t))return 0;const e=this.Y_()+this.P_-t;return this.no-(e+.5)*this.k_-1}j_(t,e){const s=this.Y_(),i=void 0===e?0:e.from,n=void 0===e?t.length:e.to;for(let e=i;e<n;e++){const i=t[e].wt,n=s+this.P_-i,r=this.no-(n+.5)*this.k_-1;t[e]._t=r}}Z_(t,e){const s=Math.ceil(this.K_(t));return e&&this.ys.ignoreWhitespaceIndices&&!this.X_(s)?this.G_(s):s}fn(t){this.m_=!0,this.P_=t,this.q_(),this.ts.J_(),this.ts.ar()}Q_(){return this.k_}dn(t){this.tu(t),this.q_(),this.ts.J_(),this.ts.ar()}iu(){return this.P_}Va(){if(this.Zi())return null;if(null!==this.x_)return this.x_;const t=this.k_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.ys.tickMarkMaxCharacterLength||8),s=Math.round(e/t),i=w(this.ye()),n=Math.max(i.Uh(),i.Uh()-s),r=Math.max(i.bi(),i.bi()-s),o=this.f_.n_(t,e,this.ys.ignoreWhitespaceIndices,this.S_,this.C_),h=this.W_()+s,a=this.F_()-s,l=this.su(),c=this.ys.fixLeftEdge||l,u=this.ys.fixRightEdge||l;let d=0;for(const t of o){if(!(n<=t.index&&t.index<=r))continue;let s;d<this.y_.length?(s=this.y_[d],s.coord=this.qt(t.index),s.label=this.nu(t),s.weight=t.weight):(s={needAlignCoordinate:!1,coord:this.qt(t.index),label:this.nu(t),weight:t.weight},this.y_.push(s)),this.k_>e/2&&!l?s.needAlignCoordinate=!1:s.needAlignCoordinate=c&&t.index<=h||u&&t.index>=a,d++}return this.y_.length=d,this.x_=this.y_,this.y_}eu(){this.m_=!0,this.dn(this.ys.barSpacing),this.fn(this.ys.rightOffset)}ru(t){this.m_=!0,this.c_=t,this.q_(),this.I_()}hu(t,e){const s=this.K_(t),i=this.Q_(),n=i+e*(i/10);this.dn(n),this.ys.rightBarStaysOnScroll||this.fn(this.iu()+(s-this.K_(t)))}Ul(t){this.al&&this.Zl(),null===this.hl&&null===this.b_&&(this.Zi()||(this.hl=t,this.au()))}$l(t){if(null===this.b_)return;const e=fe(this.no-t,0,this.no),s=fe(this.no-w(this.hl),0,this.no);0!==e&&0!==s&&this.dn(this.b_.Q_*e/s)}ql(){null!==this.hl&&(this.hl=null,this.lu())}Yl(t){null===this.al&&null===this.b_&&(this.Zi()||(this.al=t,this.au()))}jl(t){if(null===this.al)return;const e=(this.al-t)/this.Q_();this.P_=w(this.b_).iu+e,this.m_=!0,this.q_()}Zl(){null!==this.al&&(this.al=null,this.lu())}ou(){this._u(this.ys.rightOffset)}_u(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.P_,i=performance.now();this.ts._n({uu:t=>(t-i)/e>=1,cu:n=>{const r=(n-i)/e;return r>=1?t:s+(t-s)*r}})}Pt(t,e){this.m_=!0,this.d_=t,this.f_.i_(t,e),this.q_()}du(){return this.w_}fu(){return this.g_}pu(){return this.M_}Y_(){return this.c_||0}vu(t){const e=t.Go();this.tu(this.no/e),this.P_=t.bi()-this.Y_(),this.q_(),this.m_=!0,this.ts.J_(),this.ts.ar()}mu(){const t=this.W_(),e=this.F_();null!==t&&null!==e&&this.vu(new Me(t,e+this.ys.rightOffset))}wu(t){const e=new Me(t.from,t.to);this.vu(e)}ns(t){return void 0!==this.ul.timeFormatter?this.ul.timeFormatter(t.originalTime):this.Yo.formatHorzItem(t.time)}R_(){if(!this.ys.ignoreWhitespaceIndices)return;this.S_.clear();const t=this.ts.js();for(const e of t)for(const t of e.ma())this.S_.set(t,!0);this.C_++}su(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}W_(){return 0===this.d_.length?null:0}F_(){return 0===this.d_.length?null:this.d_.length-1}gu(t){return(this.no-1-t)/this.k_}K_(t){const e=this.gu(t),s=this.Y_()+this.P_-e;return Math.round(1e6*s)/1e6}tu(t){const e=this.k_;this.k_=t,this.U_(),e!==this.k_&&(this.m_=!0,this.Mu())}z_(){if(!this.m_)return;if(this.m_=!1,this.Zi())return void this.bu(Oe.u_());const t=this.Y_(),e=this.no/this.k_,s=this.P_+t,i=new Me(s-e+1,s);this.bu(new Oe(i))}U_(){const t=fe(this.k_,this.xu(),this.Su());this.k_!==t&&(this.k_=t,this.m_=!0)}Su(){return this.ys.maxBarSpacing>0?this.ys.maxBarSpacing:.5*this.no}xu(){return this.ys.fixLeftEdge&&this.ys.fixRightEdge&&0!==this.d_.length?this.no/this.d_.length:this.ys.minBarSpacing}q_(){const t=this.Cu();null!==t&&this.P_<t&&(this.P_=t,this.m_=!0);const e=this.yu();this.P_>e&&(this.P_=e,this.m_=!0)}Cu(){const t=this.W_(),e=this.c_;return null===t||null===e?null:t-e-1+(this.ys.fixLeftEdge?this.no/this.k_:Math.min(2,this.d_.length))}yu(){return this.ys.fixRightEdge?0:this.no/this.k_-Math.min(2,this.d_.length)}au(){this.b_={Q_:this.Q_(),iu:this.iu()}}lu(){this.b_=null}nu(t){let e=this.p_.get(t.weight);return void 0===e&&(e=new _e((t=>this.Pu(t)),this.Yo),this.p_.set(t.weight,e)),e.jo(t)}Pu(t){return this.Yo.formatTickmark(t,this.ul)}bu(t){const e=this.v_;this.v_=t,Pe(e.o_(),this.v_.o_())||this.w_.p(),Pe(e.__(),this.v_.__())||this.g_.p(),this.Mu()}Mu(){this.x_=null}V_(){this.Mu(),this.p_.clear()}T_(){this.Yo.updateFormatter(this.ul)}I_(){if(!this.ys.fixLeftEdge)return;const t=this.W_();if(null===t)return;const e=this.ye();if(null===e)return;const s=e.Uh()-t;if(s<0){const t=this.P_-s-1;this.fn(t)}this.U_()}B_(){this.q_(),this.U_()}X_(t){return!this.ys.ignoreWhitespaceIndices||this.S_.get(t)||!1}G_(t){const e=function*(t){const e=Math.round(t),s=e<t;let i=1;for(;;)s?(yield e+i,yield e-i):(yield e-i,yield e+i),i++}(t),s=this.F_();for(;s;){const t=e.next().value;if(this.S_.get(t))return t;if(t<0||t>s)break}return t}}var De,Le,je,Ne,Ue;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(De||(De={}));class Fe{constructor(t,e,s){this.ku=[],this.Tu=[],this.no=0,this.Ru=null,this.Du=new b,this.Vu=new b,this.Iu=null,this.Bu=t,this.ys=e,this.Yo=s,this.cl=new z(this.ys.layout.colorParsers),this.Au=new P(this),this.uh=new Be(this,e.timeScale,this.ys.localization,s),this.Ct=new et(this,e.crosshair),this.Eu=new te(e.crosshair),this.zu(0),this.ku[0].po(2e3),this.Lu=this.Ou(0),this.Nu=this.Ou(1)}Bh(){this.Wu(it.gn())}ar(){this.Wu(it.wn())}Xh(){this.Wu(new it(1))}Ah(t){const e=this.Fu(t);this.Wu(e)}Hu(){return this.Ru}Uu(t){if(this.Ru?.Wo===t?.Wo&&this.Ru?.Fo?.Zn===t?.Fo?.Zn)return;const e=this.Ru;this.Ru=t,null!==e&&this.Ah(e.Wo),null!==t&&t.Wo!==e?.Wo&&this.Ah(t.Wo)}N(){return this.ys}hr(t){C(this.ys,t),this.ku.forEach((e=>e.uo(t))),void 0!==t.timeScale&&this.uh.hr(t.timeScale),void 0!==t.localization&&this.uh.D_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Du.p(),this.Lu=this.Ou(0),this.Nu=this.Ou(1),this.Bh()}$u(t,e,s=0){const i=this.ku[s];if(void 0===i)return;if("left"===t)return C(this.ys,{leftPriceScale:e}),i.uo({leftPriceScale:e}),this.Du.p(),void this.Bh();if("right"===t)return C(this.ys,{rightPriceScale:e}),i.uo({rightPriceScale:e}),this.Du.p(),void this.Bh();const n=this.qu(t,s);null!==n&&(n.Wt.hr(e),this.Du.p())}qu(t,e){const s=this.ku[e];if(void 0===s)return null;const i=s.co(t);return null!==i?{Us:s,Wt:i}:null}At(){return this.uh}$s(){return this.ku}Yu(){return this.Ct}ju(){return this.Vu}Zu(t,e){t.Cl(e),this.J_()}vo(t){this.no=t,this.uh.vo(this.no),this.ku.forEach((e=>e.vo(t))),this.J_()}Ku(t){1!==this.ku.length&&(g(t>=0&&t<this.ku.length,"Invalid pane index"),this.ku.splice(t,1),this.Bh())}Xu(t,e){if(this.ku.length<2)return;g(t>=0&&t<this.ku.length,"Invalid pane index");const s=this.ku[t],i=this.ku.reduce(((t,e)=>t+e.fo()),0),n=this.ku.reduce(((t,e)=>t+e.$t()),0),r=n-30*(this.ku.length-1);e=Math.min(r,Math.max(30,e));const o=i/n,h=s.$t();s.po(e*o);let a=e-h,l=this.ku.length-1;for(const t of this.ku)if(t!==s){const e=Math.min(r,Math.max(30,t.$t()-a/l));a-=t.$t()-e,l-=1;const s=e*o;t.po(s)}this.Bh()}Gu(t,e){g(t>=0&&t<this.ku.length&&e>=0&&e<this.ku.length,"Invalid pane index");const s=this.ku[t],i=this.ku[e];this.ku[t]=i,this.ku[e]=s,this.Bh()}Po(t,e,s){t.Po(e,s)}ko(t,e,s){t.ko(e,s),this.Eh(),this.Wu(this.Ju(t,2))}To(t,e){t.To(e),this.Wu(this.Ju(t,2))}Ro(t,e,s){e.wl()||t.Ro(e,s)}Do(t,e,s){e.wl()||(t.Do(e,s),this.Eh(),this.Wu(this.Ju(t,2)))}Vo(t,e){e.wl()||(t.Vo(e),this.Wu(this.Ju(t,2)))}Bo(t,e){t.Bo(e),this.Wu(this.Ju(t,2))}Qu(t){this.uh.Ul(t)}tc(t,e){const s=this.At();if(s.Zi()||0===e)return;const i=s.Qi();t=Math.max(1,Math.min(t,i)),s.hu(t,e),this.J_()}sc(t){this.nc(0),this.ec(t),this.rc()}hc(t){this.uh.$l(t),this.J_()}ac(){this.uh.ql(),this.ar()}nc(t){this.uh.Yl(t)}ec(t){this.uh.jl(t),this.J_()}rc(){this.uh.Zl(),this.ar()}js(){return this.Tu}lc(t,e,s,i,n){this.Ct.Vs(t,e);let r=NaN,o=this.uh.Z_(t,!0);const h=this.uh.ye();null!==h&&(o=Math.min(Math.max(h.Uh(),o),h.bi()));const a=i.ks(),l=a.zt();if(null!==l&&(r=a.Ts(e,l)),r=this.Eu.Ma(r,o,i),this.Ct.Es(o,r,i),this.Xh(),!n){const n=Ie(i,t,e);this.Uu(n&&{Wo:n.Wo,Fo:n.Fo,Uo:n.Uo||null}),this.Vu.p(this.Ct.Bt(),{x:t,y:e},s)}}oc(t,e,s){const i=s.ks(),n=i.zt(),r=i.Nt(t,w(n)),o=this.uh.A_(e,!0),h=this.uh.qt(w(o));this.lc(h,r,null,s,!0)}_c(t){this.Yu().Ls(),this.Xh(),t||this.Vu.p(null,null,null)}Eh(){const t=this.Ct.Us();if(null!==t){const e=this.Ct.Bs(),s=this.Ct.As();this.lc(e,s,null,t)}this.Ct.Ns()}uc(t,e,s){const i=this.uh.Rs(0);void 0!==e&&void 0!==s&&this.uh.Pt(e,s);const n=this.uh.Rs(0),r=this.uh.Y_(),o=this.uh.ye();if(null!==o&&null!==i&&null!==n){const e=o.Te(r),h=this.Yo.key(i)>this.Yo.key(n),a=null!==t&&t>r&&!h,l=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,c=e&&(!(void 0===s)||l)&&this.uh.N().shiftVisibleRangeOnNewBar;if(a&&!c){const e=t-r;this.uh.fn(this.uh.iu()-e)}}this.uh.ru(t)}Lh(t){null!==t&&t.Eo()}Hn(t){if(function(t){return t instanceof Ae}(t))return t;const e=this.ku.find((e=>e.Dt().includes(t)));return void 0===e?null:e}J_(){this.ku.forEach((t=>t.Eo())),this.Eh()}m(){this.ku.forEach((t=>t.m())),this.ku.length=0,this.ys.localization.priceFormatter=void 0,this.ys.localization.percentageFormatter=void 0,this.ys.localization.timeFormatter=void 0}cc(){return this.Au}Yn(){return this.Au.N()}do(){return this.Du}dc(t,e){const s=this.zu(e);this.fc(t,s),this.Tu.push(t),1===this.Tu.length?this.Bh():this.ar()}vc(t){const e=this.Hn(t),s=this.Tu.indexOf(t);g(-1!==s,"Series not found");const i=w(e);this.Tu.splice(s,1),i.Wl(t),t.m&&t.m(),this.uh.R_(),this.mc(i)}Ih(t,e){const s=w(this.Hn(t));s.Wl(t),s.Ol(t,e,w(t.hs()))}mu(){const t=it.wn();t.rn(),this.Wu(t)}wc(t){const e=it.wn();e.ln(t),this.Wu(e)}cn(){const t=it.wn();t.cn(),this.Wu(t)}dn(t){const e=it.wn();e.dn(t),this.Wu(e)}fn(t){const e=it.wn();e.fn(t),this.Wu(e)}_n(t){const e=it.wn();e._n(t),this.Wu(e)}hn(){const t=it.wn();t.hn(),this.Wu(t)}gc(){return this.ys.rightPriceScale.visible?"right":"left"}Mc(t,e){if(g(e>=0,"Index should be greater or equal to 0"),e===this.bc(t))return;const s=w(this.Hn(t));s.Wl(t);const i=this.zu(e);this.fc(t,i),0===s.ba().length&&this.mc(s)}xc(){return this.Nu}$(){return this.Lu}Ut(t){const e=this.Nu,s=this.Lu;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Iu||this.Iu.mr!==s||this.Iu.wr!==e)this.Iu={mr:s,wr:e,Sc:new Map};else{const e=this.Iu.Sc.get(t);if(void 0!==e)return e}const i=this.cl.tt(s,e,t/100);return this.Iu.Sc.set(t,i),i}Cc(t){return this.ku.indexOf(t)}Ki(){return this.cl}zu(t){if(g(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.ku.length,t))<this.ku.length)return this.ku[t];const e=new Ae(this.uh,this);this.ku.push(e);const s=it.gn();return s.Qs(t,{tn:0,sn:!0}),this.Wu(s),e}bc(t){return this.ku.findIndex((e=>e.wo().includes(t)))}Ju(t,e){const s=new it(e);if(null!==t){const i=this.ku.indexOf(t);s.Qs(i,{tn:e})}return s}Fu(t,e){return void 0===e&&(e=2),this.Ju(this.Hn(t),e)}Wu(t){this.Bu&&this.Bu(t),this.ku.forEach((t=>t.Lo().lr().Pt()))}fc(t,e){const s=t.N().priceScaleId,i=void 0!==s?s:this.gc();e.Ol(t,i),st(i)||t.hr(t.N())}Ou(t){const e=this.ys.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}mc(t){0===t.ba().length&&this.ku.length>1&&(this.ku.splice(this.Cc(t),1),this.Bh())}}function Ve(t){return!x(t)&&!A(t)}function qe(t){return x(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(Le||(Le={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(je||(je={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Ne||(Ne={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Ue||(Ue={}));const We=t=>t.getUTCFullYear();class Ye{constructor(t="yyyy-MM-dd",e="default"){this.yc=t,this.Pc=e}jo(t){return function(t,e,s){return e.replace(/yyyy/g,(t=>nt(We(t),4))(t)).replace(/yy/g,(t=>nt(We(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,s)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,s)).replace(/MM/g,(t=>nt((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>nt((t=>t.getUTCDate())(t),2))(t))}(t,this.yc,this.Pc)}}class Qe{constructor(t){this.kc=t||"%h:%m:%s"}jo(t){return this.kc.replace("%h",nt(t.getUTCHours(),2)).replace("%m",nt(t.getUTCMinutes(),2)).replace("%s",nt(t.getUTCSeconds(),2))}}const He={Tc:"yyyy-MM-dd",Rc:"%h:%m:%s",Dc:" ",Vc:"default"};class Ke{constructor(t={}){const e={...He,...t};this.Ic=new Ye(e.Tc,e.Vc),this.Bc=new Qe(e.Rc),this.Ac=e.Dc}jo(t){return`${this.Ic.jo(t)}${this.Ac}${this.Bc.jo(t)}`}}function Je(t){return 60*t*60*1e3}function Ze(t){return 60*t*1e3}const Ge=[{Ec:1e3,zc:10},{Ec:Ze(1),zc:20},{Ec:Ze(5),zc:21},{Ec:Ze(30),zc:22},{Ec:Je(1),zc:30},{Ec:Je(3),zc:31},{Ec:Je(6),zc:32},{Ec:Je(12),zc:33}];function Xe(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let s=Ge.length-1;s>=0;--s)if(Math.floor(e.getTime()/Ge[s].Ec)!==Math.floor(t.getTime()/Ge[s].Ec))return Ge[s].zc;return 0}function $e(t){let e=t;if(A(t)&&(e=es(t)),!Ve(e))throw new Error("time must be of type BusinessDay");const s=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Lc:Math.round(s.getTime()/1e3),Oc:e}}function ts(t){if(!qe(t))throw new Error("time must be of type isUTCTimestamp");return{Lc:t}}function es(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function ss(t){A(t.time)&&(t.time=es(t.time))}class is{options(){return this.ys}setOptions(t){this.ys=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(ss)}(t):ss(t)}createConverterToInternalObj(t){return w(function(t){return 0===t.length?null:Ve(t[0].time)||A(t[0].time)?$e:ts}(t))}key(t){return"object"==typeof t&&"Lc"in t?t.Lc:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.Oc?new Date(1e3*e.Lc).getTime():new Date(Date.UTC(e.Oc.year,e.Oc.month-1,e.Oc.day)).getTime()}convertHorzItemToInternal(t){return qe(e=t)?ts(e):Ve(e)?$e(e):$e(es(e));var e}updateFormatter(t){if(!this.ys)return;const e=t.dateFormat;this.ys.timeScale.timeVisible?this.Nc=new Ke({Tc:e,Rc:this.ys.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Dc:"   ",Vc:t.locale}):this.Nc=new Ye(e,t.locale)}formatHorzItem(t){const e=t;return this.Nc.jo(new Date(1e3*e.Lc))}formatTickmark(t,e){const s=function(t,e,s){switch(t){case 0:case 10:return e?s?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.ys.timeScale.timeVisible,this.ys.timeScale.secondsVisible),i=this.ys.timeScale;if(void 0!==i.tickMarkFormatter){const n=i.tickMarkFormatter(t.originalTime,s,e.locale);if(null!==n)return n}return function(t,e,s){const i={};switch(e){case 0:i.year="numeric";break;case 1:i.month="short";break;case 2:i.day="numeric";break;case 3:i.hour12=!1,i.hour="2-digit",i.minute="2-digit";break;case 4:i.hour12=!1,i.hour="2-digit",i.minute="2-digit",i.second="2-digit"}const n=void 0===t.Oc?new Date(1e3*t.Lc):new Date(Date.UTC(t.Oc.year,t.Oc.month-1,t.Oc.day));return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()).toLocaleString(s,i)}(t.time,s,e.locale)}maxTickMarkWeight(t){let e=t.reduce(ze,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t,e=0){if(0===t.length)return;let s=0===e?null:t[e-1].time.Lc,i=null!==s?new Date(1e3*s):null,n=0;for(let r=e;r<t.length;++r){const e=t[r],o=new Date(1e3*e.time.Lc);null!==i&&(e.timeWeight=Xe(o,i)),n+=e.time.Lc-(s||e.time.Lc),s=e.time.Lc,i=o}if(0===e&&t.length>1){const e=Math.ceil(n/(t.length-1)),s=new Date(1e3*(t[0].time.Lc-e));t[0].timeWeight=Xe(new Date(1e3*t[0].time.Lc),s)}}(t,e)}static Wc(t){return C({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ns="undefined"!=typeof window;function rs(){return!!ns&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function os(){return!!ns&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function hs(t){return t+t%2}class as{constructor(t,e,s){this.Fc=0,this.Hc=null,this.Uc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.$c=0,this.qc=null,this.Yc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.jc=null,this.Zc=!1,this.Kc=null,this.Xc=null,this.Gc=!1,this.Jc=!1,this.Qc=!1,this.td=null,this.sd=null,this.nd=null,this.ed=null,this.rd=null,this.hd=null,this.ad=null,this.ld=0,this.od=!1,this._d=!1,this.ud=!1,this.dd=0,this.fd=null,this.pd=!os(),this.vd=t=>{this.md(t)},this.wd=t=>{if(this.gd(t)){const e=this.Md(t);if(++this.$c,this.qc&&this.$c>1){const{bd:s}=this.xd(us(t),this.Yc);s<30&&!this.Qc&&this.Sd(e,this.yd.Cd),this.Pd()}}else{const e=this.Md(t);if(++this.Fc,this.Hc&&this.Fc>1){const{bd:s}=this.xd(us(t),this.Uc);s<5&&!this.Jc&&this.kd(e,this.yd.Td),this.Rd()}}},this.Dd=t,this.yd=e,this.ys=s,this.Vd()}m(){null!==this.td&&(this.td(),this.td=null),null!==this.sd&&(this.sd(),this.sd=null),null!==this.ed&&(this.ed(),this.ed=null),null!==this.rd&&(this.rd(),this.rd=null),null!==this.hd&&(this.hd(),this.hd=null),null!==this.nd&&(this.nd(),this.nd=null),this.Id(),this.Rd()}Bd(t){this.ed&&this.ed();const e=this.Ad.bind(this);if(this.ed=()=>{this.Dd.removeEventListener("mousemove",e)},this.Dd.addEventListener("mousemove",e),this.gd(t))return;const s=this.Md(t);this.kd(s,this.yd.Ed),this.pd=!0}Rd(){null!==this.Hc&&clearTimeout(this.Hc),this.Fc=0,this.Hc=null,this.Uc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Pd(){null!==this.qc&&clearTimeout(this.qc),this.$c=0,this.qc=null,this.Yc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ad(t){if(this.ud||null!==this.Xc)return;if(this.gd(t))return;const e=this.Md(t);this.kd(e,this.yd.zd),this.pd=!0}Ld(t){const e=ps(t.changedTouches,w(this.fd));if(null===e)return;if(this.dd=ds(t),null!==this.ad)return;if(this._d)return;this.od=!0;const s=this.xd(us(e),w(this.Xc)),{Od:i,Nd:n,bd:r}=s;if(this.Gc||!(r<5)){if(!this.Gc){const t=.5*i,e=n>=t&&!this.ys.Wd(),s=t>n&&!this.ys.Fd();e||s||(this._d=!0),this.Gc=!0,this.Qc=!0,this.Id(),this.Pd()}if(!this._d){const s=this.Md(t,e);this.Sd(s,this.yd.Hd),cs(t)}}}Ud(t){if(0!==t.button)return;const e=this.xd(us(t),w(this.Kc)),{bd:s}=e;if(s>=5&&(this.Jc=!0,this.Rd()),this.Jc){const e=this.Md(t);this.kd(e,this.yd.$d)}}xd(t,e){const s=Math.abs(e._t-t._t),i=Math.abs(e.ut-t.ut);return{Od:s,Nd:i,bd:s+i}}qd(t){let e=ps(t.changedTouches,w(this.fd));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.fd=null,this.dd=ds(t),this.Id(),this.Xc=null,this.hd&&(this.hd(),this.hd=null);const s=this.Md(t,e);if(this.Sd(s,this.yd.Yd),++this.$c,this.qc&&this.$c>1){const{bd:t}=this.xd(us(e),this.Yc);t<30&&!this.Qc&&this.Sd(s,this.yd.Cd),this.Pd()}else this.Qc||(this.Sd(s,this.yd.jd),this.yd.jd&&cs(t));0===this.$c&&cs(t),0===t.touches.length&&this.Zc&&(this.Zc=!1,cs(t))}md(t){if(0!==t.button)return;const e=this.Md(t);if(this.Kc=null,this.ud=!1,this.rd&&(this.rd(),this.rd=null),rs()&&this.Dd.ownerDocument.documentElement.removeEventListener("mouseleave",this.vd),!this.gd(t))if(this.kd(e,this.yd.Zd),++this.Fc,this.Hc&&this.Fc>1){const{bd:s}=this.xd(us(t),this.Uc);s<5&&!this.Jc&&this.kd(e,this.yd.Td),this.Rd()}else this.Jc||this.kd(e,this.yd.Kd)}Id(){null!==this.jc&&(clearTimeout(this.jc),this.jc=null)}Xd(t){if(null!==this.fd)return;const e=t.changedTouches[0];this.fd=e.identifier,this.dd=ds(t);const s=this.Dd.ownerDocument.documentElement;this.Qc=!1,this.Gc=!1,this._d=!1,this.Xc=us(e),this.hd&&(this.hd(),this.hd=null);{const e=this.Ld.bind(this),i=this.qd.bind(this);this.hd=()=>{s.removeEventListener("touchmove",e),s.removeEventListener("touchend",i)},s.addEventListener("touchmove",e,{passive:!1}),s.addEventListener("touchend",i,{passive:!1}),this.Id(),this.jc=setTimeout(this.Gd.bind(this,t),240)}const i=this.Md(t,e);this.Sd(i,this.yd.Jd),this.qc||(this.$c=0,this.qc=setTimeout(this.Pd.bind(this),500),this.Yc=us(e))}Qd(t){if(0!==t.button)return;const e=this.Dd.ownerDocument.documentElement;rs()&&e.addEventListener("mouseleave",this.vd),this.Jc=!1,this.Kc=us(t),this.rd&&(this.rd(),this.rd=null);{const t=this.Ud.bind(this),s=this.md.bind(this);this.rd=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",s)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",s)}if(this.ud=!0,this.gd(t))return;const s=this.Md(t);this.kd(s,this.yd.tf),this.Hc||(this.Fc=0,this.Hc=setTimeout(this.Rd.bind(this),500),this.Uc=us(t))}Vd(){this.Dd.addEventListener("mouseenter",this.Bd.bind(this)),this.Dd.addEventListener("touchcancel",this.Id.bind(this));{const t=this.Dd.ownerDocument,e=t=>{this.yd.if&&(t.composed&&this.Dd.contains(t.composedPath()[0])||t.target&&this.Dd.contains(t.target)||this.yd.if())};this.sd=()=>{t.removeEventListener("touchstart",e)},this.td=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}os()&&(this.nd=()=>{this.Dd.removeEventListener("dblclick",this.wd)},this.Dd.addEventListener("dblclick",this.wd)),this.Dd.addEventListener("mouseleave",this.sf.bind(this)),this.Dd.addEventListener("touchstart",this.Xd.bind(this),{passive:!0}),function(t){ns&&void 0!==window.chrome&&t.addEventListener("mousedown",(t=>{if(1===t.button)return t.preventDefault(),!1}))}(this.Dd),this.Dd.addEventListener("mousedown",this.Qd.bind(this)),this.nf(),this.Dd.addEventListener("touchmove",(()=>{}),{passive:!1})}nf(){void 0===this.yd.ef&&void 0===this.yd.rf&&void 0===this.yd.hf||(this.Dd.addEventListener("touchstart",(t=>this.af(t.touches)),{passive:!0}),this.Dd.addEventListener("touchmove",(t=>{if(2===t.touches.length&&null!==this.ad&&void 0!==this.yd.rf){const e=ls(t.touches[0],t.touches[1])/this.ld;this.yd.rf(this.ad,e),cs(t)}}),{passive:!1}),this.Dd.addEventListener("touchend",(t=>{this.af(t.touches)})))}af(t){1===t.length&&(this.od=!1),2!==t.length||this.od||this.Zc?this.lf():this._f(t)}_f(t){const e=this.Dd.getBoundingClientRect()||{left:0,top:0};this.ad={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.ld=ls(t[0],t[1]),void 0!==this.yd.ef&&this.yd.ef(),this.Id()}lf(){null!==this.ad&&(this.ad=null,void 0!==this.yd.hf&&this.yd.hf())}sf(t){if(this.ed&&this.ed(),this.gd(t))return;if(!this.pd)return;const e=this.Md(t);this.kd(e,this.yd.uf),this.pd=!os()}Gd(t){const e=ps(t.touches,w(this.fd));if(null===e)return;const s=this.Md(t,e);this.Sd(s,this.yd.cf),this.Qc=!0,this.Zc=!0}gd(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:ds(t)<this.dd+500}Sd(t,e){e&&e.call(this.yd,t)}kd(t,e){e&&e.call(this.yd,t)}Md(t,e){const s=e||t,i=this.Dd.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-i.left,localY:s.clientY-i.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,df:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,ff:t.type,pf:s.target,$o:t.view,vf:()=>{"touchstart"!==t.type&&cs(t)}}}}function ls(t,e){const s=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(s*s+i*i)}function cs(t){t.cancelable&&t.preventDefault()}function us(t){return{_t:t.pageX,ut:t.pageY}}function ds(t){return t.timeStamp||performance.now()}function ps(t,e){for(let s=0;s<t.length;++s)if(t[s].identifier===e)return t[s];return null}class fs{constructor(t,e,s){this.mf=null,this.wf=null,this.gf=!0,this.Mf=null,this.bf=t,this.xf=t.Sf()[e],this.Cf=t.Sf()[s],this.yf=document.createElement("tr"),this.yf.style.height="1px",this.Pf=document.createElement("td"),this.Pf.style.position="relative",this.Pf.style.padding="0",this.Pf.style.margin="0",this.Pf.setAttribute("colspan","3"),this.kf(),this.yf.appendChild(this.Pf),this.gf=this.bf.N().layout.panes.enableResize,this.gf?this.Tf():(this.mf=null,this.wf=null)}m(){null!==this.wf&&this.wf.m()}Rf(){return this.yf}Df(){return i({width:this.xf.Df().width,height:1})}Vf(){return i({width:this.xf.Vf().width,height:1*window.devicePixelRatio})}If(t,e,s){const i=this.Vf();t.fillStyle=this.bf.N().layout.panes.separatorColor,t.fillRect(e,s,i.width,i.height)}Pt(){this.kf(),this.bf.N().layout.panes.enableResize!==this.gf&&(this.gf=this.bf.N().layout.panes.enableResize,this.gf?this.Tf():(null!==this.mf&&(this.Pf.removeChild(this.mf.Bf),this.Pf.removeChild(this.mf.Af),this.mf=null),null!==this.wf&&(this.wf.m(),this.wf=null)))}Tf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Pf.appendChild(t);const s=document.createElement("div"),i=s.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Pf.appendChild(s);const n={Ed:this.Ef.bind(this),uf:this.zf.bind(this),tf:this.Lf.bind(this),Jd:this.Lf.bind(this),$d:this.Of.bind(this),Hd:this.Of.bind(this),Zd:this.Nf.bind(this),Yd:this.Nf.bind(this)};this.wf=new as(s,n,{Wd:()=>!1,Fd:()=>!0}),this.mf={Af:s,Bf:t}}kf(){this.Pf.style.background=this.bf.N().layout.panes.separatorColor}Ef(t){null!==this.mf&&(this.mf.Af.style.backgroundColor=this.bf.N().layout.panes.separatorHoverColor)}zf(t){null!==this.mf&&null===this.Mf&&(this.mf.Af.style.backgroundColor="")}Lf(t){if(null===this.mf)return;const e=this.xf.Wf().fo()+this.Cf.Wf().fo(),s=e/(this.xf.Df().height+this.Cf.Df().height),i=30*s;e<=2*i||(this.Mf={Ff:t.pageY,Hf:this.xf.Wf().fo(),Uf:e-i,$f:e,qf:s,Yf:i},this.mf.Bf.style.display="block")}Of(t){const e=this.Mf;if(null===e)return;const s=(t.pageY-e.Ff)*e.qf,i=fe(e.Hf+s,e.Yf,e.Uf);this.xf.Wf().po(i),this.Cf.Wf().po(e.$f-i),this.bf.Qt().Bh()}Nf(t){null!==this.Mf&&null!==this.mf&&(this.Mf=null,this.mf.Bf.style.display="none")}}function ms(t,e){return t.jf-e.jf}function gs(t,e,s){const i=(t.jf-e.jf)/(t.wt-e.wt);return Math.sign(i)*Math.min(Math.abs(i),s)}class vs{constructor(t,e,s,i){this.Zf=null,this.Kf=null,this.Xf=null,this.Gf=null,this.Jf=null,this.Qf=0,this.tp=0,this.ip=t,this.sp=e,this.np=s,this.Mn=i}ep(t,e){if(null!==this.Zf){if(this.Zf.wt===e)return void(this.Zf.jf=t);if(Math.abs(this.Zf.jf-t)<this.Mn)return}this.Gf=this.Xf,this.Xf=this.Kf,this.Kf=this.Zf,this.Zf={wt:e,jf:t}}le(t,e){if(null===this.Zf||null===this.Kf)return;if(e-this.Zf.wt>50)return;let s=0;const i=gs(this.Zf,this.Kf,this.sp),n=ms(this.Zf,this.Kf),r=[i],o=[n];if(s+=n,null!==this.Xf){const t=gs(this.Kf,this.Xf,this.sp);if(Math.sign(t)===Math.sign(i)){const e=ms(this.Kf,this.Xf);if(r.push(t),o.push(e),s+=e,null!==this.Gf){const t=gs(this.Xf,this.Gf,this.sp);if(Math.sign(t)===Math.sign(i)){const e=ms(this.Xf,this.Gf);r.push(t),o.push(e),s+=e}}}}let h=0;for(let t=0;t<r.length;++t)h+=o[t]/s*r[t];Math.abs(h)<this.ip||(this.Jf={jf:t,wt:e},this.tp=h,this.Qf=function(t,e){const s=Math.log(e);return Math.log(1*s/-t)/s}(Math.abs(h),this.np))}cu(t){const e=w(this.Jf),s=t-e.wt;return e.jf+this.tp*(Math.pow(this.np,s)-1)/Math.log(this.np)}uu(t){return null===this.Jf||this.rp(t)===this.Qf}rp(t){const e=t-w(this.Jf).wt;return Math.min(e,this.Qf)}}class ws{constructor(t,e){this.hp=void 0,this.ap=void 0,this.lp=void 0,this.ps=!1,this.op=t,this._p=e,this.up()}Pt(){this.up()}cp(){this.hp&&this.op.removeChild(this.hp),this.ap&&this.op.removeChild(this.ap),this.hp=void 0,this.ap=void 0}dp(){return this.ps!==this.fp()||this.lp!==this.pp()}pp(){return this._p.Qt().Ki().J(this._p.N().layout.textColor)>160?"dark":"light"}fp(){return this._p.N().layout.attributionLogo}vp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}up(){this.dp()&&(this.cp(),this.ps=this.fp(),this.ps&&(this.lp=this.pp(),this.ap=document.createElement("style"),this.ap.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.hp=document.createElement("a"),this.hp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.vp()}`,this.hp.title="Charting by TradingView",this.hp.id="tv-attr-logo",this.hp.target="_blank",this.hp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.hp.toggleAttribute("data-dark","dark"===this.lp),this.op.appendChild(this.ap),this.op.appendChild(this.hp)))}}function ys(t,e){const s=w(t.ownerDocument).createElement("canvas");t.appendChild(s);const i=function(t,e){if("device-pixel-content-box"===e.type)return new o(t,e.transform,e.options);throw new Error("Unsupported binding target")}(s,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return i.resizeCanvasElement(e),i}function bs(t){t.width=1,t.height=1,t.getContext("2d")?.clearRect(0,0,1,1)}function Cs(t,e,s,i){t.ih&&t.ih(e,s,i)}function xs(t,e,s,i){t.nt(e,s,i)}function Ss(t,e,s,i){const n=t(s,i);for(const t of n){const s=t.Tt(i);null!==s&&e(s)}}function As(t,e){return s=>function(t){return void 0!==t.Wt}(s)?(s.Wt()?.wa()??"")!==e?[]:s.ta?.(t)??[]:[]}function Es(t,e,s,i){if(!t.length)return;let n=0;const r=t[0].$t(i,!0);let o=1===e?s/2-(t[0].Wi()-r/2):t[0].Wi()-r/2-s/2;o=Math.max(0,o);for(let r=1;r<t.length;r++){const h=t[r],a=t[r-1],l=a.$t(i,!1),c=h.Wi(),u=a.Wi();if(1===e?c>u-l:c<u+l){const i=u-l*e;h.Fi(i);const r=i-e*l/2;if((1===e?r<0:r>s)&&o>0){const i=1===e?-1-r:r-s,h=Math.min(i,o);for(let s=n;s<t.length;s++)t[s].Fi(t[s].Wi()+e*h);o-=h}}else n=r,o=1===e?u-l-c:c-(u+l)}}class ks{constructor(t,e,s,n){this.Yi=null,this.mp=null,this.wp=!1,this.gp=new lt(200),this.Mp=null,this.bp=0,this.xp=!1,this.Sp=()=>{this.xp||this.yt.Cp().Qt().ar()},this.yp=()=>{this.xp||this.yt.Cp().Qt().ar()},this.yt=t,this.ys=e,this._l=e.layout,this.Au=s,this.Pp="left"===n,this.kp=As("normal",n),this.Tp=As("top",n),this.Rp=As("bottom",n),this.Pf=document.createElement("div"),this.Pf.style.height="100%",this.Pf.style.overflow="hidden",this.Pf.style.width="25px",this.Pf.style.left="0",this.Pf.style.position="relative",this.Dp=ys(this.Pf,i({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp);const r=this.Dp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Vp=ys(this.Pf,i({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.yp);const o=this.Vp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const h={tf:this.Lf.bind(this),Jd:this.Lf.bind(this),$d:this.Of.bind(this),Hd:this.Of.bind(this),if:this.Ip.bind(this),Zd:this.Nf.bind(this),Yd:this.Nf.bind(this),Td:this.Bp.bind(this),Cd:this.Bp.bind(this),Ed:this.Ap.bind(this),uf:this.zf.bind(this)};this.wf=new as(this.Vp.canvasElement,h,{Wd:()=>!this.ys.handleScroll.vertTouchDrag,Fd:()=>!0})}m(){this.wf.m(),this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.yp),bs(this.Vp.canvasElement),this.Vp.dispose(),this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),bs(this.Dp.canvasElement),this.Dp.dispose(),null!==this.Yi&&this.Yi.Hl().u(this),this.Yi=null}Rf(){return this.Pf}P(){return this._l.fontSize}Ep(){const t=this.Au.N();return this.Mp!==t.k&&(this.gp.In(),this.Mp=t.k),t}zp(){if(null===this.Yi)return 0;let t=0;const e=this.Ep(),s=w(this.Dp.canvasElement.getContext("2d",{colorSpace:this.yt.Cp().N().layout.colorSpace}));s.save();const i=this.Yi.Va();s.font=this.Lp(),i.length>0&&(t=Math.max(this.gp.Vi(s,i[0].$a),this.gp.Vi(s,i[i.length-1].$a)));const n=this.Op();for(let e=n.length;e--;){const i=this.gp.Vi(s,n[e].ri());i>t&&(t=i)}const r=this.Yi.zt();if(null!==r&&null!==this.mp&&2!==(o=this.ys.crosshair).mode&&o.horzLine.visible&&o.horzLine.labelVisible){const e=this.Yi.Ts(1,r),i=this.Yi.Ts(this.mp.height-2,r);t=Math.max(t,this.gp.Vi(s,this.Yi.Xi(Math.floor(Math.min(e,i))+.11111111111111,r)),this.gp.Vi(s,this.Yi.Xi(Math.ceil(Math.max(e,i))-.11111111111111,r)))}var o;s.restore();const h=t||34;return hs(Math.ceil(e.S+e.C+e.I+e.B+5+h))}Np(t){null!==this.mp&&n(this.mp,t)||(this.mp=t,this.xp=!0,this.Dp.resizeCanvasElement(t),this.Vp.resizeCanvasElement(t),this.xp=!1,this.Pf.style.width=`${t.width}px`,this.Pf.style.height=`${t.height}px`)}Wp(){return w(this.mp).width}_s(t){this.Yi!==t&&(null!==this.Yi&&this.Yi.Hl().u(this),this.Yi=t,t.Hl().i(this.il.bind(this),this))}Wt(){return this.Yi}In(){const t=this.yt.Wf();this.yt.Cp().Qt().Bo(t,w(this.Wt()))}Fp(t){if(null===this.mp)return;const e={colorSpace:this.yt.Cp().N().layout.colorSpace};if(1!==t){this.Hp(),this.Dp.applySuggestedBitmapSize();const t=l(this.Dp,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Up(t),this.$p(t)})),this.yt.qp(t,this.Rp),this.Yp(t),this.yt.qp(t,this.kp),this.jp(t))}this.Vp.applySuggestedBitmapSize();const s=l(this.Vp,e);null!==s&&(s.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.Zp(s),this.yt.qp(s,this.Tp))}Vf(){return this.Dp.bitmapSize}If(t,e,s){const i=this.Vf();i.width>0&&i.height>0&&t.drawImage(this.Dp.canvasElement,e,s)}Pt(){this.Yi?.Va()}Lf(t){if(null===this.Yi||this.Yi.Zi()||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Cp().Qt(),s=this.yt.Wf();this.wp=!0,e.Po(s,this.Yi,t.localY)}Of(t){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Cp().Qt(),s=this.yt.Wf(),i=this.Yi;e.ko(s,i,t.localY)}Ip(){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Cp().Qt(),e=this.yt.Wf(),s=this.Yi;this.wp&&(this.wp=!1,t.To(e,s))}Nf(t){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Cp().Qt(),s=this.yt.Wf();this.wp=!1,e.To(s,this.Yi)}Bp(t){this.ys.handleScale.axisDoubleClickReset.price&&this.In()}Ap(t){null!==this.Yi&&(!this.yt.Cp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.gl()||this.Kp(1))}zf(t){this.Kp(0)}Op(){const t=[],e=null===this.Yi?void 0:this.Yi;return(s=>{for(let i=0;i<s.length;++i){const n=s[i].Fs(this.yt.Wf(),e);for(let e=0;e<n.length;e++)t.push(n[e])}})(this.yt.Wf().Dt()),t}Up({context:t,bitmapSize:e}){const{width:s,height:i}=e,n=this.yt.Wf().Qt(),r=n.$(),o=n.xc();r===o?q(t,0,0,s,i,r):Q(t,0,0,s,i,r,o)}$p({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(null===this.mp||null===this.Yi||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const i=Math.max(1,Math.floor(this.Ep().S*s));let n;n=this.Pp?e.width-i:0,t.fillRect(n,0,i,e.height)}Yp(t){if(null===this.mp||null===this.Yi)return;const e=this.Yi.Va(),s=this.Yi.N(),i=this.Ep(),n=this.Pp?this.mp.width-i.C:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:r,verticalPixelRatio:o})=>{t.fillStyle=s.borderColor;const h=Math.max(1,Math.floor(o)),a=Math.floor(.5*o),l=Math.round(i.C*r);t.beginPath();for(const s of e)t.rect(Math.floor(n*r),Math.round(s.Pa*o)-a,l,h);t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{t.font=this.Lp(),t.fillStyle=s.textColor??this._l.textColor,t.textAlign=this.Pp?"right":"left",t.textBaseline="middle";const r=this.Pp?Math.round(n-i.I):Math.round(n+i.C+i.I),o=e.map((e=>this.gp.Di(t,e.$a)));for(let s=e.length;s--;){const i=e[s];t.fillText(i.$a,r,i.Pa+o[s])}}))}Hp(){if(null===this.mp||null===this.Yi)return;let t=this.mp.height/2;const e=[],s=this.Yi.Dt().slice(),i=this.yt.Wf(),n=this.Ep();this.Yi===i.$n()&&this.yt.Wf().Dt().forEach((t=>{i.Un(t)&&s.push(t)}));const r=this.Yi.ba()[0],o=this.Yi;s.forEach((s=>{const n=s.Fs(i,o);n.forEach((t=>{t.Fi(null),t.Hi()&&e.push(t)})),r===s&&n.length>0&&(t=n[0].Bi())})),e.forEach((t=>t.Fi(t.Bi()))),this.Yi.N().alignLabels&&this.Xp(e,n,t)}Xp(t,e,s){if(null===this.mp)return;const i=t.filter((t=>t.Bi()<=s)),n=t.filter((t=>t.Bi()>s));i.sort(((t,e)=>e.Bi()-t.Bi())),i.length&&n.length&&n.push(i[0]),n.sort(((t,e)=>t.Bi()-e.Bi()));for(const s of t){const t=Math.floor(s.$t(e)/2),i=s.Bi();i>-t&&i<t&&s.Fi(t),i>this.mp.height-t&&i<this.mp.height+t&&s.Fi(this.mp.height-t)}Es(i,1,this.mp.height,e),Es(n,-1,this.mp.height,e)}jp(t){if(null===this.mp)return;const e=this.Op(),s=this.Ep(),i=this.Pp?"right":"left";e.forEach((e=>{e.Ui()&&e.Tt(w(this.Yi)).nt(t,s,this.gp,i)}))}Zp(t){if(null===this.mp||null===this.Yi)return;const e=this.yt.Cp().Qt(),s=[],i=this.yt.Wf(),n=e.Yu().Fs(i,this.Yi);n.length&&s.push(n);const r=this.Ep(),o=this.Pp?"right":"left";s.forEach((e=>{e.forEach((e=>{e.Tt(w(this.Yi)).nt(t,r,this.gp,o)}))}))}Kp(t){this.Pf.style.cursor=1===t?"ns-resize":"default"}il(){const t=this.zp();this.bp<t&&this.yt.Cp().Qt().Bh(),this.bp=t}Lp(){return M(this._l.fontSize,this._l.fontFamily)}}function Ts(t,e){return t.Jh?.(e)??[]}function Is(t,e){return t.Ws?.(e)??[]}function _s(t,e){return t.us?.(e)??[]}function Ms(t,e){return t.Kh?.(e)??[]}class Ps{constructor(t,e){this.mp=i({width:0,height:0}),this.Gp=null,this.Jp=null,this.Qp=null,this.tv=null,this.iv=!1,this.sv=new b,this.nv=new b,this.ev=0,this.rv=!1,this.hv=null,this.av=!1,this.lv=null,this.ov=null,this.xp=!1,this.Sp=()=>{this.xp||null===this._v||this.ts().ar()},this.yp=()=>{this.xp||null===this._v||this.ts().ar()},this._p=t,this._v=e,this._v.zo().i(this.uv.bind(this),this,!0),this.cv=document.createElement("td"),this.cv.style.padding="0",this.cv.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.dv=document.createElement("td"),this.dv.style.padding="0",this.fv=document.createElement("td"),this.fv.style.padding="0",this.cv.appendChild(s),this.Dp=ys(s,i({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp);const n=this.Dp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Vp=ys(s,i({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.yp);const r=this.Vp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.yf=document.createElement("tr"),this.yf.appendChild(this.dv),this.yf.appendChild(this.cv),this.yf.appendChild(this.fv),this.pv(),this.wf=new as(this.Vp.canvasElement,this,{Wd:()=>null===this.hv&&!this._p.N().handleScroll.vertTouchDrag,Fd:()=>null===this.hv&&!this._p.N().handleScroll.horzTouchDrag})}m(){null!==this.Gp&&this.Gp.m(),null!==this.Jp&&this.Jp.m(),this.Qp=null,this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.yp),bs(this.Vp.canvasElement),this.Vp.dispose(),this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),bs(this.Dp.canvasElement),this.Dp.dispose(),null!==this._v&&(this._v.zo().u(this),this._v.m()),this.wf.m()}Wf(){return w(this._v)}vv(t){null!==this._v&&this._v.zo().u(this),this._v=t,null!==this._v&&this._v.zo().i(Ps.prototype.uv.bind(this),this,!0),this.pv(),this._p.Sf().indexOf(this)===this._p.Sf().length-1?(this.Qp=this.Qp??new ws(this.cv,this._p),this.Qp.Pt()):(this.Qp?.cp(),this.Qp=null)}Cp(){return this._p}Rf(){return this.yf}pv(){if(null!==this._v&&(this.mv(),0!==this.ts().js().length)){if(null!==this.Gp){const t=this._v.Co();this.Gp._s(w(t))}if(null!==this.Jp){const t=this._v.yo();this.Jp._s(w(t))}}}wv(){null!==this.Gp&&this.Gp.Pt(),null!==this.Jp&&this.Jp.Pt()}fo(){return null!==this._v?this._v.fo():0}po(t){this._v&&this._v.po(t)}Ed(t){if(!this._v)return;this.gv();const e=t.localX,s=t.localY;this.Mv(e,s,t)}tf(t){this.gv(),this.bv(),this.Mv(t.localX,t.localY,t)}zd(t){if(!this._v)return;this.gv();const e=t.localX,s=t.localY;this.Mv(e,s,t)}Kd(t){null!==this._v&&(this.gv(),this.xv(t))}Td(t){null!==this._v&&this.Sv(this.nv,t)}Cd(t){this.Td(t)}$d(t){this.gv(),this.Cv(t),this.Mv(t.localX,t.localY,t)}Zd(t){null!==this._v&&(this.gv(),this.rv=!1,this.yv(t))}jd(t){null!==this._v&&this.xv(t)}cf(t){if(this.rv=!0,null===this.hv){const e={x:t.localX,y:t.localY};this.Pv(e,e,t)}}uf(t){null!==this._v&&(this.gv(),this._v.Qt().Uu(null),this.kv())}Tv(){return this.sv}Rv(){return this.nv}ef(){this.ev=1,this.ts().hn()}rf(t,e){if(!this._p.N().handleScale.pinch)return;const s=5*(e-this.ev);this.ev=e,this.ts().tc(t._t,s)}Jd(t){this.rv=!1,this.av=null!==this.hv,this.bv();const e=this.ts().Yu();null!==this.hv&&e.Vt()&&(this.lv={x:e.si(),y:e.ni()},this.hv={x:t.localX,y:t.localY})}Hd(t){if(null===this._v)return;const e=t.localX,s=t.localY;if(null===this.hv)this.Cv(t);else{this.av=!1;const i=w(this.lv),n=i.x+(e-this.hv.x),r=i.y+(s-this.hv.y);this.Mv(n,r,t)}}Yd(t){0===this.Cp().N().trackingMode.exitMode&&(this.av=!0),this.Dv(),this.yv(t)}jn(t,e){const s=this._v;return null===s?null:Ie(s,t,e)}Vv(t,e){w("left"===e?this.Gp:this.Jp).Np(i({width:t,height:this.mp.height}))}Df(){return this.mp}Np(t){n(this.mp,t)||(this.mp=t,this.xp=!0,this.Dp.resizeCanvasElement(t),this.Vp.resizeCanvasElement(t),this.xp=!1,this.cv.style.width=t.width+"px",this.cv.style.height=t.height+"px")}Iv(){const t=w(this._v);t.So(t.Co()),t.So(t.yo());for(const e of t.ba())if(t.Un(e)){const s=e.Wt();null!==s&&t.So(s),e.Ns()}for(const e of t.Oo())e.Ns()}Vf(){return this.Dp.bitmapSize}If(t,e,s){const i=this.Vf();i.width>0&&i.height>0&&t.drawImage(this.Dp.canvasElement,e,s)}Fp(t){if(0===t)return;if(null===this._v)return;t>1&&this.Iv(),null!==this.Gp&&this.Gp.Fp(t),null!==this.Jp&&this.Jp.Fp(t);const e={colorSpace:this._p.N().layout.colorSpace};if(1!==t){this.Dp.applySuggestedBitmapSize();const t=l(this.Dp,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Up(t)})),this._v&&(this.Bv(t,Ts),this.Av(t),this.Bv(t,Is),this.Bv(t,_s)))}this.Vp.applySuggestedBitmapSize();const s=l(this.Vp,e);null!==s&&(s.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.Ev(s),this.Bv(s,Ms),this.Bv(s,_s))}zv(){return this.Gp}Lv(){return this.Jp}qp(t,e){this.Bv(t,e)}uv(){null!==this._v&&this._v.zo().u(this),this._v=null}xv(t){this.Sv(this.sv,t)}Sv(t,e){const s=e.localX,i=e.localY;t.v()&&t.p(this.ts().At().Z_(s),{x:s,y:i},e)}Up({context:t,bitmapSize:e}){const{width:s,height:i}=e,n=this.ts(),r=n.$(),o=n.xc();r===o?q(t,0,0,s,i,o):Q(t,0,0,s,i,r,o)}Av(t){const e=w(this._v),s=e.Lo().lr().Tt(e);null!==s&&s.nt(t,!1)}Ev(t){this.Ov(t,Is,xs,this.ts().Yu())}Bv(t,e){const s=w(this._v),i=s.Dt(),n=s.Oo();for(const s of n)this.Ov(t,e,Cs,s);for(const s of i)this.Ov(t,e,Cs,s);for(const s of n)this.Ov(t,e,xs,s);for(const s of i)this.Ov(t,e,xs,s)}Ov(t,e,s,i){const n=w(this._v),r=n.Qt().Hu(),o=null!==r&&r.Wo===i,h=null!==r&&o&&void 0!==r.Fo?r.Fo.Kn:void 0;Ss(e,(e=>s(e,t,o,h)),i,n)}mv(){if(null===this._v)return;const t=this._p,e=this._v.Co().N().visible,s=this._v.yo().N().visible;e||null===this.Gp||(this.dv.removeChild(this.Gp.Rf()),this.Gp.m(),this.Gp=null),s||null===this.Jp||(this.fv.removeChild(this.Jp.Rf()),this.Jp.m(),this.Jp=null);const i=t.Qt().cc();e&&null===this.Gp&&(this.Gp=new ks(this,t.N(),i,"left"),this.dv.appendChild(this.Gp.Rf())),s&&null===this.Jp&&(this.Jp=new ks(this,t.N(),i,"right"),this.fv.appendChild(this.Jp.Rf()))}Nv(t){return t.df&&this.rv||null!==this.hv}Wv(t){return Math.max(0,Math.min(t,this.mp.width-1))}Fv(t){return Math.max(0,Math.min(t,this.mp.height-1))}Mv(t,e,s){this.ts().lc(this.Wv(t),this.Fv(e),s,w(this._v))}kv(){this.ts()._c()}Dv(){this.av&&(this.hv=null,this.kv())}Pv(t,e,s){this.hv=t,this.av=!1,this.Mv(e.x,e.y,s);const i=this.ts().Yu();this.lv={x:i.si(),y:i.ni()}}ts(){return this._p.Qt()}yv(t){if(!this.iv)return;const e=this.ts(),s=this.Wf();if(e.Vo(s,s.ks()),this.tv=null,this.iv=!1,e.rc(),null!==this.ov){const t=performance.now(),s=e.At();this.ov.le(s.iu(),t),this.ov.uu(t)||e._n(this.ov)}}gv(){this.hv=null}bv(){if(this._v){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)w(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this._v.ks().Zi()&&this.ts().At().Zi()}}Cv(t){if(null===this._v)return;const e=this.ts(),s=e.At();if(s.Zi())return;const i=this._p.N(),n=i.handleScroll,r=i.kineticScroll;if((!n.pressedMouseMove||t.df)&&(!n.horzTouchDrag&&!n.vertTouchDrag||!t.df))return;const o=this._v.ks(),h=performance.now();if(null!==this.tv||this.Nv(t)||(this.tv={x:t.clientX,y:t.clientY,Lc:h,Hv:t.localX,Uv:t.localY}),null!==this.tv&&!this.iv&&(this.tv.x!==t.clientX||this.tv.y!==t.clientY)){if(t.df&&r.touch||!t.df&&r.mouse){const t=s.Q_();this.ov=new vs(.2/t,7/t,.997,15/t),this.ov.ep(s.iu(),this.tv.Lc)}else this.ov=null;o.Zi()||e.Ro(this._v,o,t.localY),e.nc(t.localX),this.iv=!0}this.iv&&(o.Zi()||e.Do(this._v,o,t.localY),e.ec(t.localX),null!==this.ov&&this.ov.ep(s.iu(),h))}}class Rs{constructor(t,e,s,n,r){this.St=!0,this.mp=i({width:0,height:0}),this.Sp=()=>this.Fp(3),this.Pp="left"===t,this.Au=s.cc,this.ys=e,this.$v=n,this.qv=r,this.Pf=document.createElement("div"),this.Pf.style.width="25px",this.Pf.style.height="100%",this.Pf.style.overflow="hidden",this.Dp=ys(this.Pf,i({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp)}m(){this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),bs(this.Dp.canvasElement),this.Dp.dispose()}Rf(){return this.Pf}Df(){return this.mp}Np(t){n(this.mp,t)||(this.mp=t,this.Dp.resizeCanvasElement(t),this.Pf.style.width=`${t.width}px`,this.Pf.style.height=`${t.height}px`,this.St=!0)}Fp(t){if(t<3&&!this.St)return;if(0===this.mp.width||0===this.mp.height)return;this.St=!1,this.Dp.applySuggestedBitmapSize();const e=l(this.Dp,{colorSpace:this.ys.layout.colorSpace});null!==e&&e.useBitmapCoordinateSpace((t=>{this.Up(t),this.$p(t)}))}Vf(){return this.Dp.bitmapSize}If(t,e,s){const i=this.Vf();i.width>0&&i.height>0&&t.drawImage(this.Dp.canvasElement,e,s)}$p({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(!this.$v())return;t.fillStyle=this.ys.timeScale.borderColor;const n=Math.floor(this.Au.N().S*s),r=Math.floor(this.Au.N().S*i),o=this.Pp?e.width-n:0;t.fillRect(o,0,n,r)}Up({context:t,bitmapSize:e}){q(t,0,0,e.width,e.height,this.qv())}}function Os(t){return e=>e.ia?.(t)??[]}const zs=Os("normal"),Bs=Os("top"),Ds=Os("bottom");class Ls{constructor(t,e){this.Yv=null,this.jv=null,this.M=null,this.Zv=!1,this.mp=i({width:0,height:0}),this.Kv=new b,this.gp=new lt(5),this.xp=!1,this.Sp=()=>{this.xp||this._p.Qt().ar()},this.yp=()=>{this.xp||this._p.Qt().ar()},this._p=t,this.Yo=e,this.ys=t.N().layout,this.hp=document.createElement("tr"),this.Xv=document.createElement("td"),this.Xv.style.padding="0",this.Gv=document.createElement("td"),this.Gv.style.padding="0",this.Pf=document.createElement("td"),this.Pf.style.height="25px",this.Pf.style.padding="0",this.Jv=document.createElement("div"),this.Jv.style.width="100%",this.Jv.style.height="100%",this.Jv.style.position="relative",this.Jv.style.overflow="hidden",this.Pf.appendChild(this.Jv),this.Dp=ys(this.Jv,i({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp);const s=this.Dp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Vp=ys(this.Jv,i({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.yp);const n=this.Vp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.hp.appendChild(this.Xv),this.hp.appendChild(this.Pf),this.hp.appendChild(this.Gv),this.Qv(),this._p.Qt().do().i(this.Qv.bind(this),this),this.wf=new as(this.Vp.canvasElement,this,{Wd:()=>!0,Fd:()=>!this._p.N().handleScroll.horzTouchDrag})}m(){this.wf.m(),null!==this.Yv&&this.Yv.m(),null!==this.jv&&this.jv.m(),this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.yp),bs(this.Vp.canvasElement),this.Vp.dispose(),this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),bs(this.Dp.canvasElement),this.Dp.dispose()}Rf(){return this.hp}tm(){return this.Yv}im(){return this.jv}tf(t){if(this.Zv)return;this.Zv=!0;const e=this._p.Qt();!e.At().Zi()&&this._p.N().handleScale.axisPressedMouseMove.time&&e.Qu(t.localX)}Jd(t){this.tf(t)}if(){const t=this._p.Qt();!t.At().Zi()&&this.Zv&&(this.Zv=!1,this._p.N().handleScale.axisPressedMouseMove.time&&t.ac())}$d(t){const e=this._p.Qt();!e.At().Zi()&&this._p.N().handleScale.axisPressedMouseMove.time&&e.hc(t.localX)}Hd(t){this.$d(t)}Zd(){this.Zv=!1;const t=this._p.Qt();t.At().Zi()&&!this._p.N().handleScale.axisPressedMouseMove.time||t.ac()}Yd(){this.Zd()}Td(){this._p.N().handleScale.axisDoubleClickReset.time&&this._p.Qt().cn()}Cd(){this.Td()}Ed(){this._p.Qt().N().handleScale.axisPressedMouseMove.time&&this.Kp(1)}uf(){this.Kp(0)}Df(){return this.mp}sm(){return this.Kv}nm(t,e,s){n(this.mp,t)||(this.mp=t,this.xp=!0,this.Dp.resizeCanvasElement(t),this.Vp.resizeCanvasElement(t),this.xp=!1,this.Pf.style.width=`${t.width}px`,this.Pf.style.height=`${t.height}px`,this.Kv.p(t)),null!==this.Yv&&this.Yv.Np(i({width:e,height:t.height})),null!==this.jv&&this.jv.Np(i({width:s,height:t.height}))}rm(){const t=this.hm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.am)}Pt(){this._p.Qt().At().Va()}Vf(){return this.Dp.bitmapSize}If(t,e,s){const i=this.Vf();i.width>0&&i.height>0&&t.drawImage(this.Dp.canvasElement,e,s)}Fp(t){if(0===t)return;const e={colorSpace:this.ys.colorSpace};if(1!==t){this.Dp.applySuggestedBitmapSize();const s=l(this.Dp,e);null!==s&&(s.useBitmapCoordinateSpace((t=>{this.Up(t),this.$p(t),this.lm(s,Ds)})),this.Yp(s),this.lm(s,zs)),null!==this.Yv&&this.Yv.Fp(t),null!==this.jv&&this.jv.Fp(t)}this.Vp.applySuggestedBitmapSize();const s=l(this.Vp,e);null!==s&&(s.useBitmapCoordinateSpace((({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)})),this.om([...this._p.Qt().js(),this._p.Qt().Yu()],s),this.lm(s,Bs))}lm(t,e){const s=this._p.Qt().js();for(const i of s)Ss(e,(e=>Cs(e,t,!1,void 0)),i,void 0);for(const i of s)Ss(e,(e=>xs(e,t,!1,void 0)),i,void 0)}Up({context:t,bitmapSize:e}){q(t,0,0,e.width,e.height,this._p.Qt().xc())}$p({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this._p.N().timeScale.borderVisible){t.fillStyle=this._m();const i=Math.max(1,Math.floor(this.hm().S*s));t.fillRect(0,0,e.width,i)}}Yp(t){const e=this._p.Qt().At(),s=e.Va();if(!s||0===s.length)return;const i=this.Yo.maxTickMarkWeight(s),n=this.hm(),r=e.N();r.borderVisible&&r.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:e,verticalPixelRatio:i})=>{t.strokeStyle=this._m(),t.fillStyle=this._m();const r=Math.max(1,Math.floor(e)),o=Math.floor(.5*e);t.beginPath();const h=Math.round(n.C*i);for(let i=s.length;i--;){const n=Math.round(s[i].coord*e);t.rect(n-o,0,r,h)}t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{const e=n.S+n.C+n.A+n.P/2;t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.H(),t.font=this.Lp();for(const n of s)if(n.weight<i){const s=n.needAlignCoordinate?this.um(t,n.coord,n.label):n.coord;t.fillText(n.label,s,e)}this._p.N().timeScale.allowBoldLabels&&(t.font=this.dm());for(const n of s)if(n.weight>=i){const s=n.needAlignCoordinate?this.um(t,n.coord,n.label):n.coord;t.fillText(n.label,s,e)}}))}um(t,e,s){const i=this.gp.Vi(t,s),n=i/2,r=Math.floor(e-n)+.5;return r<0?e+=Math.abs(0-r):r+i>this.mp.width&&(e-=Math.abs(this.mp.width-(r+i))),e}om(t,e){const s=this.hm();for(const i of t)for(const t of i.cs())t.Tt().nt(e,s)}_m(){return this._p.N().timeScale.borderColor}H(){return this.ys.textColor}W(){return this.ys.fontSize}Lp(){return M(this.W(),this.ys.fontFamily)}dm(){return M(this.W(),this.ys.fontFamily,"bold")}hm(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new lt,am:0});const t=this.M,e=this.Lp();if(t.k!==e){const s=this.W();t.P=s,t.k=e,t.A=3*s/12,t.V=3*s/12,t.Ji=9*s/12,t.L=0,t.am=4*s/12,t.Gi.In()}return this.M}Kp(t){this.Pf.style.cursor=1===t?"ew-resize":"default"}Qv(){const t=this._p.Qt(),e=t.N();e.leftPriceScale.visible||null===this.Yv||(this.Xv.removeChild(this.Yv.Rf()),this.Yv.m(),this.Yv=null),e.rightPriceScale.visible||null===this.jv||(this.Gv.removeChild(this.jv.Rf()),this.jv.m(),this.jv=null);const s={cc:this._p.Qt().cc()},i=()=>e.leftPriceScale.borderVisible&&t.At().N().borderVisible,n=()=>t.xc();e.leftPriceScale.visible&&null===this.Yv&&(this.Yv=new Rs("left",e,s,i,n),this.Xv.appendChild(this.Yv.Rf())),e.rightPriceScale.visible&&null===this.jv&&(this.jv=new Rs("right",e,s,i,n),this.Gv.appendChild(this.jv.Rf()))}}const js=!!ns&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes("Chromium")))&&!!ns&&(navigator?.userAgentData?.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class Ns{constructor(t,e,s){var i;this.fm=[],this.pm=[],this.vm=0,this.ja=0,this.no=0,this.wm=0,this.gm=0,this.Mm=null,this.bm=!1,this.sv=new b,this.nv=new b,this.Vu=new b,this.xm=null,this.Sm=null,this.op=t,this.ys=e,this.Yo=s,this.hp=document.createElement("div"),this.hp.classList.add("tv-lightweight-charts"),this.hp.style.overflow="hidden",this.hp.style.direction="ltr",this.hp.style.width="100%",this.hp.style.height="100%",(i=this.hp).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Cm=document.createElement("table"),this.Cm.setAttribute("cellspacing","0"),this.hp.appendChild(this.Cm),this.ym=this.Pm.bind(this),Us(this.ys)&&this.km(!0),this.ts=new Fe(this.Bu.bind(this),this.ys,s),this.Qt().ju().i(this.Tm.bind(this),this),this.Rm=new Ls(this,this.Yo),this.Cm.appendChild(this.Rm.Rf());const n=e.autoSize&&this.Dm();let r=this.ys.width,o=this.ys.height;if(n||0===r||0===o){const e=t.getBoundingClientRect();r=r||e.width,o=o||e.height}this.Vm(r,o),this.Im(),t.appendChild(this.hp),this.Bm(),this.ts.At().pu().i(this.ts.Bh.bind(this.ts),this),this.ts.do().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.ys}Sf(){return this.fm}Am(){return this.Rm}m(){this.km(!1),0!==this.vm&&window.cancelAnimationFrame(this.vm),this.ts.ju().u(this),this.ts.At().pu().u(this),this.ts.do().u(this),this.ts.m();for(const t of this.fm)this.Cm.removeChild(t.Rf()),t.Tv().u(this),t.Rv().u(this),t.m();this.fm=[];for(const t of this.pm)this.Em(t);this.pm=[],w(this.Rm).m(),null!==this.hp.parentElement&&this.hp.parentElement.removeChild(this.hp),this.Vu.m(),this.sv.m(),this.nv.m(),this.zm()}Vm(t,e,s=!1){if(this.ja===e&&this.no===t)return;const n=function(t){const e=Math.floor(t.width),s=Math.floor(t.height);return i({width:e-e%2,height:s-s%2})}(i({width:t,height:e}));this.ja=n.height,this.no=n.width;const r=this.ja+"px",o=this.no+"px";w(this.hp).style.height=r,w(this.hp).style.width=o,this.Cm.style.height=r,this.Cm.style.width=o,s?this.Lm(it.gn(),performance.now()):this.ts.Bh()}Fp(t){void 0===t&&(t=it.gn());for(let e=0;e<this.fm.length;e++)this.fm[e].Fp(t.en(e).tn);this.ys.timeScale.visible&&this.Rm.Fp(t.nn())}hr(t){const e=Us(this.ys);this.ts.hr(t);const s=Us(this.ys);s!==e&&this.km(s),t.layout?.panes&&this.Om(),this.Bm(),this.Nm(t)}Tv(){return this.sv}Rv(){return this.nv}ju(){return this.Vu}Wm(){null!==this.Mm&&(this.Lm(this.Mm,performance.now()),this.Mm=null);const t=this.Fm(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=w(e.getContext("2d"));return this.Fm(s),e}Hm(t){return("left"!==t||this.Um())&&("right"!==t||this.$m())?0===this.fm.length?0:w("left"===t?this.fm[0].zv():this.fm[0].Lv()).Wp():0}qm(){return this.ys.autoSize&&null!==this.xm}Af(){return this.hp}Ym(t){this.Sm=t,this.Sm?this.Af().style.setProperty("cursor",t):this.Af().style.removeProperty("cursor")}jm(){return this.Sm}Zm(t){return v(this.fm[t]).Df()}Om(){this.pm.forEach((t=>{t.Pt()}))}Nm(t){(void 0!==t.autoSize||!this.xm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.xm&&this.Dm(),!1===t.autoSize&&null!==this.xm&&this.zm(),t.autoSize||void 0===t.width&&void 0===t.height||this.Vm(t.width||this.no,t.height||this.ja))}Fm(t){let e=0,s=0;const n=this.fm[0],r=(e,s)=>{let i=0;for(let n=0;n<this.fm.length;n++){const r=this.fm[n],o=w("left"===e?r.zv():r.Lv()),h=o.Vf();if(null!==t&&o.If(t,s,i),i+=h.height,n<this.fm.length-1){const e=this.pm[n],r=e.Vf();null!==t&&e.If(t,s,i),i+=r.height}}};this.Um()&&(r("left",0),e+=w(n.zv()).Vf().width);for(let i=0;i<this.fm.length;i++){const n=this.fm[i],r=n.Vf();if(null!==t&&n.If(t,e,s),s+=r.height,i<this.fm.length-1){const n=this.pm[i],r=n.Vf();null!==t&&n.If(t,e,s),s+=r.height}}e+=n.Vf().width,this.$m()&&(r("right",e),e+=w(n.Lv()).Vf().width);const o=(e,s,i)=>{w("left"===e?this.Rm.tm():this.Rm.im()).If(w(t),s,i)};if(this.ys.timeScale.visible){const e=this.Rm.Vf();if(null!==t){let i=0;this.Um()&&(o("left",i,s),i=w(n.zv()).Vf().width),this.Rm.If(t,i,s),i+=e.width,this.$m()&&o("right",i,s)}s+=e.height}return i({width:e,height:s})}Km(){let t=0,e=0,s=0;for(const i of this.fm)this.Um()&&(e=Math.max(e,w(i.zv()).zp(),this.ys.leftPriceScale.minimumWidth)),this.$m()&&(s=Math.max(s,w(i.Lv()).zp(),this.ys.rightPriceScale.minimumWidth)),t+=i.fo();e=hs(e),s=hs(s);const n=this.no,r=this.ja,o=Math.max(n-e-s,0),h=1*this.pm.length,a=this.ys.timeScale.visible;let l=a?Math.max(this.Rm.rm(),this.ys.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const u=h+l,d=r<u?0:r-u,p=d/t;let f=0;const m=window.devicePixelRatio||1;for(let t=0;t<this.fm.length;++t){const n=this.fm[t];n.vv(this.ts.$s()[t]);let r=0,h=0;h=t===this.fm.length-1?Math.ceil((d-f)*m)/m:Math.round(n.fo()*p*m)/m,r=Math.max(h,2),f+=r,n.Np(i({width:o,height:r})),this.Um()&&n.Vv(e,"left"),this.$m()&&n.Vv(s,"right"),n.Wf()&&this.ts.Zu(n.Wf(),r)}this.Rm.nm(i({width:a?o:0,height:l}),a?e:0,a?s:0),this.ts.vo(o),this.wm!==e&&(this.wm=e),this.gm!==s&&(this.gm=s)}km(t){t?this.hp.addEventListener("wheel",this.ym,{passive:!1}):this.hp.removeEventListener("wheel",this.ym)}Xm(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return js?1/window.devicePixelRatio:1}Pm(t){if(!(0!==t.deltaX&&this.ys.handleScroll.mouseWheel||0!==t.deltaY&&this.ys.handleScale.mouseWheel))return;const e=this.Xm(t),s=e*t.deltaX/100,i=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==i&&this.ys.handleScale.mouseWheel){const e=Math.sign(i)*Math.min(1,Math.abs(i)),s=t.clientX-this.hp.getBoundingClientRect().left;this.Qt().tc(s,e)}0!==s&&this.ys.handleScroll.mouseWheel&&this.Qt().sc(-80*s)}Lm(t,e){const s=t.nn();3===s&&this.Gm(),3!==s&&2!==s||(this.Jm(t),this.Qm(t,e),this.Rm.Pt(),this.fm.forEach((t=>{t.wv()})),3===this.Mm?.nn()&&(this.Mm.vn(t),this.Gm(),this.Jm(this.Mm),this.Qm(this.Mm,e),t=this.Mm,this.Mm=null)),this.Fp(t)}Qm(t,e){for(const s of t.pn())this.mn(s,e)}Jm(t){const e=this.ts.$s();for(let s=0;s<e.length;s++)t.en(s).sn&&e[s].Ao()}mn(t,e){const s=this.ts.At();switch(t.an){case 0:s.mu();break;case 1:s.wu(t.Ft);break;case 2:s.dn(t.Ft);break;case 3:s.fn(t.Ft);break;case 4:s.eu();break;case 5:t.Ft.uu(e)||s.fn(t.Ft.cu(e))}}Bu(t){null!==this.Mm?this.Mm.vn(t):this.Mm=t,this.bm||(this.bm=!0,this.vm=window.requestAnimationFrame((t=>{if(this.bm=!1,this.vm=0,null!==this.Mm){const e=this.Mm;this.Mm=null,this.Lm(e,t);for(const s of e.pn())if(5===s.an&&!s.Ft.uu(t)){this.Qt()._n(s.Ft);break}}})))}Gm(){this.Im()}Em(t){this.Cm.removeChild(t.Rf()),t.m()}Im(){const t=this.ts.$s(),e=t.length,s=this.fm.length;for(let t=e;t<s;t++){const t=v(this.fm.pop());this.Cm.removeChild(t.Rf()),t.Tv().u(this),t.Rv().u(this),t.m();const e=this.pm.pop();void 0!==e&&this.Em(e)}for(let i=s;i<e;i++){const e=new Ps(this,t[i]);if(e.Tv().i(this.tw.bind(this,e),this),e.Rv().i(this.iw.bind(this,e),this),this.fm.push(e),i>0){const t=new fs(this,i-1,i);this.pm.push(t),this.Cm.insertBefore(t.Rf(),this.Rm.Rf())}this.Cm.insertBefore(e.Rf(),this.Rm.Rf())}for(let s=0;s<e;s++){const e=t[s],i=this.fm[s];i.Wf()!==e?i.vv(e):i.pv()}this.Bm(),this.Km()}sw(t,e,s,i){const n=new Map;let r;if(null!==t&&this.ts.js().forEach((e=>{const s=e.Ks().Wr(t);null!==s&&n.set(e,s)})),null!==t){const e=this.ts.At().ss(t)?.originalTime;void 0!==e&&(r=e)}const o=this.Qt().Hu(),h=null!==o&&o.Wo instanceof Gt?o.Wo:void 0,a=null!==o&&void 0!==o.Fo?o.Fo.Zn:void 0,l=this.nw(i);return{ew:r,Re:t??void 0,rw:e??void 0,hw:-1!==l?l:void 0,aw:h,lw:n,ow:a,_w:s??void 0}}nw(t){let e=-1;if(t)e=this.fm.indexOf(t);else{const t=this.Qt().Yu().Us();null!==t&&(e=this.Qt().$s().indexOf(t))}return e}tw(t,e,s,i){this.sv.p((()=>this.sw(e,s,i,t)))}iw(t,e,s,i){this.nv.p((()=>this.sw(e,s,i,t)))}Tm(t,e,s){this.Ym(this.Qt().Hu()?.Uo??null),this.Vu.p((()=>this.sw(t,e,s)))}Bm(){const t=this.ys.timeScale.visible?"":"none";this.Rm.Rf().style.display=t}Um(){return this.fm[0].Wf().Co().N().visible}$m(){return this.fm[0].Wf().yo().N().visible}Dm(){return"ResizeObserver"in window&&(this.xm=new ResizeObserver((t=>{const e=t[t.length-1];e&&this.Vm(e.contentRect.width,e.contentRect.height)})),this.xm.observe(this.op,{box:"border-box"}),!0)}zm(){null!==this.xm&&this.xm.disconnect(),this.xm=null}}function Us(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Fs(t){return void 0===t.open&&void 0===t.value}function Vs(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}function qs(t,e,s,i){const n=s.value,r={Re:e,wt:t,Ft:[n,n,n,n],ew:i};return void 0!==s.color&&(r.R=s.color),r}function Ws(t,e,s,i){const n=s.value,r={Re:e,wt:t,Ft:[n,n,n,n],ew:i};return void 0!==s.lineColor&&(r.vt=s.lineColor),void 0!==s.topColor&&(r.mr=s.topColor),void 0!==s.bottomColor&&(r.wr=s.bottomColor),r}function Ys(t,e,s,i){const n=s.value,r={Re:e,wt:t,Ft:[n,n,n,n],ew:i};return void 0!==s.topLineColor&&(r.gr=s.topLineColor),void 0!==s.bottomLineColor&&(r.Mr=s.bottomLineColor),void 0!==s.topFillColor1&&(r.br=s.topFillColor1),void 0!==s.topFillColor2&&(r.Sr=s.topFillColor2),void 0!==s.bottomFillColor1&&(r.Cr=s.bottomFillColor1),void 0!==s.bottomFillColor2&&(r.yr=s.bottomFillColor2),r}function Qs(t,e,s,i){const n={Re:e,wt:t,Ft:[s.open,s.high,s.low,s.close],ew:i};return void 0!==s.color&&(n.R=s.color),n}function Hs(t,e,s,i){const n={Re:e,wt:t,Ft:[s.open,s.high,s.low,s.close],ew:i};return void 0!==s.color&&(n.R=s.color),void 0!==s.borderColor&&(n.Ht=s.borderColor),void 0!==s.wickColor&&(n.vr=s.wickColor),n}function Ks(t,e,s,i,n){const r=v(n)(s),o=Math.max(...r),h=Math.min(...r),a=r[r.length-1],l=[a,o,h,a],{time:c,color:u,...d}=s;return{Re:e,wt:t,Ft:l,ew:i,se:d,R:u}}function Js(t){return void 0!==t.Ft}function Zs(t,e){return void 0!==e.customValues&&(t.uw=e.customValues),t}function Gs(t){return(e,s,i,n,r,o)=>function(t,e){return e?e(t):Fs(t)}(i,o)?Zs({wt:e,Re:s,ew:n},i):Zs(t(e,s,i,n,r),i)}function Xs(t){return{Candlestick:Gs(Hs),Bar:Gs(Qs),Area:Gs(Ws),Baseline:Gs(Ys),Histogram:Gs(qs),Line:Gs(qs),Custom:Gs(Ks)}[t]}function $s(t){return{Re:0,cw:new Map,Hh:t}}function ti(t,e){if(void 0!==t&&0!==t.length)return{dw:e.key(t[0].wt),fw:e.key(t[t.length-1].wt)}}function ei(t){let e;return t.forEach((t=>{void 0===e&&(e=t.ew)})),v(e)}class si{constructor(t){this.pw=new Map,this.mw=new Map,this.ww=new Map,this.gw=[],this.Yo=t}m(){this.pw.clear(),this.mw.clear(),this.ww.clear(),this.gw=[]}Mw(t,e){let s=0!==this.pw.size,i=!1;const n=this.mw.get(t);if(void 0!==n)if(1===this.mw.size)s=!1,i=!0,this.pw.clear();else for(const e of this.gw)e.pointData.cw.delete(t)&&(i=!0);let r=[];if(0!==e.length){const s=e.map((t=>t.time)),n=this.Yo.createConverterToInternalObj(e),o=Xs(t.Rr()),h=t.da(),a=t.pa();r=e.map(((e,r)=>{const l=n(e.time),c=this.Yo.key(l);let u=this.pw.get(c);void 0===u&&(u=$s(l),this.pw.set(c,u),i=!0);const d=o(l,u.Re,e,s[r],h,a);return u.cw.set(t,d),d}))}s&&this.bw(),this.xw(t,r);let o=-1;if(i){const t=[];this.pw.forEach((e=>{t.push({timeWeight:0,time:e.Hh,pointData:e,originalTime:ei(e.cw)})})),t.sort(((t,e)=>this.Yo.key(t.time)-this.Yo.key(e.time))),o=this.Sw(t)}return this.Cw(t,o,function(t,e,s){const i=ti(t,s),n=ti(e,s);if(void 0!==i&&void 0!==n)return{yw:!1,zh:i.fw>=n.fw&&i.dw>=n.dw}}(this.mw.get(t),n,this.Yo))}vc(t){return this.Mw(t,[])}Pw(t,e,s){const i=e;!function(t){void 0===t.ew&&(t.ew=t.time)}(i),this.Yo.preprocessData(e);const n=this.Yo.createConverterToInternalObj([e])(e.time),r=this.ww.get(t);if(!s&&void 0!==r&&this.Yo.key(n)<this.Yo.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${n}`);let o=this.pw.get(this.Yo.key(n));if(s&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const h=void 0===o;void 0===o&&(o=$s(n),this.pw.set(this.Yo.key(n),o));const a=Xs(t.Rr()),l=t.da(),c=t.pa(),u=a(n,o.Re,e,i.ew,l,c);o.cw.set(t,u),s?this.kw(t,u,o.Re):this.Tw(t,u);const d={zh:Js(u),yw:s};if(!h)return this.Cw(t,-1,d);const p={timeWeight:0,time:o.Hh,pointData:o,originalTime:ei(o.cw)},f=Mt(this.gw,this.Yo.key(p.time),((t,e)=>this.Yo.key(t.time)<e));this.gw.splice(f,0,p);for(let t=f;t<this.gw.length;++t)ii(this.gw[t].pointData,t);return this.Yo.fillWeightsForPoints(this.gw,f),this.Cw(t,f,d)}Tw(t,e){let s=this.mw.get(t);void 0===s&&(s=[],this.mw.set(t,s));const i=0!==s.length?s[s.length-1]:null;null===i||this.Yo.key(e.wt)>this.Yo.key(i.wt)?Js(e)&&s.push(e):Js(e)?s[s.length-1]=e:s.splice(-1,1),this.ww.set(t,e.wt)}kw(t,e,s){const i=this.mw.get(t);if(void 0===i)return;const n=Mt(i,s,((t,e)=>t.Re<e));Js(e)?i[n]=e:i.splice(n,1)}xw(t,e){0!==e.length?(this.mw.set(t,e.filter(Js)),this.ww.set(t,e[e.length-1].wt)):(this.mw.delete(t),this.ww.delete(t))}bw(){for(const t of this.gw)0===t.pointData.cw.size&&this.pw.delete(this.Yo.key(t.time))}Sw(t){let e=-1;for(let s=0;s<this.gw.length&&s<t.length;++s){const i=this.gw[s],n=t[s];if(this.Yo.key(i.time)!==this.Yo.key(n.time)){e=s;break}n.timeWeight=i.timeWeight,ii(n.pointData,s)}if(-1===e&&this.gw.length!==t.length&&(e=Math.min(this.gw.length,t.length)),-1===e)return-1;for(let s=e;s<t.length;++s)ii(t[s].pointData,s);return this.Yo.fillWeightsForPoints(t,e),this.gw=t,e}Rw(){if(0===this.mw.size)return null;let t=0;return this.mw.forEach((e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].Re))})),t}Cw(t,e,s){const i={wo:new Map,At:{Y_:this.Rw()}};if(-1!==e)this.mw.forEach(((e,n)=>{i.wo.set(n,{se:e,Dw:n===t?s:void 0})})),this.mw.has(t)||i.wo.set(t,{se:[],Dw:s}),i.At.Vw=this.gw,i.At.Iw=e;else{const e=this.mw.get(t);i.wo.set(t,{se:e||[],Dw:s})}return i}}function ii(t,e){t.Re=e,t.cw.forEach((t=>{t.Re=e}))}function ni(t,e){return t.wt<e}function ri(t,e){return e<t.wt}function oi(t,e,s){const i=e.Uh(),n=e.bi(),r=Mt(t,i,ni),o=Pt(t,n,ri);if(!s)return{from:r,to:o};let h=r,a=o;return r>0&&r<t.length&&t[r].wt>=i&&(h=r-1),o>0&&o<t.length&&t[o-1].wt<=n&&(a=o+1),{from:h,to:a}}class hi{constructor(t,e,s){this.Bw=!0,this.Aw=!0,this.Ew=!0,this.zw=[],this.Lw=null,this.Jn=t,this.Qn=e,this.Ow=s}Pt(t){this.Bw=!0,"data"===t&&(this.Aw=!0),"options"===t&&(this.Ew=!0)}Tt(){return this.Jn.Vt()?(this.Nw(),null===this.Lw?null:this.Ww):null}Fw(){this.zw=this.zw.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}Hw(){this.Lw=null}Nw(){this.Aw&&(this.Uw(),this.Aw=!1),this.Ew&&(this.Fw(),this.Ew=!1),this.Bw&&(this.$w(),this.Bw=!1)}$w(){const t=this.Jn.Wt(),e=this.Qn.At();if(this.Hw(),e.Zi()||t.Zi())return;const s=e.ye();if(null===s)return;if(0===this.Jn.Ks().zr())return;const i=this.Jn.zt();null!==i&&(this.Lw=oi(this.zw,s,this.Ow),this.qw(t,e,i.Ft),this.Yw())}}class ai{constructor(t,e){this.jw=t,this.Yi=e}nt(t,e,s){this.jw.draw(t,this.Yi,e,s)}}class li extends hi{constructor(t,e,s){super(t,e,!1),this.sh=s,this.Ww=new ai(this.sh.renderer(),(e=>{const s=t.zt();return null===s?null:t.Wt().Nt(e,s.Ft)}))}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}Uw(){const t=this.Jn.Rh();this.zw=this.Jn.Ks().Hr().map((e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),Zw:e.se})))}qw(t,e){e.j_(this.zw,I(this.Lw))}Yw(){this.sh.update({bars:this.zw.map(ci),barSpacing:this.Qn.At().Q_(),visibleRange:this.Lw},this.Jn.N())}}function ci(t){return{x:t._t,time:t.wt,originalData:t.Zw,barColor:t.cr}}const ui={color:"#2196f3"},di=(t,e,s)=>{const i=y(s);return new li(t,e,i)};function pi(t){const e={value:t.Ft[3],time:t.ew};return void 0!==t.uw&&(e.customValues=t.uw),e}function fi(t){const e=pi(t);return void 0!==t.R&&(e.color=t.R),e}function mi(t){const e=pi(t);return void 0!==t.vt&&(e.lineColor=t.vt),void 0!==t.mr&&(e.topColor=t.mr),void 0!==t.wr&&(e.bottomColor=t.wr),e}function gi(t){const e=pi(t);return void 0!==t.gr&&(e.topLineColor=t.gr),void 0!==t.Mr&&(e.bottomLineColor=t.Mr),void 0!==t.br&&(e.topFillColor1=t.br),void 0!==t.Sr&&(e.topFillColor2=t.Sr),void 0!==t.Cr&&(e.bottomFillColor1=t.Cr),void 0!==t.yr&&(e.bottomFillColor2=t.yr),e}function vi(t){const e={open:t.Ft[0],high:t.Ft[1],low:t.Ft[2],close:t.Ft[3],time:t.ew};return void 0!==t.uw&&(e.customValues=t.uw),e}function wi(t){const e=vi(t);return void 0!==t.R&&(e.color=t.R),e}function yi(t){const e=vi(t),{R:s,Ht:i,vr:n}=t;return void 0!==s&&(e.color=s),void 0!==i&&(e.borderColor=i),void 0!==n&&(e.wickColor=n),e}function bi(t){return{Area:mi,Line:fi,Baseline:gi,Histogram:fi,Bar:wi,Candlestick:yi,Custom:Ci}[t]}function Ci(t){const e=t.ew;return{...t.se,time:e}}const xi={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Si={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Ai={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:_,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Ei={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},ki={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Ti(){return{width:0,height:0,autoSize:!1,layout:Ai,crosshair:xi,grid:Si,overlayPriceScales:{...Ei},leftPriceScale:{...Ei,visible:!1},rightPriceScale:{...Ei,visible:!0},timeScale:ki,localization:{locale:ns?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Ii{constructor(t,e,s){this.bf=t,this.Kw=e,this.Xw=s??0}applyOptions(t){this.bf.Qt().$u(this.Kw,t,this.Xw)}options(){return this.Yi().N()}width(){return st(this.Kw)?this.bf.Hm(this.Kw):0}Yi(){return w(this.bf.Qt().qu(this.Kw,this.Xw)).Wt}}class _i{constructor(t,e,s,i){this.bf=t,this.yt=s,this.Gw=e,this.Jw=i}getHeight(){return this.yt.$t()}setHeight(t){const e=this.bf.Qt(),s=e.Cc(this.yt);e.Xu(s,t)}paneIndex(){return this.bf.Qt().Cc(this.yt)}moveTo(t){const e=this.paneIndex();e!==t&&(g(t>=0&&t<this.bf.Sf().length,"Invalid pane index"),this.bf.Qt().Gu(e,t))}getSeries(){return this.yt.wo().map((t=>this.Gw(t)))??[]}getHTMLElement(){return this.bf.Sf()[this.paneIndex()].Rf()}attachPrimitive(t){this.yt.ua(t),t.attached&&t.attached({chart:this.Jw,requestUpdate:()=>this.yt.Qt().Bh()})}detachPrimitive(t){this.yt.ca(t)}priceScale(t){if(null===this.yt.co(t))throw new Error(`Cannot find price scale with id: ${t}`);return new Ii(this.bf,t,this.paneIndex())}}const Mi={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Pi{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Qw(){return this.ir}}class Ri{constructor(t,e,s,i,n,r){this.tg=new b,this.Jn=t,this.ig=e,this.sg=s,this.Yo=n,this.Jw=i,this.ng=r}m(){this.tg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return null===e?null:this.Jn.Wt().Nt(t,e.Ft)}coordinateToPrice(t){const e=this.Jn.zt();return null===e?null:this.Jn.Wt().Ts(t,e.Ft)}barsInLogicalRange(t){if(null===t)return null;const e=new Oe(new Me(t.from,t.to)).o_(),s=this.Jn.Ks();if(s.Zi())return null;const i=s.Wr(e.Uh(),1),n=s.Wr(e.bi(),-1),r=w(s.Lr()),o=w(s.Zs());if(null!==i&&null!==n&&i.Re>n.Re)return{barsBefore:t.from-r,barsAfter:o-t.to};const h={barsBefore:null===i||i.Re===r?t.from-r:i.Re-r,barsAfter:null===n||n.Re===o?o-t.to:o-n.Re};return null!==i&&null!==n&&(h.from=i.ew,h.to=n.ew),h}setData(t){this.Yo,this.Jn.Rr(),this.ig.eg(this.Jn,t),this.rg("full")}update(t,e=!1){this.Jn.Rr(),this.ig.hg(this.Jn,t,e),this.rg("update")}dataByIndex(t,e){const s=this.Jn.Ks().Wr(t,e);return null===s?null:bi(this.seriesType())(s)}data(){const t=bi(this.seriesType());return this.Jn.Ks().Hr().map((e=>t(e)))}subscribeDataChanged(t){this.tg.i(t)}unsubscribeDataChanged(t){this.tg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return k(this.Jn.N())}priceScale(){return this.sg.priceScale(this.Jn.Wt().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=C(k(Mi),t),s=this.Jn.Oh(e);return new Pi(s)}removePriceLine(t){this.Jn.Nh(t.Qw())}priceLines(){return this.Jn.Wh().map((t=>new Pi(t)))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.Jw,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.Yo})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Bh()}getPane(){const t=this.Jn,e=w(this.Jn.Qt().Hn(t));return this.ng(e)}moveToPane(t){this.Jn.Qt().Mc(this.Jn,t)}rg(t){this.tg.v()&&this.tg.p(t)}}class Oi{constructor(t,e,s){this.ag=new b,this.g_=new b,this.Kv=new b,this.ts=t,this.uh=t.At(),this.Rm=e,this.uh.du().i(this.lg.bind(this)),this.uh.fu().i(this.og.bind(this)),this.Rm.sm().i(this._g.bind(this)),this.Yo=s}m(){this.uh.du().u(this),this.uh.fu().u(this),this.Rm.sm().u(this),this.ag.m(),this.g_.m(),this.Kv.m()}scrollPosition(){return this.uh.iu()}scrollToPosition(t,e){e?this.uh._u(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ou()}getVisibleRange(){const t=this.uh.O_();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.Yo.convertHorzItemToInternal(t.from),to:this.Yo.convertHorzItemToInternal(t.to)},s=this.uh.H_(e);this.ts.wc(s)}getVisibleLogicalRange(){const t=this.uh.L_();return null===t?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){g(t.from<=t.to,"The from index cannot be after the to index."),this.ts.wc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.mu()}logicalToCoordinate(t){const e=this.ts.At();return e.Zi()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Zi()?null:this.uh.Z_(t)}timeToIndex(t,e){const s=this.Yo.convertHorzItemToInternal(t);return this.uh.A_(s,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return null===e?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.At(),s=e.Z_(t),i=e.ss(s);return null===i?null:i.originalTime}width(){return this.Rm.Df().width}height(){return this.Rm.Df().height}subscribeVisibleTimeRangeChange(t){this.ag.i(t)}unsubscribeVisibleTimeRangeChange(t){this.ag._(t)}subscribeVisibleLogicalRangeChange(t){this.g_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.g_._(t)}subscribeSizeChange(t){this.Kv.i(t)}unsubscribeSizeChange(t){this.Kv._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...k(this.uh.N()),barSpacing:this.uh.Q_()}}lg(){this.ag.v()&&this.ag.p(this.getVisibleRange())}og(){this.g_.v()&&this.g_.p(this.getVisibleLogicalRange())}_g(t){this.Kv.p(t.width,t.height)}}function zi(t){return function(t){if(E(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:s}=t.handleScale;E(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),E(s)&&(t.handleScale.axisDoubleClickReset={time:s,price:s})}const e=t.handleScroll;E(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Bi{constructor(t,e,s){this.ug=new Map,this.cg=new Map,this.dg=new b,this.fg=new b,this.pg=new b,this.ku=new WeakMap,this.vg=new si(e);const i=void 0===s?k(Ti()):C(k(Ti()),zi(s));this.mg=e,this.bf=new Ns(t,i,e),this.bf.Tv().i((t=>{this.dg.v()&&this.dg.p(this.wg(t()))}),this),this.bf.Rv().i((t=>{this.fg.v()&&this.fg.p(this.wg(t()))}),this),this.bf.ju().i((t=>{this.pg.v()&&this.pg.p(this.wg(t()))}),this);const n=this.bf.Qt();this.gg=new Oi(n,this.bf.Am(),this.mg)}remove(){this.bf.Tv().u(this),this.bf.Rv().u(this),this.bf.ju().u(this),this.gg.m(),this.bf.m(),this.ug.clear(),this.cg.clear(),this.dg.m(),this.fg.m(),this.pg.m(),this.vg.m()}resize(t,e,s){this.autoSizeActive()||this.bf.Vm(t,e,s)}addCustomSeries(t,e={},s=0){const i=(t=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...ui,...t.defaultOptions()},Mg:di,bg:t}))(y(t));return this.xg(i,e,s)}addSeries(t,e={},s=0){return this.xg(t,e,s)}removeSeries(t){const e=v(this.ug.get(t)),s=this.vg.vc(e);this.bf.Qt().vc(e),this.Sg(s),this.ug.delete(t),this.cg.delete(e)}eg(t,e){this.Sg(this.vg.Mw(t,e))}hg(t,e,s){this.Sg(this.vg.Pw(t,e,s))}subscribeClick(t){this.dg.i(t)}unsubscribeClick(t){this.dg._(t)}subscribeCrosshairMove(t){this.pg.i(t)}unsubscribeCrosshairMove(t){this.pg._(t)}subscribeDblClick(t){this.fg.i(t)}unsubscribeDblClick(t){this.fg._(t)}priceScale(t,e=0){return new Ii(this.bf,t,e)}timeScale(){return this.gg}applyOptions(t){this.bf.hr(zi(t))}options(){return this.bf.N()}takeScreenshot(){return this.bf.Wm()}removePane(t){this.bf.Qt().Ku(t)}swapPanes(t,e){this.bf.Qt().Gu(t,e)}autoSizeActive(){return this.bf.qm()}chartElement(){return this.bf.Af()}panes(){return this.bf.Qt().$s().map((t=>this.Cg(t)))}paneSize(t=0){const e=this.bf.Zm(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,s){const i=this.ug.get(s);if(void 0===i)return;const n=this.bf.Qt().Hn(i);null!==n&&this.bf.Qt().oc(t,e,n)}clearCrosshairPosition(){this.bf.Qt()._c(!0)}horzBehaviour(){return this.mg}xg(t,e={},s=0){g(void 0!==t.Mg),function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const s=Math.round(t);if(Math.abs(s-t)<1e-8)return e;t*=10}return e}(e.minMove))}(e.priceFormat),"Candlestick"===t.type&&function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(e);const i=C(k(c),k(t.defaultOptions),e),n=t.Mg,r=new Gt(this.bf.Qt(),t.type,i,n,t.bg);this.bf.Qt().dc(r,s);const o=new Ri(r,this,this,this,this.mg,(t=>this.Cg(t)));return this.ug.set(o,r),this.cg.set(r,o),o}Sg(t){const e=this.bf.Qt();e.uc(t.At.Y_,t.At.Vw,t.At.Iw),t.wo.forEach(((t,e)=>e.ht(t.se,t.Dw))),e.At().R_(),e.J_()}yg(t){return v(this.cg.get(t))}wg(t){const e=new Map;t.lw.forEach(((t,s)=>{const i=s.Rr(),n=bi(i)(t);if("Custom"!==i)g(Vs(n));else{const t=s.pa();g(!t||!1===t(n))}e.set(this.yg(s),n)}));const s=void 0!==t.aw&&this.cg.has(t.aw)?this.yg(t.aw):void 0;return{time:t.ew,logical:t.Re,point:t.rw,paneIndex:t.hw,hoveredSeries:s,hoveredObjectId:t.ow,seriesData:e,sourceEvent:t._w}}Cg(t){let e=this.ku.get(t);return e||(e=new _i(this.bf,(t=>this.yg(t)),t,this),this.ku.set(t,e)),e}}function Di(t){if(A(t)){const e=document.getElementById(t);return g(null!==e,`Cannot find element in DOM with id=${t}`),e}return t}function Li(t,e,s){const i=Di(t),n=new Bi(i,e,s);return e.setOptions(n.options()),n}function ji(t,e){return Li(t,new is,is.Wc(e))}class Ni extends hi{constructor(t,e){super(t,e,!0)}qw(t,e,s){e.j_(this.zw,I(this.Lw)),t.Dl(this.zw,s,I(this.Lw))}Pg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}Uw(){const t=this.Jn.Rh();this.zw=this.Jn.Ks().Hr().map((e=>{const s=e.Ft[3];return this.kg(e.Re,s,t)}))}}function Ui(t,e,s,i,n,r,o){if(0===e.length||i.from>=e.length||i.to<=0)return;const{context:h,horizontalPixelRatio:a,verticalPixelRatio:l}=t,c=e[i.from];let u=r(t,c),d=c;if(i.to-i.from<2){const e=n/2;h.beginPath();const s={_t:c._t-e,ut:c.ut},i={_t:c._t+e,ut:c.ut};h.moveTo(s._t*a,s.ut*l),h.lineTo(i._t*a,i.ut*l),o(t,u,s,i)}else{const n=(e,s)=>{o(t,u,d,s),h.beginPath(),u=e,d=s};let p=d;h.beginPath(),h.moveTo(c._t*a,c.ut*l);for(let o=i.from+1;o<i.to;++o){p=e[o];const i=r(t,p);switch(s){case 0:h.lineTo(p._t*a,p.ut*l);break;case 1:h.lineTo(p._t*a,e[o-1].ut*l),i!==u&&(n(i,p),h.lineTo(p._t*a,e[o-1].ut*l)),h.lineTo(p._t*a,p.ut*l);break;case 2:{const[t,s]=Wi(e,o-1,o);h.bezierCurveTo(t._t*a,t.ut*l,s._t*a,s.ut*l,p._t*a,p.ut*l);break}}1!==s&&i!==u&&(n(i,p),h.moveTo(p._t*a,p.ut*l))}(d!==p||d===p&&1===s)&&o(t,u,d,p)}}const Fi=6;function Vi(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function qi(t,e){return{_t:t._t/e,ut:t.ut/e}}function Wi(t,e,s){const i=Math.max(0,e-1),n=Math.min(t.length-1,s+1);var r,o;return[(r=t[e],o=qi(Vi(t[s],t[i]),Fi),{_t:r._t+o._t,ut:r.ut+o.ut}),Vi(t[s],qi(Vi(t[n],t[e]),Fi))]}function Yi(t,e){const s=t.context;s.strokeStyle=e,s.stroke()}class Qi extends D{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;const{ot:e,lt:s,Tg:i,Rg:n,ct:r,Kt:o,Dg:h}=this.rt;if(null===s)return;const a=t.context;a.lineCap="butt",a.lineWidth=r*t.verticalPixelRatio,f(a,o),a.lineJoin="round";const l=this.Vg.bind(this);void 0!==n&&Ui(t,e,n,s,i,l,Yi),h&&function(t,e,s,i,n){if(i.to-i.from<=0)return;const{horizontalPixelRatio:r,verticalPixelRatio:o,context:h}=t;let a=null;const l=Math.max(1,Math.floor(r))%2/2,c=s*o+l;for(let s=i.to-1;s>=i.from;--s){const i=e[s];if(i){const e=n(t,i);e!==a&&(h.beginPath(),null!==a&&h.fill(),h.fillStyle=e,a=e);const s=Math.round(i._t*r)+l,u=i.ut*o;h.moveTo(s,u),h.arc(s,u,c,0,2*Math.PI)}}h.fill()}(t,e,h,s,l)}}class Hi extends Qi{Vg(t,e){return e.vt}}class Ki extends Ni{constructor(){super(...arguments),this.Ww=new Hi}kg(t,e,s){return{...this.Pg(t,e),...s.Dr(t)}}Yw(){const t=this.Jn.N(),e={ot:this.zw,Kt:t.lineStyle,Rg:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,Dg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.Lw,Tg:this.Qn.At().Q_()};this.Ww.ht(e)}}const Ji={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Mg:(t,e)=>new Ki(t,e)}},5111:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(3987));e.default=class{constructor(t,{headers:e={},schema:s,fetch:i}){this.url=t,this.headers=e,this.schema=s,this.fetch=i}select(t,{head:e=!1,count:s}={}){const i=e?"HEAD":"GET";let r=!1;const o=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!r?"":('"'===t&&(r=!r),t))).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:s=!0}={}){const i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:i,defaultToNull:r=!0}={}){const o=[`resolution=${s?"ignore":"merge"}-duplicates`];if(void 0!==e&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},5112:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},5213:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},5303:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".video","0 -960 960 960",'<path d="m380-300 280-180-280-180v360ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-480H160v480Zm0 0v-480 480Z"/>')}}i()}catch(t){i(t)}}))},5321:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{ED:()=>f.A,Ix:()=>h.A,N_:()=>d.A,Pe:()=>l.A,Pw:()=>p.A,Ss:()=>a.A,Sx:()=>u.A,el:()=>o.A,il:()=>c.A,rj:()=>n.A,vs:()=>r.A});var n=s(9144),r=s(5364),o=s(716),h=(s(1327),s(9814),s(5399),s(2426),s(6154)),a=s(102),l=s(5043),c=s(4046),u=s(7202),d=s(8927),p=s(6127),f=s(8554),m=(s(9187),s(5377),s(9333),t([h,l]));[h,l]=m.then?(await m)():m,i()}catch(t){i(t)}}))},5364:(t,e,s)=>{s.d(e,{A:()=>r});var i=s(1911);class n extends i.xt{listeners=[];onWindow(t,e,s){const i=t=>{e.call(this,t)};return window.addEventListener(t,i,s),this.listeners.push({type:t,listener:i,options:s,originalListener:e}),this}offWindow(t,e,s){const i=this.listeners.findIndex((s=>s.type===t&&s.originalListener===e));if(-1!==i){const{listener:e}=this.listeners[i];window.removeEventListener(t,e,s),this.listeners.splice(i,1)}return this}remove(){this.listeners.forEach((({type:t,listener:e,options:s})=>window.removeEventListener(t,e,s))),this.listeners=[],super.remove()}}class r extends n{htmlElement;constructor(t,...e){super(),this.htmlElement=t instanceof Element?t:function(t){const e=(t||"div").split(/([#.])/),s=e[0]||"div",i=document.createElement(s);let n="";for(let t=1;t<e.length;t+=2){n=e[t];const s=e[t+1];"#"===n?i.id=s:"."===n&&i.classList.add(s)}return i}(t??""),this.append(...e)}prependText(t){if(this.htmlElement instanceof HTMLTextAreaElement)this.htmlElement.value=t+this.htmlElement.value;else{const e=document.createDocumentFragment();t.split("\n").forEach(((t,s)=>{s>0&&e.appendChild(document.createElement("br")),e.appendChild(document.createTextNode(t))})),this.htmlElement.prepend(e)}return this}appendText(t){if(this.htmlElement instanceof HTMLTextAreaElement)this.htmlElement.value+=t;else{const e=document.createDocumentFragment();t.split("\n").forEach(((t,s)=>{s>0&&e.appendChild(document.createElement("br")),e.appendChild(document.createTextNode(t))})),this.htmlElement.appendChild(e)}return this}prepend(...t){for(const e of t)void 0!==e&&(e instanceof r?e.appendTo(this,0):"string"==typeof e?this.prependText(e):(Object.assign(this.htmlElement,e),e.style&&this.style(e.style)));return this}append(...t){for(const e of t)void 0!==e&&(e instanceof r?e.appendTo(this):"string"==typeof e?this.appendText(e):(Object.assign(this.htmlElement,e),e.style&&this.style(e.style)));return this}isVisible(){return!!this.parent&&(this.parent.isVisible()||this.parent.htmlElement===document.body)}notifyVisibility(){this.emit("visible"),this.children.forEach((t=>t.notifyVisibility()))}appendTo(t,e){if(void 0===e||e>=t.htmlElement.childNodes.length)t.htmlElement.appendChild(this.htmlElement);else{const s=t.htmlElement.childNodes[e];t.htmlElement.insertBefore(this.htmlElement,s)}return super.appendTo(t,e),this.isVisible()&&this.notifyVisibility(),this}clear(...t){return super.clear(...t),0===this.children.length&&(this.htmlElement.innerHTML=""),this}remove(){this.removed||(this.emit("remove"),this.htmlElement.remove(),super.remove())}set text(t){this.clear(),t&&this.appendText(t)}get text(){return this.htmlElement.textContent??""}addClass(...t){return this.htmlElement.classList.add(...t),this}hasClass(t){return this.htmlElement.classList.contains(t)}removeClass(...t){return this.htmlElement.classList.remove(...t),this}style(t){return"string"==typeof t?this.htmlElement.style.getPropertyValue(t):(Object.assign(this.htmlElement.style,t),this)}onDom(t,e,s){return this.htmlElement.addEventListener(t,e,s),this}offDom(t,e,s){return this.htmlElement.removeEventListener(t,e,s),this}calculateRect(){return this.htmlElement.getBoundingClientRect()}clone(){return new r(this.htmlElement.cloneNode(!0))}}},5377:()=>{new class{applyTextStroke(t,e,s){let i="";for(let t=-e;t<=e;t++)for(let n=-e;n<=e;n++)0===t&&0===n||(i+=`${t}px ${n}px 0 ${s},`);i=i.slice(0,-1),t.style({textShadow:i})}}},5399:(t,e,s)=>{s(6127),s(9814)},5491:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>h});var n=s(5321),r=s(7946),o=t([n,r]);[n,r]=o.then?(await o)():o;class h extends r.A{header;main;footer;constructor(t,e=!0){super(`.structured-modal${t}`,e),super.append(this.header=(0,n.el)("header"),this.main=(0,n.el)("main"),this.footer=(0,n.el)("footer"))}appendToHeader(...t){return this.header.append(...t),this}appendToMain(...t){return this.main.append(...t),this}appendToFooter(...t){return this.footer.append(...t),this}}i()}catch(t){i(t)}}))},5588:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".table","0 -960 960 960",'<path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm240-240H200v160h240v-160Zm80 0v160h240v-160H520Zm-80-80v-160H200v160h240Zm80 0h240v-160H520v160ZM200-680h560v-80H200v80Z"/>')}}i()}catch(t){i(t)}}))},5601:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(4261)),r=i(s(6860));e.default=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async t=>{var e,s,i;let n=null,o=null,h=null,a=t.status,l=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}const i=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),r=null===(s=t.headers.get("content-range"))||void 0===s?void 0:s.split("/");i&&r&&r.length>1&&(h=parseInt(r[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(n={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,h=null,a=406,l="Not Acceptable"):o=1===o.length?o[0]:null)}else{const e=await t.text();try{n=JSON.parse(e),Array.isArray(n)&&404===t.status&&(o=[],n=null,a=200,l="OK")}catch(s){404===t.status&&""===e?(a=204,l="No Content"):n={message:e}}if(n&&this.isMaybeSingle&&(null===(i=null==n?void 0:n.details)||void 0===i?void 0:i.includes("0 rows"))&&(n=null,a=200,l="OK"),n&&this.shouldThrowOnError)throw new r.default(n)}return{error:n,data:o,count:h,status:a,statusText:l}}));return this.shouldThrowOnError||(s=s.catch((t=>{var e,s,i;return{error:{message:`${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"FetchError"}: ${null==t?void 0:t.message}`,details:`${null!==(s=null==t?void 0:t.stack)&&void 0!==s?s:""}`,hint:"",code:`${null!==(i=null==t?void 0:t.code)&&void 0!==i?i:""}`},data:null,count:null,status:0,statusText:""}}))),s.then(t,e)}}},5648:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".info","0 -960 960 960",'<path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/>')}}i()}catch(t){i(t)}}))},5809:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},5903:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(2632),r=s(5491),o=t([i,n,r]);[i,n,r]=o.then?(await o)():o;r.A;e()}catch(t){e(t)}}))},5950:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(t,e,s){let i,n,r="";"string"==typeof s?(r=t,i=e,n=s):(i=t,n=e),super(`.icon.svg${r}`);const o=`<svg fill="currentColor" width="100%" height="100%" viewBox="${i}" xmlns="http://www.w3.org/2000/svg">${n}</svg>`;this.htmlElement.innerHTML=o}}i()}catch(t){i(t)}}))},6032:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{input;previousValue="";constructor(t,e){let s,i="";"string"==typeof t?(i=t,s=e??{}):s=t??{},super(`label.input${i}${!0===s.required?".required":""}`),s.autoCapitalize&&(this.htmlElement.autocapitalize=s.autoCapitalize),this.append(s.label?(0,n.el)("span.label",s.label):void 0,this.input=(0,n.el)(s.multiline?"textarea":"input",{placeholder:s.placeholder??"",value:s.value??"",readOnly:s.readOnly,onkeyup:()=>this.handleInput()}),s.suffixIcon?(0,n.el)(".suffix-icon",s.suffixIcon):void 0),s.value&&(this.previousValue=s.value),s.onKeyDown&&this.input.onDom("keydown",(t=>s.onKeyDown(t))),s.onChange&&this.on("valueChanged",(t=>s.onChange(t))),s.onClick&&this.onDom("click",(()=>s.onClick(this)))}handleInput=()=>{const t=this.value;t!==this.previousValue&&(this.emit("valueChanged",t),this.previousValue=t)};get value(){return this.input.htmlElement.value}set value(t){this.input.htmlElement.value!==t&&(this.input.htmlElement.value=t,this.readOnly||this.handleInput())}get readOnly(){return this.input.htmlElement.readOnly}set readOnly(t){this.input.htmlElement.readOnly=t}focus(){this.input.htmlElement.focus()}}i()}catch(t){i(t)}}))},6084:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},6099:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(9243),n=s(8555),r=t([i,n]);[i,n]=r.then?(await r)():r;n.A;e()}catch(t){e(t)}}))},6127:(t,e,s)=>{s.d(e,{A:()=>n});var i=s(4046);const n=new class{_isAndroid;_isIOS;_isPageVisible=!document.hidden;store=new i.A("browser-info");constructor(){document.addEventListener("visibilitychange",(()=>{this._isPageVisible=!document.hidden}))}isAndroid(){return this._isAndroid??(this._isAndroid=/Android/i.test(navigator.userAgent))}isIOS(){return this._isIOS??(this._isIOS=/iPhone|iPad|iPod/i.test(navigator.userAgent))}isMobileDevice(){return this.isAndroid()||this.isIOS()}isPageVisible(){return this._isPageVisible}hasPageFocus(){return document.hasFocus()}isDarkMode(){return window.matchMedia("(prefers-color-scheme: dark)").matches}normalizeLanguageCode(t){const[e,s]=t.toLowerCase().split("-");return"zh"===e?"tw"===s||"hk"===s?"zh-TW":"zh-CN":e}get languageCode(){const t=this.store.get("lang");if(t)return t;const e=navigator.language||navigator.languages&&navigator.languages[0]||"en-US";return this.normalizeLanguageCode(e)}set languageCode(t){this.store.setPermanent("lang",this.normalizeLanguageCode(t))}async share(t){if(navigator.share)try{await navigator.share(t)}catch(t){console.error("Error sharing:",t)}else try{await navigator.clipboard.writeText(t.url),alert("Link copied to clipboard.")}catch(t){console.error("Error copying to clipboard:",t),alert("Sharing not supported on this browser.")}}async download(t){const e=await fetch(t),s=await e.blob(),i=URL.createObjectURL(s),n=document.createElement("a");n.href=i,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)}enterFullscreen(t){t.htmlElement.requestFullscreen()}isFullscreen(){return Boolean(document.fullscreenElement)}exitFullscreen(){document.exitFullscreen()}}},6154:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>r});var n=s(1911);window.URLPattern||await s.e(302).then(s.bind(s,5302));class t extends n.QE{prefix="";routes=[];isViewOpening=!1;activeViews=[];constructor(){super(),window.addEventListener("popstate",(t=>this.updateActiveViews(t.state)))}openView(t,e){this.isViewOpening=!0;const s=new t;s.changeData(e),this.activeViews.push(s),this.isViewOpening=!1}add(t,e,s){const i=(Array.isArray(t)?t:[t]).map((t=>new URLPattern({pathname:`${this.prefix}${t}`}))),n=Array.isArray(s)?s.map((t=>new URLPattern({pathname:`${this.prefix}${t}`}))):[];this.routes.push({urlPatterns:i,excludePatterns:n,View:e});const r=i.find((t=>t.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups,o=n.find((t=>t.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups;return r&&!o&&this.openView(e,r),this}updateActiveViews(t){for(const e of this.routes){const s=this.activeViews.find((t=>t instanceof e.View)),i=e.urlPatterns.find((t=>t.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups,r=e.excludePatterns.find((t=>t.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups;i&&(t?Object.assign(t,i):t=i),delete t?.[0],i&&!r?s?s.changeData(t):this.openView(e.View,t):s&&(s.close(),n.lv.pull(this.activeViews,s))}}performNavigation(t,e,s){s?history.replaceState(void 0,"",`${this.prefix}${t}`):history.pushState(void 0,"",`${this.prefix}${t}`),this.emit("routeChanged",t,e),this.updateActiveViews(e),window.scrollTo(0,0)}go(t,e){location.pathname!==`${this.prefix}${t}`&&(this.isViewOpening?setTimeout((()=>this.performNavigation(t,e,!1)),0):this.performNavigation(t,e,!1))}goWithoutHistory(t,e){location.pathname!==`${this.prefix}${t}`&&(this.isViewOpening?setTimeout((()=>this.performNavigation(t,e,!0)),0):this.performNavigation(t,e,!0))}}const r=new t;i()}catch(t){i(t)}}),1)},6204:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{$o:()=>h.A,BK:()=>it.A,EZ:()=>r.A,I5:()=>p.A,IJ:()=>x.A,Kb:()=>nt.A,Kc:()=>M.A,QG:()=>N.A,US:()=>d.A,aR:()=>n.A,bF:()=>W.A,c1:()=>Q.A,cy:()=>J.A,fo:()=>k.A,id:()=>at.A,lo:()=>f.A,m_:()=>a.A,mo:()=>R.A,np:()=>ot.A,o4:()=>L.A,qY:()=>B.A,qx:()=>$.A,rZ:()=>T.A,t6:()=>st.A,uv:()=>lt.A,wy:()=>F.A,xf:()=>P.A,yO:()=>O.A});var n=s(2066),r=s(6206),o=s(3591),h=s(155),a=s(2352),l=s(1250),c=s(7944),u=s(9081),d=s(7372),p=s(4710),f=s(6325),m=s(2475),g=s(4096),v=s(4917),w=s(8763),y=s(2595),b=s(5112),C=s(9612),x=s(1186),S=s(1477),A=s(85),E=s(7556),k=s(3241),T=s(53),I=s(2109),_=s(8310),M=s(9658),P=s(9117),R=s(5648),O=s(7732),z=s(2227),B=s(3696),D=s(4115),L=s(9578),j=s(2890),N=s(3452),U=s(1441),F=s(1998),V=s(4469),q=s(6084),W=s(3085),Y=s(1711),Q=s(4916),H=s(2717),K=s(2933),J=s(6524),Z=s(375),G=s(1992),X=s(7616),$=s(2774),tt=s(7373),et=s(8535),st=s(3919),it=s(4475),nt=s(5588),rt=s(6813),ot=s(5303),ht=s(4841),at=s(44),lt=s(1068),ct=s(2688),ut=s(5809),dt=t([n,r,o,h,a,l,c,u,d,p,f,m,g,v,w,y,b,C,x,S,A,E,k,T,I,_,M,P,R,O,z,B,D,L,j,N,U,F,V,q,W,Y,Q,H,K,J,Z,G,X,$,tt,et,st,it,nt,rt,ot,ht,at,lt,ct,ut]);[n,r,o,h,a,l,c,u,d,p,f,m,g,v,w,y,b,C,x,S,A,E,k,T,I,_,M,P,R,O,z,B,D,L,j,N,U,F,V,q,W,Y,Q,H,K,J,Z,G,X,$,tt,et,st,it,nt,rt,ot,ht,at,lt,ct,ut]=dt.then?(await dt)():dt,i()}catch(t){i(t)}}))},6206:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".accordion-open","0 0 8 8",'<path fill="currentColor" fill-rule="evenodd" d="M4.5 4.5V8h-1V4.5H0v-1h3.5V0h1v3.5H8v1H4.5Z" clip-rule="evenodd"></path>')}}i()}catch(t){i(t)}}))},6263:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(){super(".loading-spinner.material-loading-spinner"),this.htmlElement.innerHTML='<svg width="100%" height="100%" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>'}}i()}catch(t){i(t)}}))},6315:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(5601));class r extends n.default{select(t){let e=!1;const s=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:i,referencedTable:n=i}={}){const r=n?`${n}.order`:"order",o=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const i=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:i=s}={}){const n=void 0===i?"offset":`${i}.offset`,r=void 0===i?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(r,""+(e-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:i=!1,wal:n=!1,format:r="text"}={}){var o;const h=[t?"analyze":null,e?"verbose":null,s?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),a=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${a}"; options=${h};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}e.default=r},6325:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".code","0 -960 960 960",'<path d="M320-240 80-480l240-240 57 57-184 184 183 183-56 56Zm320 0-57-57 184-184-183-183 56-56 240 240-240 240Z"/>')}}i()}catch(t){i(t)}}))},6524:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".quote","0 -960 960 960",'<path d="m228-240 92-160q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 23-5.5 42.5T458-480L320-240h-92Zm360 0 92-160q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 23-5.5 42.5T818-480L680-240h-92ZM320-500q25 0 42.5-17.5T380-560q0-25-17.5-42.5T320-620q-25 0-42.5 17.5T260-560q0 25 17.5 42.5T320-500Zm360 0q25 0 42.5-17.5T740-560q0-25-17.5-42.5T680-620q-25 0-42.5 17.5T620-560q0 25 17.5 42.5T680-500Zm0-60Zm-360 0Z"/>')}}i()}catch(t){i(t)}}))},6675:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(2592),r=t([i,n]);[i,n]=r.then?(await r)():r;i.vs;e()}catch(t){e(t)}}))},6724:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(...t){super(".dropdown-menu-group",...t)}}i()}catch(t){i(t)}}))},6798:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>u});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];const o=1,h=3,a=.25,l="transform 0.2s ease-in-out",c=300;class u extends n.vs{imageUrls=[];currentImageIndex=0;prevImage;currentImage;nextImage;translateX=0;translateY=0;scale=1;isDragging=!1;dragStartX=0;dragStartY=0;initialDistance=0;initialScale=1;swipeStartX=0;swipeThreshold=40;isSwipeInProgress=!1;lastTapTimestamp=0;constructor(t){super(".main-image-viewer"),this.imageUrls=t.imageUrls,this.currentImageIndex=t.initialIndex,this.imageUrls.length>1&&(this.prevImage=(0,n.el)("img.prev"),this.nextImage=(0,n.el)("img.next")),this.append(this.prevImage,this.currentImage=(0,n.el)("img.current"),this.nextImage),this.resetImages(),this.currentImage.onDom("mousedown",(t=>this.startDrag(t))),this.onWindow("mousemove",(t=>this.drag(t))),this.onWindow("mouseup",(()=>this.endDrag())),this.currentImage.onDom("touchstart",(t=>this.startTouch(t))),this.onWindow("touchmove",(t=>this.moveTouch(t))),this.onWindow("touchend",(t=>this.endTouch(t))),this.currentImage.onDom("wheel",(t=>this.handleWheelZoom(t))),this.currentImage.onDom("transitionend",(()=>this.resetImages()))}resetImages(){const t=this.imageUrls.length>1?this.currentImageIndex<=0?this.imageUrls[this.imageUrls.length-1]:this.imageUrls[this.currentImageIndex-1]:void 0,e=this.imageUrls[this.currentImageIndex],s=this.imageUrls.length>1?this.currentImageIndex>=this.imageUrls.length-1?this.imageUrls[0]:this.imageUrls[this.currentImageIndex+1]:void 0;this.prevImage&&void 0!==t&&(this.prevImage.htmlElement.src=t),this.currentImage.htmlElement.src=e,this.nextImage&&void 0!==s&&(this.nextImage.htmlElement.src=s),this.prevImage?.style({left:n.Pw.isMobileDevice()?"-50%":"0",opacity:n.Pw.isMobileDevice()?void 0:"0",transition:l}),this.currentImage.style({left:"50%",opacity:n.Pw.isMobileDevice()?void 0:"1",transition:l}),this.nextImage?.style({left:n.Pw.isMobileDevice()?"150%":"100%",opacity:n.Pw.isMobileDevice()?void 0:"0",transition:l})}updateTransform(){this.currentImage.style({transform:`translate(calc(-50% + ${this.translateX}px), calc(-50% + ${this.translateY}px)) scale(${this.scale})`})}startDrag(t){t.preventDefault(),this.scale>1&&(this.isDragging=!0,this.dragStartX=t.clientX-this.translateX,this.dragStartY=t.clientY-this.translateY,this.currentImage.style({cursor:"grabbing",transition:"none"}))}drag(t){this.isDragging&&(this.translateX=t.clientX-this.dragStartX,this.translateY=t.clientY-this.dragStartY,this.updateTransform())}endDrag(){this.isDragging&&(this.isDragging=!1,this.currentImage.style({cursor:"auto",transition:l}))}getDistance(t){if(t.length<2)return 0;const e=t[0].clientX-t[1].clientX,s=t[0].clientY-t[1].clientY;return Math.sqrt(e*e+s*s)}startTouch(t){const e=(new Date).getTime(),s=e-this.lastTapTimestamp;if(s<c&&s>0&&1===t.touches.length)return t.preventDefault(),this.toggleZoom(),this.isDragging=!1,void(this.lastTapTimestamp=0);this.lastTapTimestamp=e,1===t.touches.length&&1===this.scale?(this.swipeStartX=t.touches[0].clientX,this.isSwipeInProgress=!0):t.touches.length>=2?(t.preventDefault(),this.initialDistance=this.getDistance(t.touches),this.initialScale=this.scale):this.scale>1&&(t.preventDefault(),this.isDragging=!0,this.dragStartX=t.touches[0].clientX-this.translateX,this.dragStartY=t.touches[0].clientY-this.translateY,this.currentImage.style({transition:"none"}))}moveTouch(t){if(this.isSwipeInProgress&&1===t.touches.length&&1===this.scale){if(this.imageUrls.length>1){const e=t.touches[0].clientX-this.swipeStartX;this.prevImage?.style({transition:"none",left:`calc(${n.Pw.isMobileDevice()?-50:0}% + ${e}px)`}),this.currentImage.style({transition:"none",left:`calc(50% + ${e}px)`}),this.nextImage?.style({transition:"none",left:`calc(${n.Pw.isMobileDevice()?150:100}% + ${e}px)`})}}else if(t.touches.length>=2){const e=this.getDistance(t.touches);if(this.initialDistance>0){let t=e/this.initialDistance*this.initialScale;t=Math.max(o,Math.min(t,h)),this.scale=t,this.updateTransform()}}else this.isDragging&&this.scale>1&&(this.translateX=t.touches[0].clientX-this.dragStartX,this.translateY=t.touches[0].clientY-this.dragStartY,this.updateTransform())}endTouch(t){if(this.isSwipeInProgress&&1===this.scale){const e=(t.changedTouches?t.changedTouches[0].clientX:0)-this.swipeStartX;Math.abs(e)>=this.swipeThreshold?e>0?this.emit("swipeRight"):e<0&&this.emit("swipeLeft"):(this.prevImage?.style({transition:`left 0.2s ease-in-out, ${l}`,left:n.Pw.isMobileDevice()?"-50%":"0%"}),this.currentImage.style({transition:`left 0.2s ease-in-out, ${l}`,left:"50%"}),this.nextImage?.style({transition:`left 0.2s ease-in-out, ${l}`,left:n.Pw.isMobileDevice()?"150%":"100%"})),this.isSwipeInProgress=!1}else 0===t.touches.length?this.initialDistance=0:this.isDragging&&this.scale>1&&(this.isDragging=!1,this.currentImage.style({transition:l}))}zoomIn(){this.scale=Math.min(this.scale+a,h),this.updateTransform()}zoomOut(){this.scale=Math.max(this.scale-a,o),this.updateTransform()}resetZoom(){this.currentImage.style({transition:l}),this.scale=1,this.translateX=0,this.translateY=0,this.updateTransform()}toggleZoom(){this.scale>1?this.resetZoom():(this.scale=2,this.updateTransform())}handleWheelZoom(t){t.preventDefault(),this.scale-=t.deltaY/100,this.scale=Math.max(o,Math.min(this.scale,h)),this.updateTransform()}goToImage(t,e){if(t!==this.currentImageIndex){if(this.resetZoom(),e||(e=t<this.currentImageIndex?"left":"right"),t-this.currentImageIndex<-1&&"left"===e){const e=t+1<=0?this.imageUrls[this.imageUrls.length-1]:this.imageUrls[t];this.prevImage&&(this.prevImage.htmlElement.src=e)}else if(t-this.currentImageIndex>1&&"right"===e){const e=t-1>=this.imageUrls.length-1?this.imageUrls[0]:this.imageUrls[t];this.nextImage&&(this.nextImage.htmlElement.src=e)}this.prevImage?.style({left:n.Pw.isMobileDevice()?"right"===e?"-100%":"50%":"right"===e?"-50%":"50%",opacity:n.Pw.isMobileDevice()?void 0:"right"===e?"0":"1",transition:`left 0.2s ease-in-out, opacity 0.2s ease-in-out, ${l}`}),this.currentImage.style({left:n.Pw.isMobileDevice()?"right"===e?"-50%":"150%":"right"===e?"0":"100%",opacity:n.Pw.isMobileDevice()?void 0:"0",transition:`left 0.2s ease-in-out, opacity 0.2s ease-in-out, ${l}`}),this.nextImage?.style({left:n.Pw.isMobileDevice()?"right"===e?"50%":"200%":"right"===e?"50%":"150%",opacity:n.Pw.isMobileDevice()?void 0:"right"===e?"1":"0",transition:`left 0.2s ease-in-out, opacity 0.2s ease-in-out, ${l}`}),this.currentImageIndex=t}}}i()}catch(t){i(t)}}))},6813:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},6860:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class s extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}e.default=s},6878:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},6895:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(9243),r=s(2632),o=s(7946),h=s(6798),a=s(7516),l=t([i,n,r,o,h,a]);[i,n,r,o,h,a]=l.then?(await l)():l;o.A;e()}catch(t){e(t)}}))},7202:(t,e,s)=>{var i;s.d(e,{A:()=>n}),function(t){t.Auto="auto",t.Dark="dark",t.Light="light"}(i||(i={}));const n=i},7204:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=t([i]);i=(n.then?(await n)():n)[0];i.vs;e()}catch(t){e(t)}}))},7357:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{options;constructor(t){super("input.invisible-file-input",{type:"file",...t,style:{display:"none"},onchange:()=>this.handleChange()}),this.options=t}openFileSelector(){this.htmlElement.click()}handleChange(){const t=this.htmlElement.files;t&&this.options.onChange(Array.from(t)),this.htmlElement.value=""}}i()}catch(t){i(t)}}))},7372:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".close","0 -960 960 960",'<path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>')}}i()}catch(t){i(t)}}))},7373:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},7516:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>h});var n=s(5321),r=s(2399),o=t([n,r]);[n,r]=o.then?(await o)():o;class h extends n.vs{selectedThumbnailIndex;constructor(t){super(".thumbnail-list");for(const[e,s]of t.thumbnailUrls.entries()){const t=new r.A(s);t.onDom("click",(()=>{this.selectThumbnail(e),this.emit("thumbnailSelected",e)})),this.append(t)}this.selectThumbnail(t.initialIndex)}selectThumbnail(t){if(this.selectedThumbnailIndex===t)return;void 0!==this.selectedThumbnailIndex&&this.children[this.selectedThumbnailIndex]?.deselect(),this.selectedThumbnailIndex=t;const e=this.children[t];if(e&&(e.select(),this.parent)){const t=this.parent.htmlElement.clientWidth,s=e.htmlElement.clientWidth,i=e.htmlElement.offsetLeft-(t/2-s/2);this.parent.htmlElement.scrollTo({left:i,behavior:"smooth"})}}}i()}catch(t){i(t)}}))},7556:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},7557:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>h});var n=s(5321),r=s(1569),o=t([n,r]);[n,r]=o.then?(await o)():o;class h extends n.vs{constructor(t){super("a.user-name-display"),this.text=t.name,this.onDom("click",(()=>r.A.showUserInfo(t)))}}i()}catch(t){i(t)}}))},7616:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},7732:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".italic","0 -960 960 960",'<path d="M200-200v-100h160l120-360H320v-100h400v100H580L460-300h140v100H200Z"/>')}}i()}catch(t){i(t)}}))},7944:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},7946:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>h});var n=s(5321),r=t([n]);const o=(0,(n=(r.then?(await r)():r)[0]).el)(".non-modal-dialog-container").appendTo(n.rj);o.onDom("click",(t=>{if(t.target===o.htmlElement)for(const t of o.children)t instanceof h&&t.htmlElement.close()}));class h extends n.vs{modal;closeListener=()=>this.remove();constructor(t,e=!0){if(super(`dialog.modal${t}`),this.modal=e,this.onDom("close",this.closeListener).onDom("click",(t=>{const e=this.calculateRect();(t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom)&&this.htmlElement.close()})).appendTo(e?n.rj:o),e?this.htmlElement.showModal():this.htmlElement.show(),!e){for(const t of n.rj.children)t instanceof h&&t.modal&&(t.off("remove",t.closeListener),t.htmlElement.close());this.on("remove",(()=>{for(const t of n.rj.children)t instanceof h&&t.modal&&(t.htmlElement.showModal(),t.on("remove",t.closeListener))}))}}}i()}catch(t){i(t)}}))},7996:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_HEADERS=void 0;const i=s(2621);e.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`}},8006:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>l});var n=s(5321),r=s(9632),o=s(5085),h=t([n,r]);[n,r]=h.then?(await h)():h;const a=new r.OP("https://dhzxulywizygtdficytt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoenh1bHl3aXp5Z3RkZmljeXR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzAxMTIxNDUsImV4cCI6MjA0NTY4ODE0NX0.xUd8nqcT2aVn1j4x8c-pRbDcFSaIGtkn7SAcmKleBms");class l extends n.vs{chart;lineSeries;_metric="numOwners";stats=[];constructor(t){super(".the-gods-graph"),this.chart=(0,o.R9)(this.htmlElement,{autoSize:!0,height:350,layout:{background:{color:n.N_.getShowingTheme()===n.Sx.Dark?"rgba(36, 39, 47)":"rgba(231, 224, 236)"},textColor:n.N_.getShowingTheme()===n.Sx.Dark?"rgba(230, 230, 230, 0.5)":"rgba(73, 69, 79, 0.5)"},grid:{vertLines:{color:n.N_.getShowingTheme()===n.Sx.Dark?"rgba(230, 230, 230, 0.1)":"rgba(73, 69, 79, 0.1)"},horzLines:{color:n.N_.getShowingTheme()===n.Sx.Dark?"rgba(230, 230, 230, 0.1)":"rgba(73, 69, 79, 0.1)"}},timeScale:{timeVisible:!0,secondsVisible:!1}}),this.lineSeries=this.chart.addSeries(o.Im,{color:"#2962FF"}),this.metric=t,this.fetchData()}renderChart(){const t=this.stats.map((t=>({time:new Date(t.time).getTime()/1e3,value:"floorPrice"===this._metric?t.floor_price:t.num_owners})));this.lineSeries.setData(t),this.chart.timeScale().fitContent()}async fetchData(){const t=new Date;t.setDate(t.getDate()-60);const e=t.toISOString();this.stats=await a.safeFetch("gods_stats",(t=>t.select("*").order("time",{ascending:!0}).gte("time",e))),this.renderChart()}set metric(t){this._metric=t,this.renderChart()}get metric(){return this._metric}}i()}catch(t){i(t)}}))},8062:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{options;constructor(t){super(".tab"),this.options=t,this.text=t.label,this.onDom("click",(()=>this.select())),this.options.openContextMenu&&n.ED.enhanceWithContextMenu(this,(t=>{this.options.openContextMenu?.(t.clientX,t.clientY)}))}getValue(){return this.options.value}select(){this.addClass("selected"),this.emit("selected")}deselect(){this.removeClass("selected"),this.emit("deselected")}}i()}catch(t){i(t)}}))},8310:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},8449:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(9243),n=s(3681),r=t([i,n]);[i,n]=r.then?(await r)():r;n.A;e()}catch(t){e(t)}}))},8490:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(9243),r=s(2632),o=t([i,n,r]);[i,n,r]=o.then?(await o)():o;i.vs;e()}catch(t){e(t)}}))},8528:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(1911),r=t([i]);i=(r.then?(await r)():r)[0];n.QE;e()}catch(t){e(t)}}))},8535:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},8554:(t,e,s)=>{s.d(e,{A:()=>n});var i=s(6127);const n=new class{enhanceWithContextMenu(t,e){i.A.isIOS()?this.simulateContextMenuOnIOS(t,e):t.onDom("contextmenu",(t=>{t.preventDefault(),e(t)}))}simulateContextMenuOnIOS(t,e){let s;t.style({"-webkit-user-select":"none","user-select":"none"});const i=()=>{clearTimeout(s)};t.onDom("touchstart",(t=>{const i=t.touches[0],n=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,view:window,clientX:i?.clientX??0,clientY:i?.clientY??0});s=window.setTimeout((()=>e(n)),500)})).onDom("touchend",i).onDom("touchmove",i)}}},8555:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(t,e){super(`.alert${t}`),this.append((0,n.el)(".icon-container",e.icon),(0,n.el)("p.message",e.message))}}i()}catch(t){i(t)}}))},8699:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>u});var n=s(5321),r=s(3501),o=s(3871),h=s(4688),a=s(3048),l=s(3245),c=t([n,r,o,a,l]);async function u(t){h.A.init(t),n.Pe.init(),o.S.init(),n.N_.theme=n.Sx.Dark,r.JG.updateTabBackgroundOnSelect=(t,e)=>{const s=e.htmlElement.offsetLeft,i=t.calculateRect().width-s-e.calculateRect().width;t.style({clipPath:`inset(0px ${i}px 0px ${s}px round 9999px)`})},n.Ix.add("/*",a.A).add("/thegods",l.A)}[n,r,o,a,l]=c.then?(await c)():c,i()}catch(d){i(d)}}))},8724:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{N:()=>n.A});var n=s(3626),r=t([n]);n=(r.then?(await r)():r)[0],i()}catch(t){i(t)}}))},8763:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},8848:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(3224),r=t([i,n]);[i,n]=r.then?(await r)():r;i.vs;e()}catch(t){e(t)}}))},8927:(t,e,s)=>{s.d(e,{A:()=>o});var i=s(4046),n=s(6127),r=s(7202);const o=new class{store=new i.A("theme-manager");init(){this.theme=this.theme}get theme(){const t=this.store.get("theme");return void 0===t?r.A.Auto:t}set theme(t){this.store.setPermanent("theme",t),document.documentElement.setAttribute("data-theme",this.getShowingTheme())}getShowingTheme(){const t=this.theme;return t===r.A.Auto?!0===n.A.isDarkMode()?r.A.Dark:r.A.Light:t}toggleTheme(){this.theme=this.getShowingTheme()===r.A.Dark?r.A.Light:r.A.Dark}}},9081:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},9083:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{vE:()=>c.A});var n=s(7204),r=s(2070),o=s(9677),h=s(6675),a=s(4063),l=s(8848),c=s(1569),u=s(4521),d=t([n,r,o,h,a,l,c,u]);[n,r,o,h,a,l,c,u]=d.then?(await d)():d,i()}catch(t){i(t)}}))},9117:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".image","0 -960 960 960",'<path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm40-80h480L570-480 450-320l-90-120-120 160Zm-40 80v-560 560Z"/>')}}i()}catch(t){i(t)}}))},9144:(t,e,s)=>{s.d(e,{A:()=>r});var i=s(5364);class n extends i.A{constructor(){super(document.body)}}const r=new n},9187:()=>{new class{MAGIC_NUMBERS={GIF:[71,73,70],GRAPHIC_CONTROL_EXTENSION:[33,249,4]};DEFAULT_OPTIONS={contentType:"image/jpeg",extension:"jpg",quality:.8};readFileAsBuffer(t){return new Promise(((e,s)=>{const i=new FileReader;i.onload=()=>e(new Uint8Array(i.result)),i.onerror=()=>s(new Error("Failed to read file")),i.readAsArrayBuffer(t)}))}readFileAsDataURL(t){return new Promise(((e,s)=>{const i=new FileReader;i.onload=t=>e(t.target?.result),i.onerror=()=>s(new Error("Failed to read file")),i.readAsDataURL(t)}))}loadImage(t){return new Promise(((e,s)=>{const i=new Image;i.onload=()=>e(i),i.onerror=()=>s(new Error("Failed to load image")),i.src=t}))}isGifFormat(t){return this.MAGIC_NUMBERS.GIF.every(((e,s)=>t[s]===e))}containsMultipleFrames(t){let e=0;for(let s=0;s<t.length-this.MAGIC_NUMBERS.GRAPHIC_CONTROL_EXTENSION.length;s++){if(this.MAGIC_NUMBERS.GRAPHIC_CONTROL_EXTENSION.every(((e,i)=>t[s+i]===e))&&(e++,e>1))return!0}return!1}async isAnimatedGif(t){try{const e=await this.readFileAsBuffer(t);if(!this.isGifFormat(e))throw new Error("Invalid GIF format");return this.containsMultipleFrames(e)}catch(t){throw new Error(`Failed to analyze GIF: ${t.message}`)}}calculateOptimalDimensions(t,e){const{width:s,height:i}=t,{width:n,height:r}=e;if(s<=n&&i<=r)return{width:s,height:i};const o=Math.min(n/s,r/i);return{width:Math.round(s*o),height:Math.round(i*o)}}async optimizeImageUsingCanvas(t,e){const s=document.createElement("canvas"),i=s.getContext("2d");if(!i)throw new Error("Failed to get canvas context");return s.width=e.width,s.height=e.height,i.drawImage(t,0,0,e.width,e.height),new Promise(((t,e)=>{s.toBlob((s=>{s?t(s):e(new Error("Canvas to Blob conversion failed"))}),this.DEFAULT_OPTIONS.contentType,this.DEFAULT_OPTIONS.quality)}))}async optimizeImage(t,e,s){if(!t.type.startsWith("image/"))throw new Error("The provided file is not an image.");if("image/gif"===t.type){if(await this.isAnimatedGif(t))throw new Error("Animated GIFs are not compressed.")}const i=await this.readFileAsDataURL(t),n=await this.loadImage(i),r=this.calculateOptimalDimensions({width:n.width,height:n.height},{width:e,height:s}),o=await this.optimizeImageUsingCanvas(n,r);if(o.size>=t.size)return t;const h=t.name.replace(/\.[^.]+$/,`.${this.DEFAULT_OPTIONS.extension}`);return new File([o],h,{type:this.DEFAULT_OPTIONS.contentType})}}},9243:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>I});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{constructor(){super("span.icon.close","❌")}}class h extends n.vs{constructor(){super("span.icon.share","🔗")}}class a extends n.vs{constructor(){super("span.icon.download","⬇️")}}class l extends n.vs{constructor(){super(".loading-spinner")}}class c extends n.vs{constructor(){super("span.icon.success","✅")}}class u extends n.vs{constructor(){super("span.icon.info","ℹ️")}}class d extends n.vs{constructor(){super("span.icon.warning","⚠️")}}class p extends n.vs{constructor(){super("span.icon.error","❌")}}class f extends n.vs{constructor(){super("span.icon.accordion-open","▼")}}class m extends n.vs{constructor(){super("span.icon.accordion-close","▲")}}class g extends n.vs{constructor(){super("span.icon.folder-collapse","📁")}}class v extends n.vs{constructor(){super("span.icon.folder-expand","📂")}}class w extends n.vs{constructor(){super("span.icon.minus","-")}}class y extends n.vs{constructor(){super("span.icon.plus","+")}}class b extends n.vs{constructor(){super("span.icon.prev","←")}}class C extends n.vs{constructor(){super("span.icon.next","→")}}class x extends n.vs{constructor(){super("span.icon.zoom-in","🔍+")}}class S extends n.vs{constructor(){super("span.icon.zoom-out","🔍-")}}class A extends n.vs{constructor(){super("span.icon.reset-zoom","🔍1")}}class E extends n.vs{constructor(){super("span.icon.fullscreen","⛶")}}class k extends n.vs{constructor(){super("span.icon.exit-fullscreen","⛶")}}class T{LoadingSpinner=l;CloseIcon=o;ShareIcon=h;DownloadIcon=a;SuccessIcon=c;InfoIcon=u;WarningIcon=d;ErrorIcon=p;AccordionOpenIcon=f;AccordionCloseIcon=m;FolderCollapsedIcon=g;FolderExpandedIcon=v;MinusIcon=w;PlusIcon=y;PrevIcon=b;NextIcon=C;ZoomInIcon=x;ZoomOutIcon=S;ResetZoomIcon=A;FullscreenIcon=E;ExitFullscreenIcon=k;updateTabBackgroundOnSelect=()=>{}}const I=new T;i()}catch(t){i(t)}}))},9333:(t,e,s)=>{var i=s(1911);i.QE},9356:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(2632),r=s(2371),o=s(5491),h=t([i,n,r,o]);[i,n,r,o]=h.then?(await h)():h;o.A;e()}catch(t){e(t)}}))},9578:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".logout","0 -960 960 960",'<path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"/>')}}i()}catch(t){i(t)}}))},9612:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(3501),n=t([i]);i=(n.then?(await n)():n)[0];i.Ah;e()}catch(t){e(t)}}))},9627:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(5321),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.vs{_options;header;main;footer;constructor(t,e){let s,i="";if("string"==typeof t){if(i=t,void 0===e)throw new Error("DropdownMenuOptions is required");s=e}else s=t;super(`.dropdown-menu${i}`),this._options=s,window.getSelection()?.empty();for(const t of n.rj.children)t instanceof o&&t.remove();this.append(this.header=(0,n.el)("header"),this.main=(0,n.el)("main"),this.footer=(0,n.el)("footer")),this.onWindow("click",(t=>{this.htmlElement.contains(t.target)||this.remove()})).onWindow("touchstart",(t=>{this.htmlElement.contains(t.target)||this.remove()})).onWindow("keydown",(t=>{"Escape"===t.key&&this.remove()})),this.appendTo(n.rj).adjustPosition()}adjustPosition(){const t=this.calculateRect();let e=0,s=0;void 0!==this._options.left?e=this._options.left:void 0!==this._options.right&&(e=this._options.right-t.width),void 0!==this._options.top?s=this._options.top:void 0!==this._options.bottom&&(s=this._options.bottom-t.height),e+t.width>window.innerWidth&&(e=window.innerWidth-t.width),e<0&&(e=0),s+t.height>window.innerHeight&&(s=window.innerHeight-t.height),s<0&&(s=0),this.style({left:`${e}px`,top:`${s}px`})}appendToHeader(...t){return this.header.append(...t),this.adjustPosition(),this}appendToMain(...t){return this.main.append(...t),this.adjustPosition(),this}appendToFooter(...t){return this.footer.append(...t),this.adjustPosition(),this}}i()}catch(t){i(t)}}))},9632:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{OP:()=>r.A});var n=s(8528),r=s(229),o=t([n,r]);[n,r]=o.then?(await o)():o,i()}catch(t){i(t)}}))},9658:(t,e,s)=>{s.a(t,(async(t,i)=>{try{s.d(e,{A:()=>o});var n=s(3501),r=t([n]);n=(r.then?(await r)():r)[0];class o extends n.Ah{constructor(){super(".heading","0 -960 960 960",'<path d="M420-160v-520H200v-120h560v120H540v520H420Z"/>')}}i()}catch(t){i(t)}}))},9677:(t,e,s)=>{s.a(t,(async(t,e)=>{try{var i=s(5321),n=s(3501),r=s(1569),o=t([i,n,r]);[i,n,r]=o.then?(await o)():o;i.vs;e()}catch(t){e(t)}}))},9814:()=>{new class{messages={};addMessage(t,e,s){this.messages[t]||(this.messages[t]={}),this.messages[t][e]=s}addMessages(t,e){this.messages[t]||(this.messages[t]={}),this.messages[t]={...this.messages[t],...e}}addMessagesBulk(t){for(const[e,s]of Object.entries(t))this.messages[e]||(this.messages[e]={}),this.messages[e]={...this.messages[e],...s}}getMessage(t,e){const s=e.split(".");let i=this.messages[t];if(!i)return console.error(`Language "${t}" not exists.`),"";for(const n of s){if(void 0===i[n])return console.error(`Message key "${e}" not exists in language "${t}".`),"";i=i[n]}return"string"!=typeof i?(console.error(`The value for "${e}" is not a string.`),""):i}}},9854:(t,e,s)=>{s.d(e,{UU:()=>Ie});class i extends Error{constructor(t,e="FunctionsError",s){super(t),this.name=e,this.context=s}}class n extends i{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class r extends i{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o extends i{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var h;!function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"}(h||(h={}));var a=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};class l{constructor(t,{headers:e={},customFetch:i,region:n=h.Any}={}){this.url=t,this.headers=e,this.region=n,this.fetch=(t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(s.bind(s,4261)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)})(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var s;return a(this,void 0,void 0,(function*(){try{const{headers:i,method:h,body:a}=e;let l,c={},{region:u}=e;u||(u=this.region),u&&"any"!==u&&(c["x-region"]=u),a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",l=a):"string"==typeof a?(c["Content-Type"]="text/plain",l=a):"undefined"!=typeof FormData&&a instanceof FormData?l=a:(c["Content-Type"]="application/json",l=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:l}).catch((t=>{throw new n(t)})),p=d.headers.get("x-relay-error");if(p&&"true"===p)throw new r(d);if(!d.ok)throw new o(d);let f,m=(null!==(s=d.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return f="application/json"===m?yield d.json():"application/octet-stream"===m?yield d.blob():"text/event-stream"===m?d:"multipart/form-data"===m?yield d.formData():yield d.text(),{data:f,error:null}}catch(t){return{data:null,error:t}}}))}}var c=s(1205);const{PostgrestClient:u,PostgrestQueryBuilder:d,PostgrestFilterBuilder:p,PostgrestTransformBuilder:f,PostgrestBuilder:m,PostgrestError:g}=c,v={"X-Client-Info":"realtime-js/2.11.2"};var w,y,b,C,x,S;!function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"}(w||(w={})),function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"}(y||(y={})),function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"}(b||(b={})),function(t){t.websocket="websocket"}(C||(C={})),function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"}(x||(x={}));class A{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,e,s)}_decodeBroadcast(t,e,s){const i=e.getUint8(1),n=e.getUint8(2);let r=this.HEADER_LENGTH+2;const o=s.decode(t.slice(r,r+i));r+=i;const h=s.decode(t.slice(r,r+n));r+=n;return{ref:null,topic:o,event:h,payload:JSON.parse(s.decode(t.slice(r,t.byteLength)))}}}class E{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"}(S||(S={}));const k=(t,e,s={})=>{var i;const n=null!==(i=s.skipTypes)&&void 0!==i?i:[];return Object.keys(e).reduce(((s,i)=>(s[i]=T(i,t,e,n),s)),{})},T=(t,e,s,i)=>{const n=e.find((e=>e.name===t)),r=null==n?void 0:n.type,o=s[t];return r&&!i.includes(r)?I(r,o):_(o)},I=(t,e)=>{if("_"===t.charAt(0)){const s=t.slice(1,t.length);return O(e,s)}switch(t){case S.bool:return M(e);case S.float4:case S.float8:case S.int2:case S.int4:case S.int8:case S.numeric:case S.oid:return P(e);case S.json:case S.jsonb:return R(e);case S.timestamp:return z(e);case S.abstime:case S.date:case S.daterange:case S.int4range:case S.int8range:case S.money:case S.reltime:case S.text:case S.time:case S.timestamptz:case S.timetz:case S.tsrange:case S.tstzrange:default:return _(e)}},_=t=>t,M=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},P=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},R=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},O=(t,e)=>{if("string"!=typeof t)return t;const s=t.length-1,i=t[s];if("{"===t[0]&&"}"===i){let i;const n=t.slice(1,s);try{i=JSON.parse("["+n+"]")}catch(t){i=n?n.split(","):[]}return i.map((t=>I(e,t)))}return t},z=t=>"string"==typeof t?t.replace(" ","T"):t,B=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class D{constructor(t,e,s={},i=1e4){this.channel=t,this.event=e,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var s;return this._hasReceived(t)&&e(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var L,j,N,U;!function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"}(L||(L={}));class F{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},(t=>{const{onJoin:e,onLeave:s,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=F.syncState(this.state,t,e,s),this.pendingDiffs.forEach((t=>{this.state=F.syncDiff(this.state,t,e,s)})),this.pendingDiffs=[],i()})),this.channel._on(s.diff,{},(t=>{const{onJoin:e,onLeave:s,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=F.syncDiff(this.state,t,e,s),i())})),this.onJoin(((t,e,s)=>{this.channel._trigger("presence",{event:"join",key:t,currentPresences:e,newPresences:s})})),this.onLeave(((t,e,s)=>{this.channel._trigger("presence",{event:"leave",key:t,currentPresences:e,leftPresences:s})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(t,e,s,i){const n=this.cloneDeep(t),r=this.transformState(e),o={},h={};return this.map(n,((t,e)=>{r[t]||(h[t]=e)})),this.map(r,((t,e)=>{const s=n[t];if(s){const i=e.map((t=>t.presence_ref)),n=s.map((t=>t.presence_ref)),r=e.filter((t=>n.indexOf(t.presence_ref)<0)),a=s.filter((t=>i.indexOf(t.presence_ref)<0));r.length>0&&(o[t]=r),a.length>0&&(h[t]=a)}else o[t]=e})),this.syncDiff(n,{joins:o,leaves:h},s,i)}static syncDiff(t,e,s,i){const{joins:n,leaves:r}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(n,((e,i)=>{var n;const r=null!==(n=t[e])&&void 0!==n?n:[];if(t[e]=this.cloneDeep(i),r.length>0){const s=t[e].map((t=>t.presence_ref)),i=r.filter((t=>s.indexOf(t.presence_ref)<0));t[e].unshift(...i)}s(e,r,i)})),this.map(r,((e,s)=>{let n=t[e];if(!n)return;const r=s.map((t=>t.presence_ref));n=n.filter((t=>r.indexOf(t.presence_ref)<0)),t[e]=n,i(e,n,s),0===n.length&&delete t[e]})),t}static map(t,e){return Object.getOwnPropertyNames(t).map((s=>e(s,t[s])))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce(((e,s)=>{const i=t[s];return e[s]="metas"in i?i.metas.map((t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t))):i,e}),{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"}(j||(j={})),function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"}(N||(N={})),function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"}(U||(U={}));class V{constructor(t,e={config:{}},s){this.topic=t,this.params=e,this.socket=s,this.bindings={},this.state=y.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new D(this,b.join,this.params,this.timeout),this.rejoinTimer=new E((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=y.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=y.closed,this.socket._remove(this)})),this._onError((t=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=y.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=y.errored,this.rejoinTimer.scheduleTimeout())})),this._on(b.reply,{},((t,e)=>{this._trigger(this._replyEventName(e),t)})),this.presence=new F(this),this.broadcastEndpointURL=B(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:r,private:o}}=this.params;this._onError((e=>null==t?void 0:t(U.CHANNEL_ERROR,e))),this._onClose((()=>null==t?void 0:t(U.CLOSED)));const h={},a={broadcast:n,presence:r,postgres_changes:null!==(i=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map((t=>t.filter)))&&void 0!==i?i:[],private:o};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:a},h)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",(async({postgres_changes:e})=>{var s;if(this.socket.setAuth(),void 0!==e){const i=this.bindings.postgres_changes,n=null!==(s=null==i?void 0:i.length)&&void 0!==s?s:0,r=[];for(let s=0;s<n;s++){const n=i[s],{filter:{event:o,schema:h,table:a,filter:l}}=n,c=e&&e[s];if(!c||c.event!==o||c.schema!==h||c.table!==a||c.filter!==l)return this.unsubscribe(),void(null==t||t(U.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));r.push(Object.assign(Object.assign({},n),{id:c.id}))}return this.bindings.postgres_changes=r,void(t&&t(U.SUBSCRIBED))}null==t||t(U.SUBSCRIBED)})).receive("error",(e=>{null==t||t(U.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(e).join(", ")||"error")))})).receive("timeout",(()=>{null==t||t(U.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,s){return this._on(t,e,s)}async send(t,e={}){var s,i;if(this._canPush()||"broadcast"!==t.type)return new Promise((s=>{var i,n,r;const o=this._push(t.type,t,e.timeout||this.timeout);"broadcast"!==t.type||(null===(r=null===(n=null===(i=this.params)||void 0===i?void 0:i.config)||void 0===n?void 0:n.broadcast)||void 0===r?void 0:r.ack)||s("ok"),o.receive("ok",(()=>s("ok"))),o.receive("error",(()=>s("error"))),o.receive("timeout",(()=>s("timed out")))}));{const{event:n,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})};try{const t=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(s=e.timeout)&&void 0!==s?s:this.timeout);return await(null===(i=t.body)||void 0===i?void 0:i.cancel()),t.ok?"ok":"error"}catch(t){return"AbortError"===t.name?"timed out":"error"}}}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=y.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(b.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((s=>{const i=new D(this,b.leave,{},t);i.receive("ok",(()=>{e(),s("ok")})).receive("timeout",(()=>{e(),s("timed out")})).receive("error",(()=>{s("error")})),i.send(),this._canPush()||i.trigger("ok",{})}))}async _fetchWithTimeout(t,e,s){const i=new AbortController,n=setTimeout((()=>i.abort()),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(n),r}_push(t,e,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new D(this,t,e,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,s){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,s){var i,n;const r=t.toLocaleLowerCase(),{close:o,error:h,leave:a,join:l}=b;if(s&&[o,h,a,l].indexOf(r)>=0&&s!==this._joinRef())return;let c=this._onMessage(r,e,s);if(e&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter((t=>{var e,s,i;return"*"===(null===(e=t.filter)||void 0===e?void 0:e.event)||(null===(i=null===(s=t.filter)||void 0===s?void 0:s.event)||void 0===i?void 0:i.toLocaleLowerCase())===r})).map((t=>t.callback(c,s))):null===(n=this.bindings[r])||void 0===n||n.filter((t=>{var s,i,n,o,h,a;if(["broadcast","presence","postgres_changes"].includes(r)){if("id"in t){const r=t.id,o=null===(s=t.filter)||void 0===s?void 0:s.event;return r&&(null===(i=e.ids)||void 0===i?void 0:i.includes(r))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(n=e.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const s=null===(h=null===(o=null==t?void 0:t.filter)||void 0===o?void 0:o.event)||void 0===h?void 0:h.toLocaleLowerCase();return"*"===s||s===(null===(a=null==e?void 0:e.event)||void 0===a?void 0:a.toLocaleLowerCase())}}return t.type.toLocaleLowerCase()===r})).map((t=>{if("object"==typeof c&&"ids"in c){const t=c.data,{schema:e,table:s,commit_timestamp:i,type:n,errors:r}=t,o={schema:e,table:s,commit_timestamp:i,eventType:n,new:{},old:{},errors:r};c=Object.assign(Object.assign({},o),this._getPayloadRecords(t))}t.callback(c,s)}))}_isClosed(){return this.state===y.closed}_isJoined(){return this.state===y.joined}_isJoining(){return this.state===y.joining}_isLeaving(){return this.state===y.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,s){const i=t.toLocaleLowerCase(),n={type:i,filter:e,callback:s};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(t,e){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter((t=>{var i;return!((null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===s&&V.isEqual(t.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(b.close,{},t)}_onError(t){this._on(b.error,{},(e=>t(e)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=y.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=k(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=k(t.columns,t.old_record)),e}}const q=()=>{},W="undefined"!=typeof WebSocket;class Y{constructor(t,e){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=q,this.conn=null,this.sendBuffer=[],this.serializer=new A,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(s.bind(s,4261)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},this.endPoint=`${t}/${C.websocket}`,this.httpEndpoint=B(t),(null==e?void 0:e.transport)?this.transport=e.transport:this.transport=null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const n=null===(i=null==e?void 0:e.params)||void 0===i?void 0:i.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==e?void 0:e.fetch),null==e?void 0:e.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==e?void 0:e.worker)||!1,this.workerUrl=null==e?void 0:e.workerUrl}this.accessToken=(null==e?void 0:e.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(W)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Q(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),s.e(369).then(s.t.bind(s,2369,23)).then((({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return 0===this.channels.length&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map((t=>t.unsubscribe())));return this.disconnect(),t}log(t,e,s){this.logger(t,e,s)}connectionState(){switch(this.conn&&this.conn.readyState){case w.connecting:return x.Connecting;case w.open:return x.Open;case w.closing:return x.Closing;default:return x.Closed}}isConnected(){return this.connectionState()===x.Open}channel(t,e={config:{}}){const s=new V(`realtime:${t}`,e,this);return this.channels.push(s),s}push(t){const{topic:e,event:s,payload:i,ref:n}=t,r=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};this.log("push",`${e} ${s} (${n})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let t=null;try{t=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(t&&t.exp){if(!(Math.floor(Date.now()/1e3)-t.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${t.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${t.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(b.access_token,{access_token:e})}))}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find((e=>e.topic===t&&(e._isJoined()||e._isJoining())));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter((e=>e._joinRef()!==t._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,(t=>{let{topic:e,event:s,payload:i,ref:n}=t;n&&n===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${e} ${s} ${n&&"("+n+")"||""}`,i),this.channels.filter((t=>t._isMember(e))).forEach((t=>t._trigger(s,i,n))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((t=>t()))}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}_triggerChanError(){this.channels.forEach((t=>t._trigger(b.error)))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const s=t.match(/\?/)?"&":"?";return`${t}${s}${new URLSearchParams(e)}`}_workerObjectUrl(t){let e;if(t)e=t;else{const t=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});e=URL.createObjectURL(t)}return e}}class Q{constructor(t,e,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=w.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class H extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function K(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class J extends H{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Z extends H{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var G=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};const X=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(s.bind(s,4261)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},$=t=>{if(Array.isArray(t))return t.map((t=>$(t)));if("function"==typeof t||t!==Object(t))return t;const e={};return Object.entries(t).forEach((([t,s])=>{const i=t.replace(/([-_][a-z])/gi,(t=>t.toUpperCase().replace(/[-_]/g,"")));e[i]=$(s)})),e};var tt=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};const et=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),st=(t,e,i)=>tt(void 0,void 0,void 0,(function*(){const n=yield G(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(s.bind(s,4261))).Response:Response}));t instanceof n&&!(null==i?void 0:i.noResolveJson)?t.json().then((s=>{e(new J(et(s),t.status||500))})).catch((t=>{e(new Z(et(t),t))})):e(new Z(et(t),t))}));function it(t,e,s,i,n,r){return tt(this,void 0,void 0,(function*(){return new Promise(((o,h)=>{t(s,((t,e,s,i)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),i&&(n.body=JSON.stringify(i)),Object.assign(Object.assign({},n),s))})(e,i,n,r)).then((t=>{if(!t.ok)throw t;return(null==i?void 0:i.noResolveJson)?t:t.json()})).then((t=>o(t))).catch((t=>st(t,h,i)))}))}))}function nt(t,e,s,i){return tt(this,void 0,void 0,(function*(){return it(t,"GET",e,s,i)}))}function rt(t,e,s,i,n){return tt(this,void 0,void 0,(function*(){return it(t,"POST",e,i,n,s)}))}function ot(t,e,s,i,n){return tt(this,void 0,void 0,(function*(){return it(t,"DELETE",e,i,n,s)}))}var ht=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};const at={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ct{constructor(t,e={},s,i){this.url=t,this.headers=e,this.bucketId=s,this.fetch=X(i)}uploadOrUpdate(t,e,s,i){return ht(this,void 0,void 0,(function*(){try{let n;const r=Object.assign(Object.assign({},lt),i);let o=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(r.upsert)});const h=r.metadata;"undefined"!=typeof Blob&&s instanceof Blob?(n=new FormData,n.append("cacheControl",r.cacheControl),h&&n.append("metadata",this.encodeMetadata(h)),n.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(n=s,n.append("cacheControl",r.cacheControl),h&&n.append("metadata",this.encodeMetadata(h))):(n=s,o["cache-control"]=`max-age=${r.cacheControl}`,o["content-type"]=r.contentType,h&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),(null==i?void 0:i.headers)&&(o=Object.assign(Object.assign({},o),i.headers));const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:t,body:n,headers:o},(null==r?void 0:r.duplex)?{duplex:r.duplex}:{})),u=yield c.json();if(c.ok)return{data:{path:a,id:u.Id,fullPath:u.Key},error:null};return{data:null,error:u}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}upload(t,e,s){return ht(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,s)}))}uploadToSignedUrl(t,e,s,i){return ht(this,void 0,void 0,(function*(){const n=this._removeEmptyFolders(t),r=this._getFinalPath(n),o=new URL(this.url+`/object/upload/sign/${r}`);o.searchParams.set("token",e);try{let t;const e=Object.assign({upsert:lt.upsert},i),r=Object.assign(Object.assign({},this.headers),{"x-upsert":String(e.upsert)});"undefined"!=typeof Blob&&s instanceof Blob?(t=new FormData,t.append("cacheControl",e.cacheControl),t.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(t=s,t.append("cacheControl",e.cacheControl)):(t=s,r["cache-control"]=`max-age=${e.cacheControl}`,r["content-type"]=e.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:t,headers:r}),a=yield h.json();if(h.ok)return{data:{path:n,fullPath:a.Key},error:null};return{data:null,error:a}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createSignedUploadUrl(t,e){return ht(this,void 0,void 0,(function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);(null==e?void 0:e.upsert)&&(i["x-upsert"]="true");const n=yield rt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),r=new URL(this.url+n.url),o=r.searchParams.get("token");if(!o)throw new H("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:o},error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}update(t,e,s){return ht(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,s)}))}move(t,e,s){return ht(this,void 0,void 0,(function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}copy(t,e,s){return ht(this,void 0,void 0,(function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createSignedUrl(t,e,s){return ht(this,void 0,void 0,(function*(){try{let i=this._getFinalPath(t),n=yield rt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const r=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${r}`)},{data:n,error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createSignedUrls(t,e,s){return ht(this,void 0,void 0,(function*(){try{const i=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),n=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{data:i.map((t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${n}`):null}))),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}download(t,e){return ht(this,void 0,void 0,(function*(){const s=void 0!==(null==e?void 0:e.transform)?"render/image/authenticated":"object",i=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),n=i?`?${i}`:"";try{const e=this._getFinalPath(t),i=yield nt(this.fetch,`${this.url}/${s}/${e}${n}`,{headers:this.headers,noResolveJson:!0});return{data:yield i.blob(),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}info(t){return ht(this,void 0,void 0,(function*(){const e=this._getFinalPath(t);try{const t=yield nt(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:$(t),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}exists(t){return ht(this,void 0,void 0,(function*(){const e=this._getFinalPath(t);try{return yield function(t,e,s,i){return tt(this,void 0,void 0,(function*(){return it(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)}))}(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if(K(t)&&t instanceof Z){const e=t.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:t}}throw t}}))}getPublicUrl(t,e){const s=this._getFinalPath(t),i=[],n=(null==e?void 0:e.download)?`download=${!0===e.download?"":e.download}`:"";""!==n&&i.push(n);const r=void 0!==(null==e?void 0:e.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==o&&i.push(o);let h=i.join("&");return""!==h&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${s}${h}`)}}}remove(t){return ht(this,void 0,void 0,(function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}list(t,e,s){return ht(this,void 0,void 0,(function*(){try{const i=Object.assign(Object.assign(Object.assign({},at),e),{prefix:t||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return"undefined"!=typeof Buffer?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const ut={"X-Client-Info":"storage-js/2.7.1"};var dt=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};class pt{constructor(t,e={},s){this.url=t,this.headers=Object.assign(Object.assign({},ut),e),this.fetch=X(s)}listBuckets(){return dt(this,void 0,void 0,(function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}getBucket(t){return dt(this,void 0,void 0,(function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createBucket(t,e={public:!1}){return dt(this,void 0,void 0,(function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}updateBucket(t,e){return dt(this,void 0,void 0,(function*(){try{const s=yield function(t,e,s,i,n){return tt(this,void 0,void 0,(function*(){return it(t,"PUT",e,i,n,s)}))}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers});return{data:s,error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}emptyBucket(t){return dt(this,void 0,void 0,(function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}deleteBucket(t){return dt(this,void 0,void 0,(function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}}class ft extends pt{constructor(t,e={},s){super(t,e,s)}from(t){return new ct(this.url,this.headers,t,this.fetch)}}let mt="";mt="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const gt={headers:{"X-Client-Info":`supabase-js-${mt}/2.48.1`}},vt={schema:"public"},wt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yt={};var bt=s(4261),Ct=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};const xt=t=>{let e;return e=t||("undefined"==typeof fetch?bt.default:fetch),(...t)=>e(...t)},St=(t,e,s)=>{const i=xt(s),n="undefined"==typeof Headers?bt.Headers:Headers;return(s,r)=>Ct(void 0,void 0,void 0,(function*(){var o;const h=null!==(o=yield e())&&void 0!==o?o:t;let a=new n(null==r?void 0:r.headers);return a.has("apikey")||a.set("apikey",t),a.has("Authorization")||a.set("Authorization",`Bearer ${h}`),i(s,Object.assign(Object.assign({},r),{headers:a}))}))};var At=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};const Et="2.67.3",kt={"X-Client-Info":`gotrue-js/${Et}`},Tt="X-Supabase-Api-Version",It={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"};const _t=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Mt={tested:!1,writable:!1},Pt=()=>{if(!_t())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(Mt.tested)return Mt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mt.tested=!0,Mt.writable=!0}catch(t){Mt.tested=!0,Mt.writable=!1}return Mt.writable};const Rt=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(s.bind(s,4261)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},Ot=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},zt=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch(t){return s}},Bt=async(t,e)=>{await t.removeItem(e)};class Dt{constructor(){this.promise=new Dt.promiseConstructor(((t,e)=>{this.resolve=t,this.reject=e}))}}function Lt(t){const e=t.split(".");if(3!==e.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=e[1];return JSON.parse(function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s,i,n,r,o,h,a,l="",c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)r=e.indexOf(t.charAt(c++)),o=e.indexOf(t.charAt(c++)),h=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),s=r<<2|o>>4,i=(15&o)<<4|h>>2,n=(3&h)<<6|a,l+=String.fromCharCode(s),64!=h&&0!=i&&(l+=String.fromCharCode(i)),64!=a&&0!=n&&(l+=String.fromCharCode(n));return l}(s))}function jt(t){return("0"+t.toString(16)).substr(-2)}async function Nt(t){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const e=await async function(t){const e=(new TextEncoder).encode(t),s=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(s);return Array.from(i).map((t=>String.fromCharCode(t))).join("")}(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ut(t,e,s=!1){const i=function(){const t=new Uint32Array(56);if("undefined"==typeof crypto){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*e));return s}return crypto.getRandomValues(t),Array.from(t,jt).join("")}();let n=i;s&&(n+="/PASSWORD_RECOVERY"),await Ot(t,`${e}-code-verifier`,n);const r=await Nt(i);return[r,i===r?"plain":"s256"]}Dt.promiseConstructor=Promise;const Ft=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class Vt extends Error{constructor(t,e,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=s}}function qt(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class Wt extends Vt{constructor(t,e,s){super(t,e,s),this.name="AuthApiError",this.status=e,this.code=s}}class Yt extends Vt{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Qt extends Vt{constructor(t,e,s,i){super(t,s,i),this.name=e,this.status=s}}class Ht extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Kt extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jt extends Qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zt extends Qt{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gt extends Qt{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xt extends Qt{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function $t(t){return qt(t)&&"AuthRetryableFetchError"===t.name}class te extends Qt{constructor(t,e,s){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=s}}var ee=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]])}return s};const se=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ie=[502,503,504];async function ne(t){var e,s;if(!("object"==typeof(s=t)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"==typeof s.json))throw new Xt(se(t),0);if(ie.includes(t.status))throw new Xt(se(t),t.status);let i,n;try{i=await t.json()}catch(t){throw new Yt(se(t),t)}const r=function(t){const e=t.headers.get(Tt);if(!e)return null;if(!e.match(Ft))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}(t);if(r&&r.getTime()>=It.timestamp&&"object"==typeof i&&i&&"string"==typeof i.code?n=i.code:"object"==typeof i&&i&&"string"==typeof i.error_code&&(n=i.error_code),n){if("weak_password"===n)throw new te(se(i),t.status,(null===(e=i.weak_password)||void 0===e?void 0:e.reasons)||[]);if("session_not_found"===n)throw new Ht}else if("object"==typeof i&&i&&"object"==typeof i.weak_password&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0))throw new te(se(i),t.status,i.weak_password.reasons);throw new Wt(se(i),t.status||500,n)}async function re(t,e,s,i){var n;const r=Object.assign({},null==i?void 0:i.headers);r[Tt]||(r[Tt]=It.name),(null==i?void 0:i.jwt)&&(r.Authorization=`Bearer ${i.jwt}`);const o=null!==(n=null==i?void 0:i.query)&&void 0!==n?n:{};(null==i?void 0:i.redirectTo)&&(o.redirect_to=i.redirectTo);const h=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await async function(t,e,s,i,n,r){const o=((t,e,s,i)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),s))})(e,i,n,r);let h;try{h=await t(s,Object.assign({},o))}catch(t){throw console.error(t),new Xt(se(t),0)}h.ok||await ne(h);if(null==i?void 0:i.noResolveJson)return h;try{return await h.json()}catch(t){await ne(t)}}(t,e,s+h,{headers:r,noResolveJson:null==i?void 0:i.noResolveJson},{},null==i?void 0:i.body);return(null==i?void 0:i.xform)?null==i?void 0:i.xform(a):{data:Object.assign({},a),error:null}}function oe(t){var e;let s=null;var i;(function(t){return t.access_token&&t.refresh_token&&t.expires_in})(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=(i=t.expires_in,Math.round(Date.now()/1e3)+i)));return{data:{session:s,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function he(t){const e=oe(t);return!e.error&&t.weak_password&&"object"==typeof t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&"string"==typeof t.weak_password.message&&t.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0)&&(e.data.weak_password=t.weak_password),e}function ae(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function le(t){return{data:t,error:null}}function ce(t){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r}=t,o=ee(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r},user:Object.assign({},o)},error:null}}function ue(t){return t}var de=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]])}return s};class pe{constructor({url:t="",headers:e={},fetch:s}){this.url=t,this.headers=e,this.fetch=Rt(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(t){if(qt(t))return{data:null,error:t};throw t}}async inviteUserByEmail(t,e={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:ae})}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}}async generateLink(t){try{const{options:e}=t,s=de(t,["options"]),i=Object.assign(Object.assign({},s),e);return"newEmail"in s&&(i.new_email=null==s?void 0:s.newEmail,delete i.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ce,redirectTo:null==e?void 0:e.redirectTo})}catch(t){if(qt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ae})}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}}async listUsers(t){var e,s,i,n,r,o,h;try{const a={nextPage:null,lastPage:0,total:0},l=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(e=null==t?void 0:t.page)||void 0===e?void 0:e.toString())&&void 0!==s?s:"",per_page:null!==(n=null===(i=null==t?void 0:t.perPage)||void 0===i?void 0:i.toString())&&void 0!==n?n:""},xform:ue});if(l.error)throw l.error;const c=await l.json(),u=null!==(r=l.headers.get("x-total-count"))&&void 0!==r?r:0,d=null!==(h=null===(o=l.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==h?h:[];return d.length>0&&(d.forEach((t=>{const e=parseInt(t.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(t.split(";")[1].split("=")[1]);a[`${s}Page`]=e})),a.total=parseInt(u)),{data:Object.assign(Object.assign({},c),a),error:null}}catch(t){if(qt(t))return{data:{users:[]},error:t};throw t}}async getUserById(t){try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ae})}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}}async updateUserById(t,e){try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:ae})}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}}async deleteUser(t,e=!1){try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:ae})}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}}async _listFactors(t){try{const{data:e,error:s}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:t=>({data:{factors:t},error:null})});return{data:e,error:s}}catch(t){if(qt(t))return{data:null,error:t};throw t}}async _deleteFactor(t){try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(t){if(qt(t))return{data:null,error:t};throw t}}}const fe={getItem:t=>Pt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Pt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Pt()&&globalThis.localStorage.removeItem(t)}};function me(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const ge=!!(globalThis&&Pt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class ve extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class we extends ve{}async function ye(t,e,s){ge&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout((()=>{i.abort(),ge&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)}),e),await Promise.resolve().then((()=>globalThis.navigator.locks.request(t,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},(async i=>{if(!i){if(0===e)throw ge&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new we(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ge)try{const t=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(t,null,"  "))}catch(t){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",t)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}ge&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{ge&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();const be={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ce=3e4;async function xe(t,e,s){return await s()}class Se{constructor(t){var e,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Se.nextInstanceID,Se.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},be),t);if(this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Rt(i.fetch),this.lock=i.lock||xe,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:_t()&&(null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===e?void 0:e.locks)?this.lock=ye:this.lock=xe,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Pt()?this.storage=fe:(this.memoryStorage={},this.storage=me(this.memoryStorage)):(this.memoryStorage={},this.storage=me(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(t){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",t)}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",(async t=>{this._debug("received broadcast notification from other tab or client",t),await this._notifyAllSubscribers(t.data.event,t.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Et}) ${(new Date).toISOString()}`,...t),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var t;try{const e=function(t){const e={},s=new URL(t);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach(((t,s)=>{e[s]=t}))}catch(t){}return s.searchParams.forEach(((t,s)=>{e[s]=t})),e}(window.location.href);let s="none";if(this._isImplicitGrantCallback(e)?s="implicit":await this._isPKCECallback(e)&&(s="pkce"),_t()&&this.detectSessionInUrl&&"none"!==s){const{data:i,error:n}=await this._getSessionFromURL(e,s);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(t){return qt(t)&&"AuthImplicitGrantRedirectError"===t.name}(n)){const e=null===(t=n.details)||void 0===t?void 0:t.code;if("identity_already_exists"===e||"identity_not_found"===e||"single_identity_not_deletable"===e)return{error:n}}return await this._removeSession(),{error:n}}const{session:r,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",o),await this._saveSession(r),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return qt(t)?{error:t}:{error:new Yt("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,s,i;try{const n=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.captchaToken}},xform:oe}),{data:r,error:o}=n;if(o||!r)return{data:{user:null,session:null},error:o};const h=r.session,a=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:a,session:h},error:null}}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async signUp(t){var e,s,i;try{let n;if("email"in t){const{email:s,password:i,options:r}=t;let o=null,h=null;"pkce"===this.flowType&&([o,h]=await Ut(this.storage,this.storageKey)),n=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==r?void 0:r.emailRedirectTo,body:{email:s,password:i,data:null!==(e=null==r?void 0:r.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},code_challenge:o,code_challenge_method:h},xform:oe})}else{if(!("phone"in t))throw new Jt("You must provide either an email or phone number and a password");{const{phone:e,password:r,options:o}=t;n=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:e,password:r,data:null!==(s=null==o?void 0:o.data)&&void 0!==s?s:{},channel:null!==(i=null==o?void 0:o.channel)&&void 0!==i?i:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:oe})}}const{data:r,error:o}=n;if(o||!r)return{data:{user:null,session:null},error:o};const h=r.session,a=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:a,session:h},error:null}}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithPassword(t){try{let e;if("email"in t){const{email:s,password:i,options:n}=t;e=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:he})}else{if(!("phone"in t))throw new Jt("You must provide either an email or phone number and a password");{const{phone:s,password:i,options:n}=t;e=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:he})}}const{data:s,error:i}=e;return i?{data:{user:null,session:null},error:i}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i}):{data:{user:null,session:null},error:new Kt}}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(t){var e,s,i,n;return await this._handleProviderSignIn(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(s=t.options)||void 0===s?void 0:s.scopes,queryParams:null===(i=t.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:null===(n=t.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(t)))}async _exchangeCodeForSession(t){const e=await zt(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(null!=e?e:"").split("/");try{const{data:e,error:n}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:oe});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),n)throw n;return e&&e.session&&e.user?(e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",e.session)),{data:Object.assign(Object.assign({},e),{redirectType:null!=i?i:null}),error:n}):{data:{user:null,session:null,redirectType:null},error:new Kt}}catch(t){if(qt(t))return{data:{user:null,session:null,redirectType:null},error:t};throw t}}async signInWithIdToken(t){try{const{options:e,provider:s,token:i,access_token:n,nonce:r}=t,o=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:n,nonce:r,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:oe}),{data:h,error:a}=o;return a?{data:{user:null,session:null},error:a}:h&&h.session&&h.user?(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:a}):{data:{user:null,session:null},error:new Kt}}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(t){var e,s,i,n,r;try{if("email"in t){const{email:i,options:n}=t;let r=null,o=null;"pkce"===this.flowType&&([r,o]=await Ut(this.storage,this.storageKey));const{error:h}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:null!==(e=null==n?void 0:n.data)&&void 0!==e?e:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:r,code_challenge_method:o},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:e,options:s}=t,{data:o,error:h}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:e,data:null!==(i=null==s?void 0:s.data)&&void 0!==i?i:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(r=null==s?void 0:s.channel)&&void 0!==r?r:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:h}}throw new Jt("You must provide either an email or phone number.")}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async verifyOtp(t){var e,s;try{let i,n;"options"in t&&(i=null===(e=t.options)||void 0===e?void 0:e.redirectTo,n=null===(s=t.options)||void 0===s?void 0:s.captchaToken);const{data:r,error:o}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:oe});if(o)throw o;if(!r)throw new Error("An error occurred on token verification.");const h=r.session,a=r.user;return(null==h?void 0:h.access_token)&&(await this._saveSession(h),await this._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:a,session:h},error:null}}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithSSO(t){var e,s,i;try{let n=null,r=null;return"pkce"===this.flowType&&([n,r]=await Ut(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(s=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==s?s:void 0}),(null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:r}),headers:this.headers,xform:le})}catch(t){if(qt(t))return{data:null,error:t};throw t}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async t=>{const{data:{session:e},error:s}=t;if(s)throw s;if(!e)throw new Ht;const{error:i}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:n}=t,{error:r}=await re(this.fetch,"POST",e,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:r}}if("phone"in t){const{phone:s,type:i,options:n}=t,{data:r,error:o}=await re(this.fetch,"POST",e,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null==r?void 0:r.message_id},error:o}}throw new Jt("You must provide either an email or phone number and a type")}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async t=>t))))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await t,await e()))();return this.pendingInLock.push((async()=>{try{await s}catch(t){}})()),s}return await this.lock(`lock:${this.storageKey}`,t,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=e();for(this.pendingInLock.push((async()=>{try{await t}catch(t){}})()),await t;this.pendingInLock.length;){const t=[...this.pendingInLock];await Promise.all(t),this.pendingInLock.splice(0,t.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let t=null;const e=await zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),null!==e&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=!!t.expires_at&&t.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let e=this.suppressGetSessionWarning;t=new Proxy(t,{get:(t,s,i)=>(e||"user"!==s||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e=!0,this.suppressGetSessionWarning=!0),Reflect.get(t,s,i))})}return{data:{session:t},error:null}}const{session:i,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ae}):await this._useSession((async t=>{var e,s,i;const{data:n,error:r}=t;if(r)throw r;return(null===(e=n.session)||void 0===e?void 0:e.access_token)||this.hasCustomAuthorizationHeader?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(i=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0,xform:ae}):{data:{user:null},error:new Ht}}))}catch(t){if(qt(t))return function(t){return qt(t)&&"AuthSessionMissingError"===t.name}(t)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(t,e)))}async _updateUser(t,e={}){try{return await this._useSession((async s=>{const{data:i,error:n}=s;if(n)throw n;if(!i.session)throw new Ht;const r=i.session;let o=null,h=null;"pkce"===this.flowType&&null!=t.email&&([o,h]=await Ut(this.storage,this.storageKey));const{data:a,error:l}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==e?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:h}),jwt:r.access_token,xform:ae});if(l)throw l;return r.user=a.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}}))}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}}_decodeJWT(t){return Lt(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(t)))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const e=Date.now()/1e3;let s=e,i=!0,n=null;const r=Lt(t.access_token);if(r.exp&&(s=r.exp,i=s<=e),i){const{session:e,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!e)return{data:{user:null,session:null},error:null};n=e}else{const{data:i,error:r}=await this._getUser(t.access_token);if(r)throw r;n={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:s-e,expires_at:s},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(qt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(t)))}async _refreshSession(t){try{return await this._useSession((async e=>{var s;if(!t){const{data:i,error:n}=e;if(n)throw n;t=null!==(s=i.session)&&void 0!==s?s:void 0}if(!(null==t?void 0:t.refresh_token))throw new Ht;const{session:i,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(t,e){try{if(!_t())throw new Zt("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zt(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if("pkce"===this.flowType)throw new Gt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Zt("Not a valid implicit grant flow url.")}if("pkce"===e){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gt("No code detected.");const{data:e,error:s}=await this._exchangeCodeForSession(t.code);if(s)throw s;const i=new URL(window.location.href);return i.searchParams.delete("code"),window.history.replaceState(window.history.state,"",i.toString()),{data:{session:e.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:n,refresh_token:r,expires_in:o,expires_at:h,token_type:a}=t;if(!(n&&o&&r&&a))throw new Zt("No session defined in URL");const l=Math.round(Date.now()/1e3),c=parseInt(o);let u=l+c;h&&(u=parseInt(h));const d=u-l;1e3*d<=Ce&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);const p=u-c;l-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,l):l-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,u,l);const{data:f,error:m}=await this._getUser(n);if(m)throw m;const g={provider_token:s,provider_refresh_token:i,access_token:n,expires_in:c,expires_at:u,refresh_token:r,token_type:a,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(t){if(qt(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantCallback(t){return Boolean(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await zt(this.storage,`${this.storageKey}-code-verifier`);return!(!t.code||!e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(t)))}async _signOut({scope:t}={scope:"global"}){return await this._useSession((async e=>{var s;const{data:i,error:n}=e;if(n)return{error:n};const r=null===(s=i.session)||void 0===s?void 0:s.access_token;if(r){const{error:e}=await this.admin.signOut(r,t);if(e&&(!function(t){return qt(t)&&"AuthApiError"===t.name}(e)||404!==e.status&&401!==e.status&&403!==e.status))return{error:e}}return"others"!==t&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(t){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),s={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(e)}))})(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession((async e=>{var s,i;try{const{data:{session:i},error:n}=e;if(n)throw n;await(null===(s=this.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(e){await(null===(i=this.stateChangeEmitters.get(t))||void 0===i?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",e),console.error(e)}}))}async resetPasswordForEmail(t,e={}){let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Ut(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(t){if(qt(t))return{data:null,error:t};throw t}}async getUserIdentities(){var t;try{const{data:e,error:s}=await this.getUser();if(s)throw s;return{data:{identities:null!==(t=e.user.identities)&&void 0!==t?t:[]},error:null}}catch(t){if(qt(t))return{data:null,error:t};throw t}}async linkIdentity(t){var e;try{const{data:s,error:i}=await this._useSession((async e=>{var s,i,n,r,o;const{data:h,error:a}=e;if(a)throw a;const l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:null===(s=t.options)||void 0===s?void 0:s.redirectTo,scopes:null===(i=t.options)||void 0===i?void 0:i.scopes,queryParams:null===(n=t.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",l,{headers:this.headers,jwt:null!==(o=null===(r=h.session)||void 0===r?void 0:r.access_token)&&void 0!==o?o:void 0})}));if(i)throw i;return _t()&&!(null===(e=t.options)||void 0===e?void 0:e.skipBrowserRedirect)&&window.location.assign(null==s?void 0:s.url),{data:{provider:t.provider,url:null==s?void 0:s.url},error:null}}catch(e){if(qt(e))return{data:{provider:t.provider,url:null},error:e};throw e}}async unlinkIdentity(t){try{return await this._useSession((async e=>{var s,i;const{data:n,error:r}=e;if(r)throw r;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:null!==(i=null===(s=n.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const n=Date.now();return await(s=async s=>(s>0&&await async function(t){return await new Promise((e=>{setTimeout((()=>e(null)),t)}))}(200*Math.pow(2,s-1)),this._debug(e,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oe})),i=(t,e)=>{const s=200*Math.pow(2,t);return e&&$t(e)&&Date.now()+s-n<Ce},new Promise(((t,e)=>{(async()=>{for(let n=0;n<1/0;n++)try{const e=await s(n);if(!i(n,null,e))return void t(e)}catch(t){if(!i(n,t))return void e(t)}})()})))}catch(t){if(this._debug(e,"error",t),qt(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(e,"end")}var s,i}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",s),_t()&&!e.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const s=await zt(this.storage,this.storageKey);if(this._debug(e,"session from storage",s),!this._isValidSession(s))return this._debug(e,"session is not valid"),void(null!==s&&await this._removeSession());const i=Math.round(Date.now()/1e3),n=(null!==(t=s.expires_at)&&void 0!==t?t:1/0)<i+10;if(this._debug(e,`session has${n?"":" not"} expired with margin of 10s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:t}=await this._callRefreshToken(s.refresh_token);t&&(console.error(t),$t(t)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",t),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(t){return this._debug(e,"error",t),void console.error(t)}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,s;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dt;const{data:e,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!e.session)throw new Ht;await this._saveSession(e.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",e.session);const i={session:e.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(t){if(this._debug(i,"error",t),qt(t)){const s={session:null,error:t};return $t(t)||await this._removeSession(),null===(e=this.refreshingDeferred)||void 0===e||e.resolve(s),s}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(t),t}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,e,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",e,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:e});const i=[],n=Array.from(this.stateChangeEmitters.values()).map((async s=>{try{await s.callback(t,e)}catch(t){i.push(t)}}));if(await Promise.all(n),i.length>0){for(let t=0;t<i.length;t+=1)console.error(i[t]);throw i[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ot(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval((()=>this._autoRefreshTokenTick()),Ce);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const i=Math.floor((1e3*s.expires_at-t)/Ce);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),i<=3&&await this._callRefreshToken(s.refresh_token)}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(!(t.isAcquireTimeout||t instanceof ve))throw t;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,s){const i=[`provider=${encodeURIComponent(e)}`];if((null==s?void 0:s.redirectTo)&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){const[t,e]=await Ut(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(e)}`});i.push(s.toString())}if(null==s?void 0:s.queryParams){const t=new URLSearchParams(s.queryParams);i.push(t.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession((async e=>{var s;const{data:i,error:n}=e;return n?{data:null,error:n}:await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}}async _enroll(t){try{return await this._useSession((async e=>{var s,i;const{data:n,error:r}=e;if(r)return{data:null,error:r};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:a}=await re(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(s=null==n?void 0:n.session)||void 0===s?void 0:s.access_token});return a?{data:null,error:a}:("totp"===t.factorType&&(null===(i=null==h?void 0:h.totp)||void 0===i?void 0:i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}}async _verify(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var s;const{data:i,error:n}=e;if(n)return{data:null,error:n};const{data:r,error:o}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:o})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}}))}async _challenge(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var s;const{data:i,error:n}=e;return n?{data:null,error:n}:await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:null===(s=null==i?void 0:i.session)||void 0===s?void 0:s.access_token})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(t){const{data:e,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const s=(null==t?void 0:t.factors)||[],i=s.filter((t=>"totp"===t.factor_type&&"verified"===t.status)),n=s.filter((t=>"phone"===t.factor_type&&"verified"===t.status));return{data:{all:s,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async t=>{var e,s;const{data:{session:i},error:n}=t;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const r=this._decodeJWT(i.access_token);let o=null;r.aal&&(o=r.aal);let h=o;(null!==(s=null===(e=i.user.factors)||void 0===e?void 0:e.filter((t=>"verified"===t.status)))&&void 0!==s?s:[]).length>0&&(h="aal2");return{data:{currentLevel:o,nextLevel:h,currentAuthenticationMethods:r.amr||[]},error:null}}))))}}Se.nextInstanceID=0;const Ae=Se;class Ee extends Ae{constructor(t){super(t)}}var ke=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{a(i.next(t))}catch(t){r(t)}}function h(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}a((i=i.apply(t,e||[])).next())}))};class Te{constructor(t,e,s){var i,n,r;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const o=t.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,a=function(t,e){const{db:s,auth:i,realtime:n,global:r}=t,{db:o,auth:h,realtime:a,global:l}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},a),n),global:Object.assign(Object.assign({},l),r),accessToken:()=>At(this,void 0,void 0,(function*(){return""}))};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}(null!=s?s:{},{db:vt,realtime:yt,auth:Object.assign(Object.assign({},wt),{storageKey:h}),global:gt});this.storageKey=null!==(i=a.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(n=a.global.headers)&&void 0!==n?n:{},a.accessToken?(this.accessToken=a.accessToken,this.auth=new Proxy({},{get:(t,e)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(e)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(r=a.auth)&&void 0!==r?r:{},this.headers,a.global.fetch),this.fetch=St(e,this._getAccessToken.bind(this),a.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},a.realtime)),this.rest=new u(`${o}/rest/v1`,{headers:this.headers,schema:a.db.schema,fetch:this.fetch}),a.accessToken||this._listenForAuthEvents()}get functions(){return new l(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ft(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return ke(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return null!==(e=null===(t=s.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null}))}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,storageKey:n,flowType:r,lock:o,debug:h},a,l){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ee({url:this.authUrl,headers:Object.assign(Object.assign({},c),a),storageKey:n,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,flowType:r,lock:o,debug:h,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Y(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((t,e)=>{this._handleTokenChanged(t,"CLIENT",null==e?void 0:e.access_token)}))}_handleTokenChanged(t,e,s){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===s?"SIGNED_OUT"===t&&(this.realtime.setAuth(),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=s}}const Ie=(t,e,s)=>new Te(t,e,s)}},a={};function l(t){var e=a[t];if(void 0!==e)return e.exports;var s=a[t]={exports:{}};return h[t].call(s.exports,s,s.exports,l),s.exports}l.m=h,t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},l.a=(n,r,o)=>{var h;o&&((h=[]).d=-1);var a,l,c,u=new Set,d=n.exports,p=new Promise(((t,e)=>{c=e,l=t}));p[e]=d,p[t]=t=>(h&&t(h),u.forEach(t),p.catch((t=>{}))),n.exports=p,r((n=>{var r;a=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[t])return n;if(n.then){var r=[];r.d=0,n.then((t=>{o[e]=t,i(r)}),(t=>{o[s]=t,i(r)}));var o={};return o[t]=t=>t(r),o}}var h={};return h[t]=t=>{},h[e]=n,h})))(n);var o=()=>a.map((t=>{if(t[s])throw t[s];return t[e]})),l=new Promise((e=>{(r=()=>e(o)).r=0;var s=t=>t!==h&&!u.has(t)&&(u.add(t),t&&!t.d&&(r.r++,t.push(r)));a.map((e=>e[t](s)))}));return r.r?l:o()}),(t=>(t?c(p[s]=t):l(d),i(h)))),h&&h.d<0&&(h.d=0)},r=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,l.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var s=Object.create(null);l.r(s);var i={};n=n||[null,r({}),r([]),r(r)];for(var o=2&e&&t;"object"==typeof o&&!~n.indexOf(o);o=r(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>t[e]));return i.default=()=>t,l.d(s,i),s},l.d=(t,e)=>{for(var s in e)l.o(e,s)&&!l.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},l.f={},l.e=t=>Promise.all(Object.keys(l.f).reduce(((e,s)=>(l.f[s](t,e),e)),[])),l.u=t=>t+".js",l.miniCssF=t=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o={},l.l=(t,e,s,i)=>{if(o[t])o[t].push(e);else{var n,r;if(void 0!==s)for(var h=document.getElementsByTagName("script"),a=0;a<h.length;a++){var c=h[a];if(c.getAttribute("src")==t){n=c;break}}n||(r=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.src=t),o[t]=[e];var u=(e,s)=>{n.onerror=n.onload=null,clearTimeout(d);var i=o[t];if(delete o[t],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((t=>t(s))),e)return e(s)},d=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),r&&document.head.appendChild(n)}},l.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;l.g.importScripts&&(t=l.g.location+"");var e=l.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var i=s.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=s[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=t})(),(()=>{var t={23:0};l.f.j=(e,s)=>{var i=l.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var n=new Promise(((s,n)=>i=t[e]=[s,n]));s.push(i[2]=n);var r=l.p+l.u(e),o=new Error;l.l(r,(s=>{if(l.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var n=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,i[1](o)}}),"chunk-"+e,e)}};var e=(e,s)=>{var i,n,[r,o,h]=s,a=0;if(r.some((e=>0!==t[e]))){for(i in o)l.o(o,i)&&(l.m[i]=o[i]);if(h)h(l)}for(e&&e(s);a<r.length;a++)n=r[a],l.o(t,n)&&t[n]&&t[n][0](),t[n]=0},s=self.webpackChunk=self.webpackChunk||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();l(2484)})();