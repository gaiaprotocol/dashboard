(()=>{"use strict";var e,t,s,n,i,r={22:()=>{new class{applyTextStroke(e,t,s){let n="";for(let e=-t;e<=t;e++)for(let i=-t;i<=t;i++)0===e&&0===i||(n+=`${e}px ${i}px 0 ${s},`);n=n.slice(0,-1),e.style({textShadow:n})}}},36:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>a});var i=s(69),r=e([i]);i=(r.then?(await r)():r)[0];class o{static INITIAL_PATH_KEY="initialPath";init(){const e=sessionStorage[o.INITIAL_PATH_KEY];e&&(i.A.goWithoutHistory(e),sessionStorage.removeItem(o.INITIAL_PATH_KEY))}}const a=new o;n()}catch(e){n(e)}}))},69:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>r});var i=s(79);window.URLPattern||await s.e(487).then(s.bind(s,487));class e extends i.QE{prefix="";routes=[];isViewOpening=!1;activeViews=[];constructor(){super(),window.addEventListener("popstate",(e=>this.updateActiveViews(e.state)))}openView(e,t){this.isViewOpening=!0;const s=new e;s.changeData(t),this.activeViews.push(s),this.isViewOpening=!1}add(e,t,s){const n=(Array.isArray(e)?e:[e]).map((e=>new URLPattern({pathname:`${this.prefix}${e}`}))),i=Array.isArray(s)?s.map((e=>new URLPattern({pathname:`${this.prefix}${e}`}))):[];this.routes.push({urlPatterns:n,excludePatterns:i,View:t});const r=n.find((e=>e.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups,o=i.find((e=>e.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups;return r&&!o&&this.openView(t,r),this}updateActiveViews(e){for(const t of this.routes){const s=this.activeViews.find((e=>e instanceof t.View)),n=t.urlPatterns.find((e=>e.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups,r=t.excludePatterns.find((e=>e.test({pathname:location.pathname})))?.exec({pathname:location.pathname})?.pathname.groups;n&&(e?Object.assign(e,n):e=n),delete e?.[0],n&&!r?s?s.changeData(e):this.openView(t.View,e):s&&(s.close(),i.lv.pull(this.activeViews,s))}}performNavigation(e,t,s){s?history.replaceState(void 0,"",`${this.prefix}${e}`):history.pushState(void 0,"",`${this.prefix}${e}`),this.emit("routeChanged",e,t),this.updateActiveViews(t),window.scrollTo(0,0)}go(e,t){location.pathname!==`${this.prefix}${e}`&&(this.isViewOpening?setTimeout((()=>this.performNavigation(e,t,!1)),0):this.performNavigation(e,t,!1))}goWithoutHistory(e,t){location.pathname!==`${this.prefix}${e}`&&(this.isViewOpening?setTimeout((()=>this.performNavigation(e,t,!0)),0):this.performNavigation(e,t,!0))}}const r=new e;n()}catch(e){n(e)}}),1)},75:()=>{new class{messages={};addMessage(e,t,s){this.messages[e]||(this.messages[e]={}),this.messages[e][t]=s}addMessages(e,t){this.messages[e]||(this.messages[e]={}),this.messages[e]={...this.messages[e],...t}}addMessagesBulk(e){for(const[t,s]of Object.entries(e))this.messages[t]||(this.messages[t]={}),this.messages[t]={...this.messages[t],...s}}getMessage(e,t){const s=this.messages[e]?.[t];return void 0===s?(console.error(`message "${t}" not exists.`),""):s}}},79:(e,t,s)=>{s.d(t,{lv:()=>r,QE:()=>n,xt:()=>i,AF:()=>o,$x:()=>a});class n{events={};on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}off(e,t){const s=this.events[e];if(!s)return this;if(t){const n=s.indexOf(t);-1!==n&&s.splice(n,1),0===s.length&&delete this.events[e]}else delete this.events[e];return this}hasEvent(e){const t=this.events[e];return!!t&&t.length>0}async emit(e,...t){const s=this.events[e];if(!s)return[];const n=[],i=[];for(const e of s){const s=e(...t);s instanceof Promise?i.push(s):n.push(s)}return n.concat(await Promise.all(i))}}class i extends n{parent;children=[];removed=!1;subscriptions=[];appendTo(e,t){if(this.removed)throw new Error("Node is removed");if(this.parent===e){const e=this.parent.children.indexOf(this);void 0!==t&&t>e&&t--,this.parent.children.splice(e,1)}else this.parent&&this.remove();return this.parent=e,void 0!==t&&t>=0&&t<e.children.length?e.children.splice(t,0,this):e.children.push(this),this}subscribe(e,t,s){return e.on(t,s),this.subscriptions.push({container:e,eventName:t,handler:s}),this}unsubscribeFromAll(){for(const e of this.subscriptions)e.container.off(e.eventName,e.handler);this.subscriptions=[]}clear(...e){let t=0;for(;this.children.length>e.length;){const s=this.children[t];e.includes(s)?t++:s.remove()}return this}remove(){if(!this.removed){if(this.removed=!0,this.unsubscribeFromAll(),this.parent){const e=this.parent.children.indexOf(this);e>-1&&this.parent.children.splice(e,1),this.parent=void 0}this.clear()}}}const r=new class{pull(e,...t){for(const s of t){const t=e.indexOf(s);-1!==t&&e.splice(t,1)}}};new class{random(e,t){return Math.floor(Math.random()*(t-e+1)+e)}};const o=new class{parseWithUndefined(e){return JSON.parse(e,((e,t)=>null===t?void 0:t))}};new class{isEqual(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(const i of s)if(!n.includes(i)||!this.isEqual(e[i],t[i]))return!1;return!0}};const a=new class{capitalize(e){return e.split(" ").map((e=>0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}isKebabCase(e){return/^[a-z]+(-[a-z]+)*$/.test(e)}formatNumberWithCommas(e,t){if(void 0===t||+ +e>Number.MAX_SAFE_INTEGER){const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===t[1]?t[0]:t.join(".")}{const s=String(+(+e).toFixed(t)).split(".");return s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),s.join(".")}}}},337:(e,t,s)=>{var n=s(590);new class{enhanceWithContextMenu(e,t){n.A.isIOS()?this.simulateContextMenuOnIOS(e,t):e.onDom("contextmenu",(e=>{e.preventDefault(),t(e)}))}simulateContextMenuOnIOS(e,t){let s;e.style({"-webkit-user-select":"none","user-select":"none"});const n=()=>{clearTimeout(s)};e.onDom("touchstart",(e=>{const n=e.touches[0],i=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,view:window,clientX:n?.clientX??0,clientY:n?.clientY??0});s=window.setTimeout((()=>t(i)),500)})).onDom("touchend",n).onDom("touchmove",n)}}},445:(e,t,s)=>{function n(e,...t){return n.impl(e,...t)}function i(e){return i.impl(e)}n.impl=(e,...t)=>{throw new Error("Not implemented")},i.impl=e=>{throw new Error("Not implemented")};var r=s(863);n.impl=function(e,...t){return new r.A(e,...t)},i.impl=e=>{const t=(new DOMParser).parseFromString(e,"text/html");return new r.A(t.body.firstChild)}},472:(e,t,s)=>{s(590),s(75)},484:(e,t,s)=>{s.a(e,(async(e,t)=>{try{var n=s(699),i=e([n]);n=(i.then?(await i)():i)[0],await(0,n.A)({isDevMode:!1}),t()}catch(e){t(e)}}),1)},551:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(79);class i{prefix;constructor(e){if(!n.$x.isKebabCase(e))throw new Error("Name must be in kebab-case format (lowercase and hyphens only).");this.prefix=`${e}/`}getStorage(e){return e?localStorage:sessionStorage}getFullKey(e){return this.prefix+e}static isQuotaExceededError(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)}setValue(e,t,s){const n=this.getStorage(s),r=this.getFullKey(e);try{n.setItem(r,JSON.stringify(t))}catch(e){if(!i.isQuotaExceededError(e))throw e;n.clear(),location.reload()}}setTemporary(e,t){this.setValue(e,t,!1)}setPermanent(e,t){this.setValue(e,t,!0)}get(e){const t=this.getFullKey(e),s=sessionStorage.getItem(t)??localStorage.getItem(t);if(null!==s)try{return n.AF.parseWithUndefined(s)}catch(e){console.error(`Failed to parse ${t}: ${s}`),console.error(e)}}getAll(){const e={},t=t=>{for(let s=0;s<t.length;s++){const i=t.key(s);if(i?.startsWith(this.prefix)){const s=t.getItem(i);if(null!==s){const t=i.slice(this.prefix.length);try{e[t]=n.AF.parseWithUndefined(s)}catch(e){console.error(`Failed to parse ${i}: ${s}`),console.error(e)}}}}};return t(sessionStorage),t(localStorage),e}isPermanent(e){return null!==localStorage.getItem(this.getFullKey(e))}remove(...e){e.forEach((e=>{const t=this.getFullKey(e);sessionStorage.removeItem(t),localStorage.removeItem(t)}))}clear(){[sessionStorage,localStorage].forEach((e=>{for(let t=e.length-1;t>=0;t--){const s=e.key(t);s?.startsWith(this.prefix)&&e.removeItem(s)}}))}}},590:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(551);const i=new class{_isAndroid;_isIOS;_isPageVisible=!document.hidden;store=new n.A("browser-info");constructor(){document.addEventListener("visibilitychange",(()=>{this._isPageVisible=!document.hidden}))}isAndroid(){return this._isAndroid??(this._isAndroid=/Android/i.test(navigator.userAgent))}isIOS(){return this._isIOS??(this._isIOS=/iPhone|iPad|iPod/i.test(navigator.userAgent))}isMobileDevice(){return this.isAndroid()||this.isIOS()}isPageVisible(){return this._isPageVisible}normalizeLanguageCode(e){const[t,s]=e.toLowerCase().split("-");return"zh"===t?"tw"===s||"hk"===s?"zh-TW":"zh-CN":t}get languageCode(){const e=this.store.get("lang");if(e)return e;const t=navigator.language||navigator.languages&&navigator.languages[0]||"en-US";return this.normalizeLanguageCode(t)}set languageCode(e){this.store.setPermanent("lang",this.normalizeLanguageCode(e))}}},624:(e,t,s)=>{var n=s(863);n.A},688:(e,t,s)=>{s.d(t,{A:()=>n});const n=new class{isDevMode;init(e){Object.assign(this,e)}}},696:()=>{new class{MAGIC_NUMBERS={GIF:[71,73,70],GRAPHIC_CONTROL_EXTENSION:[33,249,4]};DEFAULT_OPTIONS={contentType:"image/jpeg",extension:"jpg",quality:.8};readFileAsBuffer(e){return new Promise(((t,s)=>{const n=new FileReader;n.onload=()=>t(new Uint8Array(n.result)),n.onerror=()=>s(new Error("Failed to read file")),n.readAsArrayBuffer(e)}))}readFileAsDataURL(e){return new Promise(((t,s)=>{const n=new FileReader;n.onload=e=>t(e.target?.result),n.onerror=()=>s(new Error("Failed to read file")),n.readAsDataURL(e)}))}loadImage(e){return new Promise(((t,s)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>s(new Error("Failed to load image")),n.src=e}))}isGifFormat(e){return this.MAGIC_NUMBERS.GIF.every(((t,s)=>e[s]===t))}containsMultipleFrames(e){let t=0;for(let s=0;s<e.length-this.MAGIC_NUMBERS.GRAPHIC_CONTROL_EXTENSION.length;s++){if(this.MAGIC_NUMBERS.GRAPHIC_CONTROL_EXTENSION.every(((t,n)=>e[s+n]===t))&&(t++,t>1))return!0}return!1}async isAnimatedGif(e){try{const t=await this.readFileAsBuffer(e);if(!this.isGifFormat(t))throw new Error("Invalid GIF format");return this.containsMultipleFrames(t)}catch(e){throw new Error(`Failed to analyze GIF: ${e.message}`)}}calculateOptimalDimensions(e,t){const{width:s,height:n}=e,{width:i,height:r}=t;if(s<=i&&n<=r)return{width:s,height:n};const o=Math.min(i/s,r/n);return{width:Math.round(s*o),height:Math.round(n*o)}}async optimizeImageUsingCanvas(e,t){const s=document.createElement("canvas"),n=s.getContext("2d");if(!n)throw new Error("Failed to get canvas context");return s.width=t.width,s.height=t.height,n.drawImage(e,0,0,t.width,t.height),new Promise(((e,t)=>{s.toBlob((s=>{s?e(s):t(new Error("Canvas to Blob conversion failed"))}),this.DEFAULT_OPTIONS.contentType,this.DEFAULT_OPTIONS.quality)}))}async optimizeImage(e,t,s){if(!e.type.startsWith("image/"))throw new Error("The provided file is not an image.");if("image/gif"===e.type){if(await this.isAnimatedGif(e))throw new Error("Animated GIFs are not compressed.")}const n=await this.readFileAsDataURL(e),i=await this.loadImage(n),r=this.calculateOptimalDimensions({width:i.width,height:i.height},{width:t,height:s}),o=await this.optimizeImageUsingCanvas(i,r);if(o.size>=e.size)return e;const a=e.name.replace(/\.[^.]+$/,`.${this.DEFAULT_OPTIONS.extension}`);return new File([o],a,{type:this.DEFAULT_OPTIONS.contentType})}}},699:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{A:()=>a});var i=s(988),r=s(688),o=e([i]);async function a(e){r.A.init(e),i.Pe.init()}i=(o.then?(await o)():o)[0],n()}catch(l){n(l)}}))},711:(e,t,s)=>{var n=s(863);class i extends n.A{constructor(){super(document.body)}}new i},808:(e,t,s)=>{var n=s(79);n.QE},863:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(79);class i extends n.xt{listeners=[];onWindow(e,t,s){const n=e=>{t.call(this,e)};return window.addEventListener(e,n,s),this.listeners.push({type:e,listener:n,options:s,originalListener:t}),this}offWindow(e,t,s){const n=this.listeners.findIndex((s=>s.type===e&&s.originalListener===t));if(-1!==n){const{listener:t}=this.listeners[n];window.removeEventListener(e,t,s),this.listeners.splice(n,1)}return this}remove(){this.listeners.forEach((({type:e,listener:t,options:s})=>window.removeEventListener(e,t,s))),this.listeners=[],super.remove()}}class r extends i{htmlElement;constructor(e,...t){super(),this.htmlElement=e instanceof Element?e:function(e){const t=(e||"div").split(/([#.])/),s=t[0]||"div",n=document.createElement(s);let i="";for(let e=1;e<t.length;e+=2){i=t[e];const s=t[e+1];"#"===i?n.id=s:"."===i&&n.classList.add(s)}return n}(e??""),this.append(...t)}prependText(e){if(this.htmlElement instanceof HTMLTextAreaElement)this.htmlElement.value=e+this.htmlElement.value;else{const t=document.createDocumentFragment();e.split("\n").forEach(((e,s)=>{s>0&&t.appendChild(document.createElement("br")),t.appendChild(document.createTextNode(e))})),this.htmlElement.prepend(t)}return this}appendText(e){if(this.htmlElement instanceof HTMLTextAreaElement)this.htmlElement.value+=e;else{const t=document.createDocumentFragment();e.split("\n").forEach(((e,s)=>{s>0&&t.appendChild(document.createElement("br")),t.appendChild(document.createTextNode(e))})),this.htmlElement.appendChild(t)}return this}prepend(...e){for(const t of e)void 0!==t&&(t instanceof r?t.appendTo(this,0):"string"==typeof t?this.prependText(t):(Object.assign(this.htmlElement,t),t.style&&this.style(t.style)));return this}append(...e){for(const t of e)void 0!==t&&(t instanceof r?t.appendTo(this):"string"==typeof t?this.appendText(t):(Object.assign(this.htmlElement,t),t.style&&this.style(t.style)));return this}isVisible(){return!!this.parent&&(this.parent.isVisible()||this.parent.htmlElement===document.body)}notifyVisibility(){this.emit("visible"),this.children.forEach((e=>e.notifyVisibility()))}appendTo(e,t){if(void 0===t||t>=e.htmlElement.childNodes.length)e.htmlElement.appendChild(this.htmlElement);else{const s=e.htmlElement.childNodes[t];e.htmlElement.insertBefore(this.htmlElement,s)}return super.appendTo(e,t),this.isVisible()&&this.notifyVisibility(),this}clear(...e){return super.clear(...e),0===this.children.length&&(this.htmlElement.innerHTML=""),this}remove(){this.removed||(this.emit("remove"),this.htmlElement.remove(),super.remove())}set text(e){this.clear(),e&&this.appendText(e)}get text(){return this.htmlElement.textContent??""}addClass(...e){return this.htmlElement.classList.add(...e),this}hasClass(e){return this.htmlElement.classList.contains(e)}removeClass(...e){return this.htmlElement.classList.remove(...e),this}style(e){return"string"==typeof e?this.htmlElement.style.getPropertyValue(e):(Object.assign(this.htmlElement.style,e),this)}onDom(e,t,s){return this.htmlElement.addEventListener(e,t,s),this}offDom(e,t,s){return this.htmlElement.removeEventListener(e,t,s),this}calculateRect(){return this.htmlElement.getBoundingClientRect()}clone(){return new r(this.htmlElement.cloneNode(!0))}}},988:(e,t,s)=>{s.a(e,(async(e,n)=>{try{s.d(t,{Pe:()=>r.A});s(711),s(863),s(445),s(624),s(75),s(472);var i=s(69),r=s(36),o=(s(551),s(590),s(337),s(696),s(22),s(808),e([i,r]));[i,r]=o.then?(await o)():o,n()}catch(e){n(e)}}))}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={exports:{}};return r[e](s,s.exports,a),s.exports}a.m=r,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(i,r,o)=>{var a;o&&((a=[]).d=-1);var l,h,c,d=new Set,m=i.exports,u=new Promise(((e,t)=>{c=t,h=e}));u[t]=m,u[e]=e=>(a&&e(a),d.forEach(e),u.catch((e=>{}))),i.exports=u,r((i=>{var r;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var r=[];r.d=0,i.then((e=>{o[t]=e,n(r)}),(e=>{o[s]=e,n(r)}));var o={};return o[e]=e=>e(r),o}}var a={};return a[e]=e=>{},a[t]=i,a})))(i);var o=()=>l.map((e=>{if(e[s])throw e[s];return e[t]})),h=new Promise((t=>{(r=()=>t(o)).r=0;var s=e=>e!==a&&!d.has(e)&&(d.add(e),e&&!e.d&&(r.r++,e.push(r)));l.map((t=>t[e](s)))}));return r.r?h:o()}),(e=>(e?c(u[s]=e):h(m),n(a)))),a&&a.d<0&&(a.d=0)},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,s)=>(a.f[s](e,t),t)),[])),a.u=e=>e+".js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},a.l=(e,t,s,n)=>{if(i[e])i[e].push(t);else{var r,o;if(void 0!==s)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var c=l[h];if(c.getAttribute("src")==e){r=c;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.src=e),i[e]=[t];var d=(t,s)=>{r.onerror=r.onload=null,clearTimeout(m);var n=i[e];if(delete i[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(s))),t)return t(s)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),o&&document.head.appendChild(r)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var n=s.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=s[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={23:0};a.f.j=(t,s)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var i=new Promise(((s,i)=>n=e[t]=[s,i]));s.push(n[2]=i);var r=a.p+a.u(t),o=new Error;a.l(r,(s=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",o.name="ChunkLoadError",o.type=i,o.request=r,n[1](o)}}),"chunk-"+t,t)}};var t=(t,s)=>{var n,i,[r,o,l]=s,h=0;if(r.some((t=>0!==e[t]))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(l)l(a)}for(t&&t(s);h<r.length;h++)i=r[h],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},s=self.webpackChunk=self.webpackChunk||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();a(484)})();